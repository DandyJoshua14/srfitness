{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 215, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/ai/genkit.ts"],"sourcesContent":["import {genkit} from 'genkit';\nimport {googleAI} from '@genkit-ai/googleai';\n\nexport const ai = genkit({\n  plugins: [googleAI()],\n  model: 'googleai/gemini-2.0-flash',\n});\n"],"names":[],"mappings":";;;AAAA;AAAA;AACA;AAAA;;;AAEO,MAAM,KAAK,CAAA,GAAA,uIAAA,CAAA,SAAM,AAAD,EAAE;IACvB,SAAS;QAAC,CAAA,GAAA,2KAAA,CAAA,WAAQ,AAAD;KAAI;IACrB,OAAO;AACT","debugId":null}},
    {"offset": {"line": 236, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/ai/flows/generate-voice-response-flow.ts"],"sourcesContent":["\n'use server';\n/**\n * @fileOverview A voice agent flow that responds to user queries and can navigate the site.\n *\n * - generateVoiceResponse - A function that handles the voice agent's response generation.\n * - VoiceAgentInput - The input type for the voice agent.\n * - VoiceAgentOutput - The return type for the voice agent, now including an optional navigation path.\n */\n\nimport { ai } from '@/ai/genkit';\nimport { z } from 'genkit';\n\nconst VoiceAgentInputSchema = z.object({\n  query: z.string().describe(\"The user's spoken query, transcribed to text.\"),\n});\nexport type VoiceAgentInput = z.infer<typeof VoiceAgentInputSchema>;\n\nconst VoiceAgentOutputSchema = z.object({\n  response: z.string().describe(\"The AI's text response to be spoken back to the user.\"),\n  navigationPath: z.string().nullable().optional().describe(\"An optional path to navigate to on the website (e.g., '/awards', '/meal-planner'). Should be null or omitted if no navigation is required.\"),\n});\nexport type VoiceAgentOutput = z.infer<typeof VoiceAgentOutputSchema>;\n\n// Define valid navigation paths\nconst validPaths = [\n    '/', '/personal-training', '/burn-off-bootcamp', '/awards', \n    '/lifestyle-magazine', '/public-speaking', '/equipment-services', '/#contact',\n    '/meal-planner', '/smart-mirror', '/global-connect', '/community', '/profile', \n    '/privacy-policy', '/terms-of-service'\n] as const;\n\n// Define the navigation tool\nconst navigateToPage = ai.defineTool(\n    {\n      name: 'navigateToPage',\n      description: 'Use this tool to navigate the user to a specific page on the SR Fitness website when they ask to go somewhere. Use it for requests like \"go to\", \"take me to\", \"open\", \"show me\", etc.',\n      inputSchema: z.object({\n        path: z.enum(validPaths).describe(\"The page path to navigate to.\"),\n        pageName: z.string().describe(\"The friendly name of the page for confirmation message, e.g., 'the awards page', 'your profile'.\")\n      }),\n      outputSchema: z.string(),\n    },\n    async ({ path }) => `Navigating to ${path}`\n);\n\n\nexport async function generateVoiceResponse(input: VoiceAgentInput): Promise<VoiceAgentOutput> {\n  return generateVoiceResponseFlow(input);\n}\n\nconst prompt = ai.definePrompt({\n  name: 'voiceAgentPrompt',\n  input: { schema: VoiceAgentInputSchema },\n  output: { schema: VoiceAgentOutputSchema },\n  tools: [navigateToPage],\n  prompt: `You are Ninna, a friendly and helpful voice assistant for the SR Fitness application.\n  Your role is to answer user questions about fitness, nutrition, our services, or general inquiries.\n  If the user asks to navigate to a page, you MUST use the navigateToPage tool.\n  Be conversational, encouraging, and keep your answers concise and clear, as they will be spoken aloud.\n  If you don't know an answer, say so politely.\n\n  User query: {{{query}}}\n  `,\n});\n\nconst generateVoiceResponseFlow = ai.defineFlow(\n  {\n    name: 'generateVoiceResponseFlow',\n    inputSchema: VoiceAgentInputSchema,\n    outputSchema: VoiceAgentOutputSchema,\n  },\n  async (input) => {\n    const response = await prompt(input);\n\n    const toolCalls = response.toolCalls;\n    if (toolCalls && toolCalls.length > 0) {\n        const navigateCall = toolCalls.find(call => call.tool === 'navigateToPage');\n        if (navigateCall) {\n            const { path, pageName } = navigateCall.input as { path: string; pageName: string };\n            return {\n                response: `Of course, taking you to ${pageName} now.`,\n                navigationPath: path,\n            };\n        }\n    }\n    \n    // If no navigation tool was called, the LLM should have generated a structured response.\n    const output = response.output;\n    if (!output) {\n      return { response: \"I'm sorry, I had a problem thinking of a response. Please try again.\", navigationPath: null };\n    }\n    \n    // The `output` is already a valid `VoiceAgentOutput` object due to the prompt's schema validation.\n    return output;\n  }\n);\n"],"names":[],"mappings":";;;;;AAEA;;;;;;CAMC,GAED;AACA;AAAA;;;;;;AAEA,MAAM,wBAAwB,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IACrC,OAAO,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;AAC7B;AAGA,MAAM,yBAAyB,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IACtC,UAAU,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;IAC9B,gBAAgB,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,GAAG,QAAQ,GAAG,QAAQ,CAAC;AAC5D;AAGA,gCAAgC;AAChC,MAAM,aAAa;IACf;IAAK;IAAsB;IAAsB;IACjD;IAAuB;IAAoB;IAAuB;IAClE;IAAiB;IAAiB;IAAmB;IAAc;IACnE;IAAmB;CACtB;AAED,6BAA6B;AAC7B,MAAM,iBAAiB,mHAAA,CAAA,KAAE,CAAC,UAAU,CAChC;IACE,MAAM;IACN,aAAa;IACb,aAAa,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;QACpB,MAAM,uIAAA,CAAA,IAAC,CAAC,IAAI,CAAC,YAAY,QAAQ,CAAC;QAClC,UAAU,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;IAChC;IACA,cAAc,uIAAA,CAAA,IAAC,CAAC,MAAM;AACxB,GACA,OAAO,EAAE,IAAI,EAAE,GAAK,CAAC,cAAc,EAAE,MAAM;AAIxC,eAAe,sBAAsB,KAAsB;IAChE,OAAO,0BAA0B;AACnC;AAEA,MAAM,SAAS,mHAAA,CAAA,KAAE,CAAC,YAAY,CAAC;IAC7B,MAAM;IACN,OAAO;QAAE,QAAQ;IAAsB;IACvC,QAAQ;QAAE,QAAQ;IAAuB;IACzC,OAAO;QAAC;KAAe;IACvB,QAAQ,CAAC;;;;;;;EAOT,CAAC;AACH;AAEA,MAAM,4BAA4B,mHAAA,CAAA,KAAE,CAAC,UAAU,CAC7C;IACE,MAAM;IACN,aAAa;IACb,cAAc;AAChB,GACA,OAAO;IACL,MAAM,WAAW,MAAM,OAAO;IAE9B,MAAM,YAAY,SAAS,SAAS;IACpC,IAAI,aAAa,UAAU,MAAM,GAAG,GAAG;QACnC,MAAM,eAAe,UAAU,IAAI,CAAC,CAAA,OAAQ,KAAK,IAAI,KAAK;QAC1D,IAAI,cAAc;YACd,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,aAAa,KAAK;YAC7C,OAAO;gBACH,UAAU,CAAC,yBAAyB,EAAE,SAAS,KAAK,CAAC;gBACrD,gBAAgB;YACpB;QACJ;IACJ;IAEA,yFAAyF;IACzF,MAAM,SAAS,SAAS,MAAM;IAC9B,IAAI,CAAC,QAAQ;QACX,OAAO;YAAE,UAAU;YAAwE,gBAAgB;QAAK;IAClH;IAEA,mGAAmG;IACnG,OAAO;AACT;;;IAhDoB;;AAAA,+OAAA","debugId":null}},
    {"offset": {"line": 352, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/ai/flows/analyze-exercise-form-flow.ts"],"sourcesContent":["\n'use server';\n/**\n * @fileOverview Analyzes user's exercise form from an image and provides feedback.\n *\n * - analyzeExerciseForm - A function that calls the exercise form analysis flow.\n * - AnalyzeExerciseFormInput - The input type for the form analysis.\n * - AnalyzeExerciseFormOutput - The return type (feedback items and assessment).\n */\n\nimport { ai } from '@/ai/genkit';\nimport { z } from 'genkit';\n\n// Define input schema for the exercise form analysis\nconst AnalyzeExerciseFormInputSchema = z.object({\n  imageDataUri: z\n    .string()\n    .describe(\n      \"A still image of the user performing an exercise, as a data URI. Expected format: 'data:<mimetype>;base64,<encoded_data>'.\"\n    ),\n  exerciseName: z.string().optional().describe('The name of the exercise being performed (e.g., Squat, Push-up, Lunge).'),\n});\nexport type AnalyzeExerciseFormInput = z.infer<typeof AnalyzeExerciseFormInputSchema>;\n\n// Define output schema for the form analysis feedback\nconst AnalyzeExerciseFormOutputSchema = z.object({\n  feedbackItems: z.array(z.string()).describe(\"Specific, actionable feedback points to correct the user's form. Each item should be a concise suggestion.\"),\n  overallAssessment: z.string().optional().describe(\"A brief overall assessment of the user's form (e.g., Good, Needs Improvement, Pay attention to...).\"),\n  isFormCorrect: z.boolean().optional().describe(\"A boolean indicating if the overall form is considered correct or if there are significant issues.\"),\n});\nexport type AnalyzeExerciseFormOutput = z.infer<typeof AnalyzeExerciseFormOutputSchema>;\n\n// This is the exported function React components will call.\nexport async function analyzeExerciseForm(input: AnalyzeExerciseFormInput): Promise<AnalyzeExerciseFormOutput> {\n  console.log('analyzeExerciseForm called with input for exercise:', input.exerciseName);\n  return analyzeExerciseFormFlow(input);\n}\n\n// Define the Genkit prompt\nconst exerciseFormPrompt = ai.definePrompt({\n  name: 'exerciseFormPrompt',\n  input: { schema: AnalyzeExerciseFormInputSchema },\n  output: { schema: AnalyzeExerciseFormOutputSchema },\n  prompt: `You are an expert fitness coach specializing in exercise form analysis.\nAnalyze the provided image of a user performing an exercise.\n{{#if exerciseName}}\nThe user states they are performing: {{exerciseName}}. Focus your analysis on the correctness of this specific exercise.\n{{else}}\nThe user has not specified the exercise. Attempt to identify the exercise if possible, or provide general postural feedback.\n{{/if}}\n\nBased on the image, provide:\n1.  'feedbackItems': An array of specific, actionable suggestions to improve their form. Be concise and clear. If the form is good for a particular aspect, you can state that too (e.g., \"Good spinal alignment.\").\n2.  'overallAssessment': A brief summary statement about the overall form.\n3.  'isFormCorrect': A boolean indicating if the form is generally correct (true) or has notable issues needing correction (false).\n\nFocus on common mistakes and critical safety aspects of the exercise form. If the image quality is too poor or the person is not visible enough to make a proper assessment, indicate this in the overallAssessment and provide an empty feedbackItems array.\n\nUser's Exercise Image:\n{{media url=imageDataUri}}\n`,\n});\n\n// Define the Genkit flow\nconst analyzeExerciseFormFlow = ai.defineFlow(\n  {\n    name: 'analyzeExerciseFormFlow',\n    inputSchema: AnalyzeExerciseFormInputSchema,\n    outputSchema: AnalyzeExerciseFormOutputSchema,\n  },\n  async (input) => {\n    const { output } = await exerciseFormPrompt(input);\n    if (!output) {\n      // Consider returning a default error structure if the AI fails to respond\n      return {\n        feedbackItems: [\"AI analysis failed to generate feedback. Please try again.\"],\n        overallAssessment: \"Error: No output from AI.\",\n        isFormCorrect: false,\n      };\n    }\n    // If AI might return partial output, ensure all fields are present or defaulted\n    return {\n      feedbackItems: output.feedbackItems || [],\n      overallAssessment: output.overallAssessment || \"Assessment not provided.\",\n      isFormCorrect: typeof output.isFormCorrect === 'boolean' ? output.isFormCorrect : false,\n    };\n  }\n);\n"],"names":[],"mappings":";;;;;AAEA;;;;;;CAMC,GAED;AACA;AAAA;;;;;;AAEA,qDAAqD;AACrD,MAAM,iCAAiC,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IAC9C,cAAc,uIAAA,CAAA,IAAC,CACZ,MAAM,GACN,QAAQ,CACP;IAEJ,cAAc,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,GAAG,QAAQ,CAAC;AAC/C;AAGA,sDAAsD;AACtD,MAAM,kCAAkC,uIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IAC/C,eAAe,uIAAA,CAAA,IAAC,CAAC,KAAK,CAAC,uIAAA,CAAA,IAAC,CAAC,MAAM,IAAI,QAAQ,CAAC;IAC5C,mBAAmB,uIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,GAAG,QAAQ,CAAC;IAClD,eAAe,uIAAA,CAAA,IAAC,CAAC,OAAO,GAAG,QAAQ,GAAG,QAAQ,CAAC;AACjD;AAIO,eAAe,oBAAoB,KAA+B;IACvE,QAAQ,GAAG,CAAC,uDAAuD,MAAM,YAAY;IACrF,OAAO,wBAAwB;AACjC;AAEA,2BAA2B;AAC3B,MAAM,qBAAqB,mHAAA,CAAA,KAAE,CAAC,YAAY,CAAC;IACzC,MAAM;IACN,OAAO;QAAE,QAAQ;IAA+B;IAChD,QAAQ;QAAE,QAAQ;IAAgC;IAClD,QAAQ,CAAC;;;;;;;;;;;;;;;;;AAiBX,CAAC;AACD;AAEA,yBAAyB;AACzB,MAAM,0BAA0B,mHAAA,CAAA,KAAE,CAAC,UAAU,CAC3C;IACE,MAAM;IACN,aAAa;IACb,cAAc;AAChB,GACA,OAAO;IACL,MAAM,EAAE,MAAM,EAAE,GAAG,MAAM,mBAAmB;IAC5C,IAAI,CAAC,QAAQ;QACX,0EAA0E;QAC1E,OAAO;YACL,eAAe;gBAAC;aAA6D;YAC7E,mBAAmB;YACnB,eAAe;QACjB;IACF;IACA,gFAAgF;IAChF,OAAO;QACL,eAAe,OAAO,aAAa,IAAI,EAAE;QACzC,mBAAmB,OAAO,iBAAiB,IAAI;QAC/C,eAAe,OAAO,OAAO,aAAa,KAAK,YAAY,OAAO,aAAa,GAAG;IACpF;AACF;;;IArDoB;;AAAA,+OAAA","debugId":null}},
    {"offset": {"line": 449, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/.next-internal/server/app/smart-mirror/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {generateVoiceResponse as '40d4ef3f17cac6671f3ce0fae5b2a708376fff0fbf'} from 'ACTIONS_MODULE0'\nexport {analyzeExerciseForm as '408f81d6cdd4e89f4e0b02ab0b3e7cbb8cead04c08'} from 'ACTIONS_MODULE1'\n"],"names":[],"mappings":";AAAA;AACA","debugId":null}},
    {"offset": {"line": 507, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/features/smart-mirror/smart-mirror-client.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/features/smart-mirror/smart-mirror-client.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/features/smart-mirror/smart-mirror-client.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAgU,GAC7V,8FACA","debugId":null}},
    {"offset": {"line": 521, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/features/smart-mirror/smart-mirror-client.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/features/smart-mirror/smart-mirror-client.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/features/smart-mirror/smart-mirror-client.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAA4S,GACzU,0EACA","debugId":null}},
    {"offset": {"line": 535, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 545, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/smart-mirror/page.tsx"],"sourcesContent":["\nimport type { Metadata } from 'next';\nimport SmartMirrorClient from '@/components/features/smart-mirror/smart-mirror-client';\nimport { ScanLine } from 'lucide-react';\n\nexport const metadata: Metadata = {\n  title: 'Smart Mirror Form Analysis - SR Fitness',\n  description: 'Get real-time feedback on your exercise form using our AI-powered Smart Mirror.',\n};\n\nexport default function SmartMirrorPage() {\n  return (\n    <div className=\"container mx-auto px-4 sm:px-6 lg:px-8 py-16 md:py-24\">\n      <div className=\"text-center mb-12 md:mb-16\">\n        <ScanLine className=\"h-16 w-16 text-primary mx-auto mb-4\" />\n        <h1 className=\"font-headline text-4xl sm:text-5xl md:text-6xl font-bold text-primary mb-4\">\n          Smart Mirror Form Analysis\n        </h1>\n        <p className=\"text-lg sm:text-xl text-muted-foreground max-w-3xl mx-auto\">\n          Perfect your technique with AI-driven real-time feedback. Allow camera access to begin.\n        </p>\n      </div>\n      <SmartMirrorClient />\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;;AAEO,MAAM,WAAqB;IAChC,OAAO;IACP,aAAa;AACf;AAEe,SAAS;IACtB,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,8MAAA,CAAA,WAAQ;wBAAC,WAAU;;;;;;kCACpB,8OAAC;wBAAG,WAAU;kCAA6E;;;;;;kCAG3F,8OAAC;wBAAE,WAAU;kCAA6D;;;;;;;;;;;;0BAI5E,8OAAC,8KAAA,CAAA,UAAiB;;;;;;;;;;;AAGxB","debugId":null}}]
}