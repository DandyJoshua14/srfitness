module.exports = {

"[project]/src/components/ui/card.tsx [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "Card": (()=>Card),
    "CardContent": (()=>CardContent),
    "CardDescription": (()=>CardDescription),
    "CardFooter": (()=>CardFooter),
    "CardHeader": (()=>CardHeader),
    "CardTitle": (()=>CardTitle)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/lib/utils.ts [app-ssr] (ecmascript)");
;
;
;
const Card = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["forwardRef"])(({ className, ...props }, ref)=>/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        ref: ref,
        className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["cn"])("rounded-lg border bg-card text-card-foreground shadow-sm", className),
        ...props
    }, void 0, false, {
        fileName: "[project]/src/components/ui/card.tsx",
        lineNumber: 9,
        columnNumber: 3
    }, this));
Card.displayName = "Card";
const CardHeader = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["forwardRef"])(({ className, ...props }, ref)=>/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        ref: ref,
        className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["cn"])("flex flex-col space-y-1.5 p-6", className),
        ...props
    }, void 0, false, {
        fileName: "[project]/src/components/ui/card.tsx",
        lineNumber: 24,
        columnNumber: 3
    }, this));
CardHeader.displayName = "CardHeader";
const CardTitle = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["forwardRef"])(({ className, ...props }, ref)=>/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("h3", {
        ref: ref,
        className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["cn"])("text-2xl font-semibold leading-none tracking-tight", className),
        ...props
    }, void 0, false, {
        fileName: "[project]/src/components/ui/card.tsx",
        lineNumber: 36,
        columnNumber: 3
    }, this));
CardTitle.displayName = "CardTitle";
const CardDescription = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["forwardRef"])(({ className, ...props }, ref)=>/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
        ref: ref,
        className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["cn"])("text-sm text-muted-foreground", className),
        ...props
    }, void 0, false, {
        fileName: "[project]/src/components/ui/card.tsx",
        lineNumber: 51,
        columnNumber: 3
    }, this));
CardDescription.displayName = "CardDescription";
const CardContent = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["forwardRef"])(({ className, ...props }, ref)=>/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        ref: ref,
        className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["cn"])("p-6 pt-0", className),
        ...props
    }, void 0, false, {
        fileName: "[project]/src/components/ui/card.tsx",
        lineNumber: 63,
        columnNumber: 3
    }, this));
CardContent.displayName = "CardContent";
const CardFooter = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["forwardRef"])(({ className, ...props }, ref)=>/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        ref: ref,
        className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["cn"])("flex items-center p-6 pt-0", className),
        ...props
    }, void 0, false, {
        fileName: "[project]/src/components/ui/card.tsx",
        lineNumber: 71,
        columnNumber: 3
    }, this));
CardFooter.displayName = "CardFooter";
;
}}),
"[project]/src/app/data:238600 [app-ssr] (ecmascript) <text/javascript>": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
/* __next_internal_action_entry_do_not_use__ [{"409e17d3448e2801a2f227626adea45bdd89b5bfa6":"createWemaAlatPayment"},"src/app/actions.ts",""] */ __turbopack_context__.s({
    "createWemaAlatPayment": (()=>createWemaAlatPayment)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-ssr] (ecmascript)");
"use turbopack no side effects";
;
var createWemaAlatPayment = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["createServerReference"])("409e17d3448e2801a2f227626adea45bdd89b5bfa6", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["findSourceMapURL"], "createWemaAlatPayment"); //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vYWN0aW9ucy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJcbid1c2Ugc2VydmVyJztcblxuaW1wb3J0IHsgeiB9IGZyb20gJ3pvZCc7XG5pbXBvcnQgeyBhZGRWb3RlLCBhZGROb21pbmF0aW9uIH0gZnJvbSAnQC9zZXJ2aWNlcy9maXJlc3RvcmUnO1xuaW1wb3J0IHsgUmVzZW5kIH0gZnJvbSAncmVzZW5kJztcbmltcG9ydCB7IHJlZGlyZWN0IH0gZnJvbSAnbmV4dC9uYXZpZ2F0aW9uJztcblxuLy8gRXhwbGljaXRseSByZWFkIGVudmlyb25tZW50IHZhcmlhYmxlcyBhdCB0aGUgdG9wIGxldmVsXG5jb25zdCBXRU1BX0FMQVRfU1VCU0NSSVBUSU9OX0tFWSA9IHByb2Nlc3MuZW52LldFTUFfQUxBVF9TVUJTQ1JJUFRJT05fS0VZO1xuY29uc3QgV0VNQV9BTEFUX1NPVVJDRV9BQ0NPVU5UID0gcHJvY2Vzcy5lbnYuV0VNQV9BTEFUX1NPVVJDRV9BQ0NPVU5UO1xuY29uc3QgV0VNQV9BTEFUX0NIQU5ORUxfSUQgPSBwcm9jZXNzLmVudi5XRU1BX0FMQVRfQ0hBTk5FTF9JRDtcbmNvbnN0IE5FWFRfUFVCTElDX0JBU0VfVVJMID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFTRV9VUkwgfHwgJ2h0dHA6Ly9sb2NhbGhvc3Q6OTAwMic7XG5jb25zdCBSRVNFTkRfQVBJX0tFWSA9IHByb2Nlc3MuZW52LlJFU0VORF9BUElfS0VZO1xuY29uc3QgUEFZU1RBQ0tfU0VDUkVUX0tFWSA9IHByb2Nlc3MuZW52LlBBWVNUQUNLX1NFQ1JFVF9LRVk7XG5jb25zdCBaQVBJRVJfVk9URV9XRUJIT09LX1VSTCA9IHByb2Nlc3MuZW52LlpBUElFUl9WT1RFX1dFQkhPT0tfVVJMO1xuXG5jb25zdCBub21pbmF0aW9uRm9ybVNjaGVtYSA9IHoub2JqZWN0KHtcbiAgY2F0ZWdvcnk6IHouc3RyaW5nKCksXG4gIG5vbWluZWVOYW1lOiB6LnN0cmluZygpLFxuICBub21pbmVlUGhvbmU6IHouc3RyaW5nKCksXG4gIG5vbWluYXRpb25SZWFzb246IHouc3RyaW5nKCksXG4gIG5vbWluYXRvck5hbWU6IHouc3RyaW5nKCksXG4gIG5vbWluYXRvclBob25lOiB6LnN0cmluZygpLFxufSk7XG5cbmNvbnN0IHZvdGVTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIGNvbnRlc3RhbnRJZDogei5zdHJpbmcoKSxcbiAgY29udGVzdGFudE5hbWU6IHouc3RyaW5nKCksXG4gIGNvbnRlc3RhbnRDYXRlZ29yeTogei5zdHJpbmcoKSxcbiAgbnVtYmVyT2ZWb3Rlczogei5udW1iZXIoKS5pbnQoKS5wb3NpdGl2ZSgpLFxufSk7XG5cbmNvbnN0IHdlbWFQYXltZW50U3RhdHVzU2NoZW1hID0gei5vYmplY3Qoe1xuICBjaGFubmVsSWQ6IHouc3RyaW5nKCksXG4gIHRyYW5zYWN0aW9uUmVmZXJlbmNlOiB6LnN0cmluZygpLFxufSk7XG5cbmNvbnN0IHdlbWFQYXltZW50UmVxdWVzdFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgYW1vdW50OiB6Lm51bWJlcigpLFxuICBjb250ZXN0YW50SWQ6IHouc3RyaW5nKCksXG4gIGNvbnRlc3RhbnROYW1lOiB6LnN0cmluZygpLFxuICBjb250ZXN0YW50Q2F0ZWdvcnk6IHouc3RyaW5nKCksXG4gIG51bWJlck9mVm90ZXM6IHoubnVtYmVyKCksXG59KTtcblxuY29uc3Qgd2VtYVBheW1lbnRWYWxpZGF0aW9uU2NoZW1hID0gei5vYmplY3Qoe1xuICBjaGFubmVsSWQ6IHouc3RyaW5nKCksXG4gIHRyYW5zYWN0aW9uUmVmZXJlbmNlOiB6LnN0cmluZygpLFxuICBwbGF0Zm9ybVRyYW5zYWN0aW9uUmVmZXJlbmNlOiB6LnN0cmluZygpLFxuICBvdHA6IHouc3RyaW5nKCksXG4gIC8vIFBhc3MgYWxvbmcgdm90ZSBkYXRhIGZvciByZWNvcmRpbmdcbiAgY29udGVzdGFudElkOiB6LnN0cmluZygpLFxuICBjb250ZXN0YW50TmFtZTogei5zdHJpbmcoKSxcbiAgY29udGVzdGFudENhdGVnb3J5OiB6LnN0cmluZygpLFxuICBudW1iZXJPZlZvdGVzOiB6Lm51bWJlcigpLFxufSk7XG5cbmNvbnN0IHJlbWl0YVBheW1lbnRSZXF1ZXN0U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIGFtb3VudDogei5udW1iZXIoKSxcbiAgICBjaGFyZ2U6IHoubnVtYmVyKCksXG4gICAgdHJhbnNhY3Rpb25SZWZlcmVuY2U6IHouc3RyaW5nKCksXG4gICAgY3VzdG9tZXJFbWFpbDogei5zdHJpbmcoKS5lbWFpbCgpLFxuICAgIGN1c3RvbWVyTmFtZTogei5zdHJpbmcoKSxcbiAgICBjdXN0b21lclBob25lTnVtYmVyOiB6LnN0cmluZygpLFxuICAgIGRlc2NyaXB0aW9uOiB6LnN0cmluZygpLFxuICAgIC8vIFBhc3MgYWxvbmcgdm90ZSBkYXRhIGZvciByZWNvcmRpbmdcbiAgICBjb250ZXN0YW50SWQ6IHouc3RyaW5nKCksXG4gICAgY29udGVzdGFudE5hbWU6IHouc3RyaW5nKCksXG4gICAgY29udGVzdGFudENhdGVnb3J5OiB6LnN0cmluZygpLFxuICAgIG51bWJlck9mVm90ZXM6IHoubnVtYmVyKCksXG59KTtcblxuY29uc3QgcmVtaXRhUmVjZWlwdFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgcnJyOiB6LnN0cmluZygpLFxufSk7XG5cbmNvbnN0IHJlbWl0YVJyclZhbGlkYXRpb25TY2hlbWEgPSB6Lm9iamVjdCh7XG4gIHJycjogei5zdHJpbmcoKSxcbiAgY2hhbm5lbElkOiB6LnN0cmluZygpLFxufSk7XG5cbmNvbnN0IHBheXN0YWNrUGF5bWVudFJlcXVlc3RTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIGVtYWlsOiB6LnN0cmluZygpLmVtYWlsKCksXG4gIGFtb3VudDogei5udW1iZXIoKSxcbiAgbWV0YWRhdGE6IHoub2JqZWN0KHtcbiAgICBjb250ZXN0YW50SWQ6IHouc3RyaW5nKCksXG4gICAgY29udGVzdGFudE5hbWU6IHouc3RyaW5nKCksXG4gICAgY29udGVzdGFudENhdGVnb3J5OiB6LnN0cmluZygpLFxuICAgIG51bWJlck9mVm90ZXM6IHoubnVtYmVyKCksXG4gIH0pLFxufSk7XG5cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlbmROb21pbmF0aW9uRW1haWwoZm9ybURhdGE6IHouaW5mZXI8dHlwZW9mIG5vbWluYXRpb25Gb3JtU2NoZW1hPikge1xuICBjb25zdCB2YWxpZGF0ZWRGaWVsZHMgPSBub21pbmF0aW9uRm9ybVNjaGVtYS5zYWZlUGFyc2UoZm9ybURhdGEpO1xuXG4gIGlmICghdmFsaWRhdGVkRmllbGRzLnN1Y2Nlc3MpIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdJbnZhbGlkIGZvcm0gZGF0YS4nIH07XG4gIH1cbiAgXG4gIHRyeSB7XG4gICAgY29uc3QgeyBjYXRlZ29yeSwgbm9taW5lZU5hbWUsIG5vbWluZWVQaG9uZSwgbm9taW5hdGlvblJlYXNvbiwgbm9taW5hdG9yTmFtZSwgbm9taW5hdG9yUGhvbmUgfSA9IHZhbGlkYXRlZEZpZWxkcy5kYXRhO1xuXG4gICAgLy8gMS4gQXR0ZW1wdCB0byBzZW5kIGVtYWlsXG4gICAgaWYgKFJFU0VORF9BUElfS0VZKSB7XG4gICAgICBjb25zdCByZXNlbmQgPSBuZXcgUmVzZW5kKFJFU0VORF9BUElfS0VZKTtcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHJlc2VuZC5lbWFpbHMuc2VuZCh7XG4gICAgICAgIGZyb206ICdTUiBGaXRuZXNzIEF3YXJkcyA8bm9yZXBseUBzcmZpdG5lc3MuY29tLm5nPicsXG4gICAgICAgIHRvOiBbJ3NhbXBzb24wN0BvdXRsb29rLmNvbScsICdzcmZpdG5lc3MyNDdAZ21haWwuY29tJ10sXG4gICAgICAgIHN1YmplY3Q6ICdOZXcgQXdhcmQgTm9taW5hdGlvbiBSZWNlaXZlZCEnLFxuICAgICAgICBodG1sOiBgXG4gICAgICAgICAgICA8aDE+TmV3IFNSIEZpdG5lc3MgQXdhcmQgTm9taW5hdGlvbjwvaDE+XG4gICAgICAgICAgICA8cD5BIG5ldyBub21pbmF0aW9uIGhhcyBiZWVuIHN1Ym1pdHRlZC4gSGVyZSBhcmUgdGhlIGRldGFpbHM6PC9wPlxuICAgICAgICAgICAgPGgyPk5vbWluZWUgRGV0YWlsczo8L2gyPlxuICAgICAgICAgICAgPHVsPlxuICAgICAgICAgICAgICAgIDxsaT48c3Ryb25nPkNhdGVnb3J5Ojwvc3Ryb25nPiAke2NhdGVnb3J5fTwvbGk+XG4gICAgICAgICAgICAgICAgPGxpPjxzdHJvbmc+TmFtZTo8L3N0cm9uZz4gJHtub21pbmVlTmFtZX08L2xpPlxuICAgICAgICAgICAgICAgIDxsaT48c3Ryb25nPlBob25lOjwvc3Ryb25nPiAke25vbWluZWVQaG9uZX08L2xpPlxuICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgIDxoMj5SZWFzb24gZm9yIE5vbWluYXRpb246PC9oMj5cbiAgICAgICAgICAgIDxwPiR7bm9taW5hdGlvblJlYXNvbn08L3A+XG4gICAgICAgICAgICA8aHIgLz5cbiAgICAgICAgICAgIDxoMj5Ob21pbmF0b3IgRGV0YWlsczo8L2gyPlxuICAgICAgICAgICAgPHVsPlxuICAgICAgICAgICAgICAgIDxsaT48c3Ryb25nPk5hbWU6PC9zdHJvbmc+ICR7bm9taW5hdG9yTmFtZX08L2xpPlxuICAgICAgICAgICAgICAgIDxsaT48c3Ryb25nPlBob25lOjwvc3Ryb25nPiAke25vbWluYXRvclBob25lfTwvbGk+XG4gICAgICAgICAgICA8L3VsPlxuICAgICAgICBgLFxuICAgICAgfSk7XG5cbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAvLyBJZiBlbWFpbCBmYWlscywgcmV0dXJuIGFuIGVycm9yIGFuZCBkbyBub3Qgc2F2ZSB0byBEQlxuICAgICAgICBjb25zb2xlLmVycm9yKCdSZXNlbmQgQVBJIEVycm9yOicsIGVycm9yKTtcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnRmFpbGVkIHRvIHNlbmQgbm9taW5hdGlvbiBlbWFpbC4gUGxlYXNlIHRyeSBhZ2Fpbi4nIH07XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdSZXNlbmQgQVBJIGtleSBpcyBub3QgY29uZmlndXJlZC4gU2tpcHBpbmcgZW1haWwgc2VuZGluZy4nKTtcbiAgICB9XG5cbiAgICAvLyAyLiBJZiBlbWFpbCBpcyBzZW50IChvciBza2lwcGVkKSwgc2F2ZSB0byBGaXJlc3RvcmVcbiAgICBhd2FpdCBhZGROb21pbmF0aW9uKHZhbGlkYXRlZEZpZWxkcy5kYXRhKTtcbiAgICBcbiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBtZXNzYWdlOiAnTm9taW5hdGlvbiBzdWJtaXR0ZWQgc3VjY2Vzc2Z1bGx5IScgfTtcblxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0FuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQgaW4gc2VuZE5vbWluYXRpb25FbWFpbDonLCBlcnJvcik7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgZXJyb3I6ICdBbiB1bmV4cGVjdGVkIHNlcnZlciBlcnJvciBvY2N1cnJlZC4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlci4nLFxuICAgIH07XG4gIH1cbn1cblxuLyoqXG4gKiBSZWNvcmRzIGEgdm90ZSBpbiB0aGUgRmlyZXN0b3JlIGRhdGFiYXNlIGFuZCB0cmlnZ2VycyBhIFphcGllciB3ZWJob29rIGlmIGNvbmZpZ3VyZWQuXG4gKiBUaGlzIGlzIHRoZSBjcnVjaWFsIHN0ZXAgdGhhdCB1cGRhdGVzIHRoZSBhZG1pbiB2b3RlIHRyYWNrZXIuXG4gKiBJdCBzaG91bGQgYmUgY2FsbGVkIE9OTFkgYWZ0ZXIgYSBwYXltZW50IGlzIHN1Y2Nlc3NmdWxseSB2ZXJpZmllZC5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlY29yZFZvdGUodm90ZURhdGE6IHouaW5mZXI8dHlwZW9mIHZvdGVTY2hlbWE+KSB7XG4gIGNvbnN0IHZhbGlkYXRlZEZpZWxkcyA9IHZvdGVTY2hlbWEuc2FmZVBhcnNlKHZvdGVEYXRhKTtcblxuICBpZiAoIXZhbGlkYXRlZEZpZWxkcy5zdWNjZXNzKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkludmFsaWQgdm90ZSBkYXRhIGZvciBGaXJlc3RvcmU6XCIsIHZhbGlkYXRlZEZpZWxkcy5lcnJvcik7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgZXJyb3I6ICdJbnZhbGlkIHZvdGUgZGF0YSBwcm92aWRlZC4nLFxuICAgIH07XG4gIH1cblxuICB0cnkge1xuICAgIC8vIFN0ZXAgMTogU2F2ZSB0aGUgdm90ZSB0byBGaXJlc3RvcmUuIFRoaXMgaXMgdGhlIHByaW1hcnksIGNyaXRpY2FsIGFjdGlvbi5cbiAgICBhd2FpdCBhZGRWb3RlKHZhbGlkYXRlZEZpZWxkcy5kYXRhKTtcbiAgICBjb25zb2xlLmxvZyhcIlZvdGUgc3VjY2Vzc2Z1bGx5IHJlY29yZGVkIGluIEZpcmVzdG9yZSBmb3I6XCIsIHZvdGVEYXRhLmNvbnRlc3RhbnROYW1lKTtcblxuICAgIC8vIFN0ZXAgMjogSWYgYSBaYXBpZXIgd2ViaG9vayBVUkwgaXMgY29uZmlndXJlZCwgc2VuZCB0aGUgZGF0YS4gVGhpcyBpcyBhIHNlY29uZGFyeSBhY3Rpb24uXG4gICAgaWYgKFpBUElFUl9WT1RFX1dFQkhPT0tfVVJMKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFpBUElFUl9WT1RFX1dFQkhPT0tfVVJMLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgLi4udmFsaWRhdGVkRmllbGRzLmRhdGEsXG4gICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSwgLy8gQWRkIGEgaHVtYW4tcmVhZGFibGUgdGltZXN0YW1wIGZvciBaYXBpZXJcbiAgICAgICAgICB9KSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHdlYmhvb2sgY2FsbCB3YXMgc3VjY2Vzc2Z1bFxuICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiU3VjY2Vzc2Z1bGx5IHRyaWdnZXJlZCBaYXBpZXIgd2ViaG9vayBmb3IgbmV3IHZvdGUuXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gTG9nIHRoZSBmYWlsdXJlIGRldGFpbHMgYnV0IGRvIG5vdCB0aHJvdyBhbiBlcnJvciwgYXMgdGhlIHZvdGUgaXMgYWxyZWFkeSBzYXZlZC5cbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlQm9keSA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFphcGllciB3ZWJob29rIGNhbGwgZmFpbGVkIHdpdGggc3RhdHVzICR7cmVzcG9uc2Uuc3RhdHVzfTogJHtyZXNwb25zZUJvZHl9YCk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKHphcGllckVycm9yKSB7XG4gICAgICAgIC8vIExvZyB0aGUgbmV0d29yayBlcnJvciBidXQgZG9uJ3QgZmFpbCB0aGUgZW50aXJlIHRyYW5zYWN0aW9uLlxuICAgICAgICAvLyBUaGlzIGVuc3VyZXMgdGhlIHZvdGUgaXMgc3RpbGwgY291bnRlZCBldmVuIGlmIFphcGllciBpcyB0ZW1wb3JhcmlseSB1bnJlYWNoYWJsZS5cbiAgICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byB0cmlnZ2VyIFphcGllciB3ZWJob29rIGR1ZSB0byBhIG5ldHdvcmsgb3IgZmV0Y2ggZXJyb3I6XCIsIHphcGllckVycm9yKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBtZXNzYWdlOiBcIlZvdGUgc3VjY2Vzc2Z1bGx5IHJlY29yZGVkLlwiIH07XG5cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIHJlY29yZCB2b3RlIGluIFNlcnZlciBBY3Rpb246IFwiLCBlcnJvcik7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgZXJyb3I6ICdUaGVyZSB3YXMgYW4gZXJyb3IgcmVjb3JkaW5nIHlvdXIgdm90ZSB0byB0aGUgZGF0YWJhc2UuJ1xuICAgIH07XG4gIH1cbn1cblxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlUGF5c3RhY2tQYXltZW50KHBheW1lbnREYXRhOiB6LmluZmVyPHR5cGVvZiBwYXlzdGFja1BheW1lbnRSZXF1ZXN0U2NoZW1hPikge1xuICAgIGNvbnN0IHZhbGlkYXRlZEZpZWxkcyA9IHBheXN0YWNrUGF5bWVudFJlcXVlc3RTY2hlbWEuc2FmZVBhcnNlKHBheW1lbnREYXRhKTtcbiAgICBpZiAoIXZhbGlkYXRlZEZpZWxkcy5zdWNjZXNzKSB7XG4gICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ0ludmFsaWQgcGF5bWVudCBkYXRhIHByb3ZpZGVkLicgfTtcbiAgICB9XG5cbiAgICBpZiAoIVBBWVNUQUNLX1NFQ1JFVF9LRVkpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIlBheXN0YWNrIHNlY3JldCBrZXkgaXMgbm90IGNvbmZpZ3VyZWQuXCIpO1xuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiUGF5bWVudCBnYXRld2F5IGlzIG5vdCBjb25maWd1cmVkIGNvcnJlY3RseS5cIiB9O1xuICAgIH1cblxuICAgIGNvbnN0IHsgZW1haWwsIGFtb3VudCwgbWV0YWRhdGEgfSA9IHZhbGlkYXRlZEZpZWxkcy5kYXRhO1xuXG4gICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgZW1haWwsXG4gICAgICAgIGFtb3VudDogYW1vdW50ICogMTAwLCAvLyBQYXlzdGFjayBleHBlY3RzIGFtb3VudCBpbiBrb2JvXG4gICAgICAgIGNhbGxiYWNrX3VybDogYCR7TkVYVF9QVUJMSUNfQkFTRV9VUkx9L3ZvdGUvY2FsbGJhY2tgLFxuICAgICAgICBtZXRhZGF0YSxcbiAgICB9O1xuXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnaHR0cHM6Ly9hcGkucGF5c3RhY2suY28vdHJhbnNhY3Rpb24vaW5pdGlhbGl6ZScsIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICAnQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHtQQVlTVEFDS19TRUNSRVRfS0VZfWAsXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChkYXRhLnN0YXR1cykge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICAgIGF1dGhvcml6YXRpb25Vcmw6IGRhdGEuZGF0YS5hdXRob3JpemF0aW9uX3VybCxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiUGF5c3RhY2sgQVBJIGVycm9yOlwiLCBkYXRhLm1lc3NhZ2UpO1xuICAgICAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBkYXRhLm1lc3NhZ2UgfHwgJ1BheW1lbnQgaW5pdGlhdGlvbiBmYWlsZWQuJyB9O1xuICAgICAgICB9XG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgY2FsbGluZyBQYXlzdGFjayBBUEk6XCIsIGVycm9yKTtcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkNvdWxkIG5vdCBjb25uZWN0IHRvIHRoZSBwYXltZW50IGdhdGV3YXkuXCIgfTtcbiAgICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB2ZXJpZnlQYXlzdGFja1BheW1lbnQocmVmZXJlbmNlOiBzdHJpbmcpIHtcbiAgICBpZiAoIXJlZmVyZW5jZSkge1xuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdObyBwYXltZW50IHJlZmVyZW5jZSBwcm92aWRlZC4nLCBzdGF0dXM6ICdlcnJvcicgfTtcbiAgICB9XG5cbiAgICBpZiAoIVBBWVNUQUNLX1NFQ1JFVF9LRVkpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIlBheXN0YWNrIHNlY3JldCBrZXkgaXMgbm90IGNvbmZpZ3VyZWQuXCIpO1xuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiUGF5bWVudCBnYXRld2F5IGlzIG5vdCBjb25maWd1cmVkIGNvcnJlY3RseS5cIiwgc3RhdHVzOiAnZXJyb3InIH07XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgaHR0cHM6Ly9hcGkucGF5c3RhY2suY28vdHJhbnNhY3Rpb24vdmVyaWZ5LyR7cmVmZXJlbmNlfWAsIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7UEFZU1RBQ0tfU0VDUkVUX0tFWX1gLFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICAgIGlmIChkYXRhLnN0YXR1cyAmJiBkYXRhLmRhdGEuc3RhdHVzID09PSAnc3VjY2VzcycpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgY29udGVzdGFudElkLCBjb250ZXN0YW50TmFtZSwgY29udGVzdGFudENhdGVnb3J5LCBudW1iZXJPZlZvdGVzIH0gPSBkYXRhLmRhdGEubWV0YWRhdGE7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFRoaXMgaXMgdGhlIGNydWNpYWwgc3RlcDogcmVjb3JkIHRoZSB2b3RlIG9ubHkgYWZ0ZXIgc3VjY2Vzc2Z1bCB2ZXJpZmljYXRpb24uXG4gICAgICAgICAgICBjb25zdCB2b3RlUmVjb3JkUmVzdWx0ID0gYXdhaXQgcmVjb3JkVm90ZSh7XG4gICAgICAgICAgICAgICAgY29udGVzdGFudElkLFxuICAgICAgICAgICAgICAgIGNvbnRlc3RhbnROYW1lLFxuICAgICAgICAgICAgICAgIGNvbnRlc3RhbnRDYXRlZ29yeSxcbiAgICAgICAgICAgICAgICBudW1iZXJPZlZvdGVzOiBOdW1iZXIobnVtYmVyT2ZWb3RlcyksXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKHZvdGVSZWNvcmRSZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IFxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLCBcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ1BheW1lbnQgdmVyaWZpZWQgYW5kIHZvdGUgcmVjb3JkZWQgc3VjY2Vzc2Z1bGx5IScsXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogJ3N1Y2Nlc3MnLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICByZXR1cm4geyBcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsIFxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogYFBheW1lbnQgd2FzIHN1Y2Nlc3NmdWwsIGJ1dCB2b3RlIHJlY29yZGluZyBmYWlsZWQuIFBsZWFzZSBjb250YWN0IHN1cHBvcnQuIEVycm9yOiAke3ZvdGVSZWNvcmRSZXN1bHQuZXJyb3J9YCxcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnZXJyb3InLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7IFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLCBcbiAgICAgICAgICAgICAgICBlcnJvcjogYFBheW1lbnQgdmVyaWZpY2F0aW9uIGZhaWxlZDogJHtkYXRhLmRhdGEuZ2F0ZXdheV9yZXNwb25zZX1gLFxuICAgICAgICAgICAgICAgIHN0YXR1czogZGF0YS5kYXRhLnN0YXR1cyB8fCAnZmFpbGVkJyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciB2ZXJpZnlpbmcgUGF5c3RhY2sgcGF5bWVudDpcIiwgZXJyb3IpO1xuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiQ291bGQgbm90IGNvbm5lY3QgdG8gdGhlIHBheW1lbnQgZ2F0ZXdheSBmb3IgdmVyaWZpY2F0aW9uLlwiLCBzdGF0dXM6ICdlcnJvcicgfTtcbiAgICB9XG59XG5cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVdlbWFBbGF0UGF5bWVudChwYXltZW50RGF0YTogei5pbmZlcjx0eXBlb2Ygd2VtYVBheW1lbnRSZXF1ZXN0U2NoZW1hPikge1xuICBjb25zdCB2YWxpZGF0ZWRGaWVsZHMgPSB3ZW1hUGF5bWVudFJlcXVlc3RTY2hlbWEuc2FmZVBhcnNlKHBheW1lbnREYXRhKTtcbiAgaWYgKCF2YWxpZGF0ZWRGaWVsZHMuc3VjY2Vzcykge1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ0ludmFsaWQgcGF5bWVudCBkYXRhIHByb3ZpZGVkLicgfTtcbiAgfVxuICBcbiAgaWYgKCFXRU1BX0FMQVRfU1VCU0NSSVBUSU9OX0tFWSB8fCAhV0VNQV9BTEFUX1NPVVJDRV9BQ0NPVU5UIHx8ICFXRU1BX0FMQVRfQ0hBTk5FTF9JRCkge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJXZW1hIEFsYXQgZW52aXJvbm1lbnQgdmFyaWFibGVzIGFyZSBub3Qgc2V0LlwiKTtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiUGF5bWVudCBnYXRld2F5IGlzIG5vdCBjb25maWd1cmVkIGNvcnJlY3RseS5cIiB9O1xuICB9XG5cbiAgY29uc3QgeyBhbW91bnQsIGNvbnRlc3RhbnRJZCwgY29udGVzdGFudE5hbWUsIGNvbnRlc3RhbnRDYXRlZ29yeSwgbnVtYmVyT2ZWb3RlcyB9ID0gdmFsaWRhdGVkRmllbGRzLmRhdGE7XG5cbiAgY29uc3QgdHJhbnNhY3Rpb25SZWZlcmVuY2UgPSBgU1JGLVZPVEUtJHtjb250ZXN0YW50SWR9LSR7RGF0ZS5ub3coKX1gO1xuICBjb25zdCBuYXJyYXRpb24gPSBgVm90ZSBmb3IgJHtjb250ZXN0YW50TmFtZX0gaW4gJHtjb250ZXN0YW50Q2F0ZWdvcnl9YDtcblxuICBjb25zdCBib2R5ID0ge1xuICAgIGFtb3VudDogYW1vdW50LFxuICAgIHNvdXJjZUFjY291bnROdW1iZXI6IFdFTUFfQUxBVF9TT1VSQ0VfQUNDT1VOVCxcbiAgICBjaGFubmVsSWQ6IFdFTUFfQUxBVF9DSEFOTkVMX0lELFxuICAgIG5hcnJhdGlvbjogbmFycmF0aW9uLFxuICAgIHRyYW5zYWN0aW9uUmVmZXJlbmNlOiB0cmFuc2FjdGlvblJlZmVyZW5jZVxuICB9O1xuXG4gIHRyeSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnaHR0cHM6Ly93ZW1hLWFsYXRkZXYtYXBpbWd0LmF6dXJlLWFwaS5uZXQvYWxhdC1wYXkvYXBpL0Vjb21tZXJjZVRyYW5zZmVyL3RyYW5zZmVyLWZ1bmQtcmVxdWVzdCcsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICdDYWNoZS1Db250cm9sJzogJ25vLWNhY2hlJyxcbiAgICAgICAgJ09jcC1BcGltLVN1YnNjcmlwdGlvbi1LZXknOiBXRU1BX0FMQVRfU1VCU0NSSVBUSU9OX0tFWSxcbiAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICBjb25zdCByZXNwb25zZVRleHQgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gICAgY29uc29sZS5sb2coXCJXZW1hIEFsYXQgdHJhbnNmZXItZnVuZC1yZXF1ZXN0IHJlc3BvbnNlIHN0YXR1czpcIiwgcmVzcG9uc2Uuc3RhdHVzKTtcbiAgICBjb25zb2xlLmxvZyhcIldlbWEgQWxhdCB0cmFuc2Zlci1mdW5kLXJlcXVlc3QgcmVzcG9uc2UgYm9keTpcIiwgcmVzcG9uc2VUZXh0KTtcblxuICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UocmVzcG9uc2VUZXh0KTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlBheW1lbnQgaW5pdGlhdGVkLiBQbGVhc2UgZW50ZXIgT1RQLlwiLFxuICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgcGxhdGZvcm1UcmFuc2FjdGlvblJlZmVyZW5jZTogZGF0YS5wbGF0Zm9ybVRyYW5zYWN0aW9uUmVmZXJlbmNlLFxuICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvblJlZmVyZW5jZTogdHJhbnNhY3Rpb25SZWZlcmVuY2UsXG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWxJZDogV0VNQV9BTEFUX0NIQU5ORUxfSUQsXG4gICAgICAgICAgICAgICAgICAgIC8vIFBhc3Mgdm90ZSBpbmZvIHRocm91Z2ggZm9yIHRoZSBuZXh0IHN0ZXBcbiAgICAgICAgICAgICAgICAgICAgY29udGVzdGFudElkLFxuICAgICAgICAgICAgICAgICAgICBjb250ZXN0YW50TmFtZSxcbiAgICAgICAgICAgICAgICAgICAgY29udGVzdGFudENhdGVnb3J5LFxuICAgICAgICAgICAgICAgICAgICBudW1iZXJPZlZvdGVzLFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gcGFyc2UgSlNPTiBmcm9tIFdlbWEgQWxhdCByZXNwb25zZVwiLCBlKTtcbiAgICAgICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGBSZWNlaXZlZCBhbiB1bnJlYWRhYmxlIHJlc3BvbnNlIGZyb20gcGF5bWVudCBnYXRld2F5OiAke3Jlc3BvbnNlVGV4dH1gIH07XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogYFBheW1lbnQgaW5pdGlhdGlvbiBmYWlsZWQ6ICR7cmVzcG9uc2VUZXh0fWAsIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzIH07XG4gICAgfVxuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGNhbGxpbmcgV2VtYSBBbGF0IEFQSTpcIiwgZXJyb3IpO1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJDb3VsZCBub3QgY29ubmVjdCB0byB0aGUgcGF5bWVudCBnYXRld2F5LlwiIH07XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHZhbGlkYXRlV2VtYUFsYXRQYXltZW50KHZhbGlkYXRpb25EYXRhOiB6LmluZmVyPHR5cGVvZiB3ZW1hUGF5bWVudFZhbGlkYXRpb25TY2hlbWE+KSB7XG4gICAgY29uc3QgdmFsaWRhdGVkRmllbGRzID0gd2VtYVBheW1lbnRWYWxpZGF0aW9uU2NoZW1hLnNhZmVQYXJzZSh2YWxpZGF0aW9uRGF0YSk7XG4gICAgaWYgKCF2YWxpZGF0ZWRGaWVsZHMuc3VjY2Vzcykge1xuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdJbnZhbGlkIHZhbGlkYXRpb24gZGF0YSBwcm92aWRlZC4nIH07XG4gICAgfVxuXG4gICAgaWYgKCFXRU1BX0FMQVRfU1VCU0NSSVBUSU9OX0tFWSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiV2VtYSBBbGF0IHN1YnNjcmlwdGlvbiBrZXkgaXMgbm90IHNldC5cIik7XG4gICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJQYXltZW50IGdhdGV3YXkgaXMgbm90IGNvbmZpZ3VyZWQgY29ycmVjdGx5LlwiIH07XG4gICAgfVxuXG4gICAgY29uc3QgeyBjaGFubmVsSWQsIHRyYW5zYWN0aW9uUmVmZXJlbmNlLCBwbGF0Zm9ybVRyYW5zYWN0aW9uUmVmZXJlbmNlLCBvdHAsIGNvbnRlc3RhbnRJZCwgY29udGVzdGFudE5hbWUsIGNvbnRlc3RhbnRDYXRlZ29yeSwgbnVtYmVyT2ZWb3RlcyB9ID0gdmFsaWRhdGVkRmllbGRzLmRhdGE7XG5cbiAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICBjaGFubmVsSWQsXG4gICAgICAgIHRyYW5zYWN0aW9uUmVmZXJlbmNlLFxuICAgICAgICBwbGF0Zm9ybVRyYW5zYWN0aW9uUmVmZXJlbmNlLFxuICAgICAgICBvdHAsXG4gICAgfTtcblxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJ2h0dHBzOi8vd2VtYS1hbGF0ZGV2LWFwaW1ndC5henVyZS1hcGkubmV0L2FsYXQtcGF5L2FwaS9FY29tbWVyY2VUcmFuc2Zlci90cmFuc2Zlci1mdW5kLXZhbGlkYXRpb24nLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgJ0NhY2hlLUNvbnRyb2wnOiAnbm8tY2FjaGUnLFxuICAgICAgICAgICAgICAgICdPY3AtQXBpbS1TdWJzY3JpcHRpb24tS2V5JzogV0VNQV9BTEFUX1NVQlNDUklQVElPTl9LRVksXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlVGV4dCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJXZW1hIEFsYXQgdHJhbnNmZXItZnVuZC12YWxpZGF0aW9uIHJlc3BvbnNlIHN0YXR1czpcIiwgcmVzcG9uc2Uuc3RhdHVzKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJXZW1hIEFsYXQgdHJhbnNmZXItZnVuZC12YWxpZGF0aW9uIHJlc3BvbnNlIGJvZHk6XCIsIHJlc3BvbnNlVGV4dCk7XG4gICAgICAgIFxuICAgICAgICBpZihyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgY29uc3Qgdm90ZVJlY29yZFJlc3VsdCA9IGF3YWl0IHJlY29yZFZvdGUoeyBjb250ZXN0YW50SWQsIGNvbnRlc3RhbnROYW1lLCBjb250ZXN0YW50Q2F0ZWdvcnksIG51bWJlck9mVm90ZXMgfSk7XG4gICAgICAgICAgICBpZiAoIXZvdGVSZWNvcmRSZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgIC8vIFBheW1lbnQgc3VjY2VlZGVkLCBidXQgREIgZmFpbGVkLiBJbXBvcnRhbnQgdG8gbm90aWZ5IHVzZXIvYWRtaW4uXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgbWVzc2FnZTogYFBheW1lbnQgdmFsaWRhdGVkLCBidXQgZmFpbGVkIHRvIHJlY29yZCB2b3RlOiAke3ZvdGVSZWNvcmRSZXN1bHQuZXJyb3J9YCB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgbWVzc2FnZTogXCJQYXltZW50IHZhbGlkYXRlZCBhbmQgdm90ZSByZWNvcmRlZCBzdWNjZXNzZnVsbHkhXCIgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogYE9UUCB2YWxpZGF0aW9uIGZhaWxlZDogJHtyZXNwb25zZVRleHR9YCB9O1xuICAgICAgICB9XG5cbiAgICB9IGNhdGNoKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBjYWxsaW5nIFdlbWEgQWxhdCB2YWxpZGF0aW9uIEFQSTpcIiwgZXJyb3IpO1xuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiQ291bGQgbm90IGNvbm5lY3QgdG8gdGhlIHBheW1lbnQgZ2F0ZXdheSBmb3IgdmFsaWRhdGlvbi5cIiB9O1xuICAgIH1cbn1cblxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2hlY2tXZW1hQWxhdFRyYW5zYWN0aW9uU3RhdHVzKHN0YXR1c0RhdGE6IHouaW5mZXI8dHlwZW9mIHdlbWFQYXltZW50U3RhdHVzU2NoZW1hPikge1xuICAgIGNvbnN0IHZhbGlkYXRlZEZpZWxkcyA9IHdlbWFQYXltZW50U3RhdHVzU2NoZW1hLnNhZmVQYXJzZShzdGF0dXNEYXRhKTtcbiAgICBpZiAoIXZhbGlkYXRlZEZpZWxkcy5zdWNjZXNzKSB7XG4gICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ0ludmFsaWQgdHJhbnNhY3Rpb24gZGF0YScgfTtcbiAgICB9XG5cbiAgICBjb25zdCB7IGNoYW5uZWxJZCwgdHJhbnNhY3Rpb25SZWZlcmVuY2UgfSA9IHZhbGlkYXRlZEZpZWxkcy5kYXRhO1xuXG4gICAgY29uc3Qgd2VtYUFsYXRVcmwgPSBgaHR0cHM6Ly93ZW1hLWFsYXRkZXYtYXBpbWd0LmF6dXJlLWFwaS5uZXQvYWxhdC1wYXkvYXBpL0Vjb21tZXJjZVRyYW5zZmVyL0NoZWNrVHJhbnNhY3Rpb25TdGF0dXMvJHtjaGFubmVsSWR9LyR7dHJhbnNhY3Rpb25SZWZlcmVuY2V9YDtcblxuICAgIGlmICghV0VNQV9BTEFUX1NVQlNDUklQVElPTl9LRVkpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIldlbWEgQWxhdCBzdWJzY3JpcHRpb24ga2V5IGlzIG5vdCBzZXQgaW4gZW52aXJvbm1lbnQgdmFyaWFibGVzLlwiKTtcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIlBheW1lbnQgZ2F0ZXdheSBpcyBub3QgY29uZmlndXJlZC5cIiB9O1xuICAgIH1cbiAgICBcbiAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHdlbWFBbGF0VXJsLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICdDYWNoZS1Db250cm9sJzogJ25vLWNhY2hlJyxcbiAgICAgICAgICAgICAgICAnT2NwLUFwaW0tU3Vic2NyaXB0aW9uLUtleSc6IFdFTUFfQUxBVF9TVUJTQ1JJUFRJT05fS0VZLFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCByZXN1bHRUZXh0ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xuICAgICAgICBjb25zdCByZXN1bHRTdGF0dXMgPSByZXNwb25zZS5zdGF0dXM7XG4gICAgICAgIGNvbnNvbGUubG9nKCdXZW1hIEFsYXQgU3RhdHVzOicsIHJlc3VsdFN0YXR1cyk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdXZW1hIEFsYXQgUmVzcG9uc2U6JywgcmVzdWx0VGV4dCk7XG5cbiAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBzdGF0dXM6IHJlc3VsdFN0YXR1cywgZGF0YTogcmVzdWx0VGV4dCB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBgRmFpbGVkIHRvIGNoZWNrIHRyYW5zYWN0aW9uIHN0YXR1czogJHtyZXN1bHRUZXh0fWAsIHN0YXR1czogcmVzdWx0U3RhdHVzIH07XG4gICAgICAgIH1cblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBjYWxsaW5nIFdlbWEgQWxhdCBBUEk6XCIsIGVycm9yKTtcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkNvdWxkIG5vdCBjb25uZWN0IHRvIHRoZSBwYXltZW50IGdhdGV3YXkuXCIgfTtcbiAgICB9XG59XG5cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVJlbWl0YVBheW1lbnQocGF5bWVudERhdGE6IHouaW5mZXI8dHlwZW9mIHJlbWl0YVBheW1lbnRSZXF1ZXN0U2NoZW1hPikge1xuICAgIGNvbnN0IHZhbGlkYXRlZEZpZWxkcyA9IHJlbWl0YVBheW1lbnRSZXF1ZXN0U2NoZW1hLnNhZmVQYXJzZShwYXltZW50RGF0YSk7XG4gICAgaWYgKCF2YWxpZGF0ZWRGaWVsZHMuc3VjY2Vzcykge1xuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiSW52YWxpZCBSZW1pdGEgcGF5bWVudCBkYXRhLlwiIH07XG4gICAgfVxuXG4gICAgaWYgKCFXRU1BX0FMQVRfU1VCU0NSSVBUSU9OX0tFWSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiUmVtaXRhIHN1YnNjcmlwdGlvbiBrZXkgaXMgbm90IHNldC5cIik7XG4gICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJQYXltZW50IGdhdGV3YXkgaXMgbm90IGNvbmZpZ3VyZWQgY29ycmVjdGx5LlwiIH07XG4gICAgfVxuXG4gICAgY29uc3QgeyBhbW91bnQsIGNoYXJnZSwgdHJhbnNhY3Rpb25SZWZlcmVuY2UsIGN1c3RvbWVyRW1haWwsIGN1c3RvbWVyTmFtZSwgY3VzdG9tZXJQaG9uZU51bWJlciwgZGVzY3JpcHRpb24sIGNvbnRlc3RhbnRJZCwgY29udGVzdGFudE5hbWUsIGNvbnRlc3RhbnRDYXRlZ29yeSwgbnVtYmVyT2ZWb3RlcyB9ID0gdmFsaWRhdGVkRmllbGRzLmRhdGE7XG5cbiAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICBjaGFubmVsSWQ6IFwic3RyaW5nXCIsIC8vIFBsYWNlaG9sZGVyXG4gICAgICAgIGNpZjogXCJzdHJpbmdcIiwgLy8gUGxhY2Vob2xkZXJcbiAgICAgICAgY3VzdG9tZXJBY2NvdW50OiBcInN0cmluZ1wiLCAvLyBQbGFjZWhvbGRlclxuICAgICAgICBhbW91bnQ6IGFtb3VudCxcbiAgICAgICAgY2hhcmdlOiBjaGFyZ2UsXG4gICAgICAgIHRyYW5zYWN0aW9uUmVmZXJlbmNlOiB0cmFuc2FjdGlvblJlZmVyZW5jZSxcbiAgICAgICAgY3VzdG9tZXJFbWFpbDogY3VzdG9tZXJFbWFpbCxcbiAgICAgICAgY3VzdG9tZXJQaG9uZU51bWJlcjogY3VzdG9tZXJQaG9uZU51bWJlcixcbiAgICAgICAgY3VzdG9tZXJOYW1lOiBjdXN0b21lck5hbWUsXG4gICAgICAgIHJycjogXCJzdHJpbmdcIiwgLy8gUGxhY2Vob2xkZXJcbiAgICAgICAgcGF5ZXJFbWFpbDogY3VzdG9tZXJFbWFpbCxcbiAgICAgICAgcGF5ZXJOYW1lOiBjdXN0b21lck5hbWUsXG4gICAgICAgIHBheWVyTnVtYmVyOiBjdXN0b21lclBob25lTnVtYmVyLFxuICAgICAgICBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb24sXG4gICAgICAgIGJpbGxBdXRoT3B0aW9uczoge1xuICAgICAgICAgICAgcGluOiBcInN0cmluZ1wiLFxuICAgICAgICAgICAgb3RwOiBcInN0cmluZ1wiLFxuICAgICAgICAgICAgYmlvbWV0cmljUG9saWN5OiBcInN0cmluZ1wiLFxuICAgICAgICAgICAgYmlvbWV0cmljVG9rZW46IFwic3RyaW5nXCIsXG4gICAgICAgICAgICBwbGF0Zm9ybVRyYW5zYWN0aW9uUmVmZXJlbmNlOiBcInN0cmluZ1wiLFxuICAgICAgICAgICAgYXV0aGVudGljYXRpb25UeXBlOiAwXG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnaHR0cHM6Ly93ZW1hLWFsYXRkZXYtYXBpbWd0LmF6dXJlLWFwaS5uZXQvcmVtaXRhLXBheW1lbnRzL2FwaS9SZW1pdGFQYXltZW50L1BheVJlbWl0YUJpbGwnLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgJ0NhY2hlLUNvbnRyb2wnOiAnbm8tY2FjaGUnLFxuICAgICAgICAgICAgICAgICdPY3AtQXBpbS1TdWJzY3JpcHRpb24tS2V5JzogV0VNQV9BTEFUX1NVQlNDUklQVElPTl9LRVksXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlVGV4dCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJSZW1pdGEgUGF5UmVtaXRhQmlsbCByZXNwb25zZSBzdGF0dXM6XCIsIHJlc3BvbnNlLnN0YXR1cyk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiUmVtaXRhIFBheVJlbWl0YUJpbGwgcmVzcG9uc2UgYm9keTpcIiwgcmVzcG9uc2VUZXh0KTtcbiAgICAgICAgXG4gICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgY29uc3Qgdm90ZURhdGEgPSB7IGNvbnRlc3RhbnRJZCwgY29udGVzdGFudE5hbWUsIGNvbnRlc3RhbnRDYXRlZ29yeSwgbnVtYmVyT2ZWb3RlcyB9O1xuICAgICAgICAgICAgYXdhaXQgcmVjb3JkVm90ZSh2b3RlRGF0YSk7IC8vIFJlY29yZCB2b3RlIG9uIHN1Y2Nlc3NcbiAgICAgICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIG1lc3NhZ2U6IFwiUmVtaXRhIHBheW1lbnQgcHJvY2Vzc2VkIGFuZCB2b3RlIHJlY29yZGVkIHN1Y2Nlc3NmdWxseS5cIiwgZGF0YTogSlNPTi5wYXJzZShyZXNwb25zZVRleHQpIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNTAwKSB7XG4gICAgICAgICAgICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogYFJlbWl0YSBwYXltZW50IGZhaWxlZCBkdWUgdG8gYW4gaW50ZXJuYWwgc2VydmVyIGVycm9yIG9uIHRoZSBnYXRld2F5LiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyIG9yIGNvbnRhY3Qgc3VwcG9ydC5gIH07XG4gICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBgUmVtaXRhIHBheW1lbnQgZmFpbGVkOiAke3Jlc3BvbnNlVGV4dH1gIH07XG4gICAgICAgIH1cblxuICAgIH0gY2F0Y2goZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGNhbGxpbmcgUmVtaXRhIFBheVJlbWl0YUJpbGwgQVBJOlwiLCBlcnJvcik7XG4gICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJDb3VsZCBub3QgY29ubmVjdCB0byB0aGUgUmVtaXRhIHBheW1lbnQgZ2F0ZXdheS5cIiB9O1xuICAgIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHByaW50UmVtaXRhUmVjZWlwdChyZWNlaXB0RGF0YTogei5pbmZlcjx0eXBlb2YgcmVtaXRhUmVjZWlwdFNjaGVtYT4pIHtcbiAgICBjb25zdCB2YWxpZGF0ZWRGaWVsZHMgPSByZW1pdGFSZWNlaXB0U2NoZW1hLnNhZmVQYXJzZShyZWNlaXB0RGF0YSk7XG4gICAgaWYgKCF2YWxpZGF0ZWRGaWVsZHMuc3VjY2Vzcykge1xuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiSW52YWxpZCBSZW1pdGEgcmVjZWlwdCBkYXRhLlwiIH07XG4gICAgfVxuXG4gICAgY29uc3QgeyBycnIgfSA9IHZhbGlkYXRlZEZpZWxkcy5kYXRhO1xuXG4gICAgY29uc3QgcmVtaXRhVXJsID0gYGh0dHBzOi8vd2VtYS1hbGF0ZGV2LWFwaW1ndC5henVyZS1hcGkubmV0L3JlbWl0YS1wYXltZW50cy9hcGkvUmVtaXRhUGF5bWVudC9QcmludFJlbWl0YVJlY2VpcHQvJHtycnJ9YDtcblxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2gocmVtaXRhVXJsLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICdDYWNoZS1Db250cm9sJzogJ25vLWNhY2hlJyxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgcmVzcG9uc2VUZXh0ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xuICAgICAgICBjb25zb2xlLmxvZyhcIlJlbWl0YSBQcmludFJlbWl0YVJlY2VpcHQgcmVzcG9uc2Ugc3RhdHVzOlwiLCByZXNwb25zZS5zdGF0dXMpO1xuICAgICAgICBjb25zb2xlLmxvZyhcIlJlbWl0YSBQcmludFJlbWl0YVJlY2VpcHQgcmVzcG9uc2UgYm9keTpcIiwgcmVzcG9uc2VUZXh0KTtcbiAgICAgICAgXG4gICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgcmVjZWlwdERhdGE6IHJlc3BvbnNlVGV4dCB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBgRmFpbGVkIHRvIGZldGNoIFJlbWl0YSByZWNlaXB0OiAke3Jlc3BvbnNlVGV4dH1gIH07XG4gICAgICAgIH1cblxuICAgIH0gY2F0Y2goZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGNhbGxpbmcgUmVtaXRhIFByaW50UmVtaXRhUmVjZWlwdCBBUEk6XCIsIGVycm9yKTtcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkNvdWxkIG5vdCBjb25uZWN0IHRvIHRoZSBSZW1pdGEgcGF5bWVudCBnYXRld2F5IHRvIHByaW50IHJlY2VpcHQuXCIgfTtcbiAgICB9XG59XG5cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHZhbGlkYXRlUmVtaXRhUnJyKHZhbGlkYXRpb25EYXRhOiB6LmluZmVyPHR5cGVvZiByZW1pdGFScnJWYWxpZGF0aW9uU2NoZW1hPikge1xuICAgIGNvbnN0IHZhbGlkYXRlZEZpZWxkcyA9IHJlbWl0YVJyclZhbGlkYXRpb25TY2hlbWEuc2FmZVBhcnNlKHZhbGlkYXRpb25EYXRhKTtcbiAgICBpZiAoIXZhbGlkYXRlZEZpZWxkcy5zdWNjZXNzKSB7XG4gICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJJbnZhbGlkIFJlbWl0YSBSUlIgdmFsaWRhdGlvbiBkYXRhLlwiIH07XG4gICAgfVxuXG4gICAgY29uc3QgeyBycnIsIGNoYW5uZWxJZCB9ID0gdmFsaWRhdGVkRmllbGRzLmRhdGE7XG5cbiAgICBjb25zdCByZW1pdGFVcmwgPSBgaHR0cHM6Ly93ZW1hLWFsYXRkZXYtYXBpbWd0LmF6dXJlLWFwaS5uZXQvcmVtaXRhLXBheW1lbnRzL2FwaS9SZW1pdGFQYXltZW50L1ZhbGlkYXRlUnJyLyR7cnJyfS8ke2NoYW5uZWxJZH1gO1xuXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChyZW1pdGFVcmwsIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgJ0NhY2hlLUNvbnRyb2wnOiAnbm8tY2FjaGUnLFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCByZXNwb25zZVRleHQgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiUmVtaXRhIFZhbGlkYXRlUnJyIHJlc3BvbnNlIHN0YXR1czpcIiwgcmVzcG9uc2Uuc3RhdHVzKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJSZW1pdGEgVmFsaWRhdGVScnIgcmVzcG9uc2UgYm9keTpcIiwgcmVzcG9uc2VUZXh0KTtcbiAgICAgICAgXG4gICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgbWVzc2FnZTogXCJSZW1pdGEgUlJSIHZhbGlkYXRlZCBzdWNjZXNzZnVsbHkuXCIsIGRhdGE6IEpTT04ucGFyc2UocmVzcG9uc2VUZXh0KSB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBgRmFpbGVkIHRvIHZhbGlkYXRlIFJlbWl0YSBSUlI6ICR7cmVzcG9uc2VUZXh0fWAgfTtcbiAgICAgICAgfVxuXG4gICAgfSBjYXRjaChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgY2FsbGluZyBSZW1pdGEgVmFsaWRhdGVScnIgQVBJOlwiLCBlcnJvcik7XG4gICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJDb3VsZCBub3QgY29ubmVjdCB0byB0aGUgUmVtaXRhIHBheW1lbnQgZ2F0ZXdheSB0byB2YWxpZGF0ZSBSUlIuXCIgfTtcbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6ImlTQWtVc0IifQ==
}}),
"[project]/src/app/data:f9207a [app-ssr] (ecmascript) <text/javascript>": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
/* __next_internal_action_entry_do_not_use__ [{"4038070158e55a226e316ee768d20cf90ae38bef2f":"validateWemaAlatPayment"},"src/app/actions.ts",""] */ __turbopack_context__.s({
    "validateWemaAlatPayment": (()=>validateWemaAlatPayment)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-ssr] (ecmascript)");
"use turbopack no side effects";
;
var validateWemaAlatPayment = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["createServerReference"])("4038070158e55a226e316ee768d20cf90ae38bef2f", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["findSourceMapURL"], "validateWemaAlatPayment"); //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vYWN0aW9ucy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJcbid1c2Ugc2VydmVyJztcblxuaW1wb3J0IHsgeiB9IGZyb20gJ3pvZCc7XG5pbXBvcnQgeyBhZGRWb3RlLCBhZGROb21pbmF0aW9uIH0gZnJvbSAnQC9zZXJ2aWNlcy9maXJlc3RvcmUnO1xuaW1wb3J0IHsgUmVzZW5kIH0gZnJvbSAncmVzZW5kJztcbmltcG9ydCB7IHJlZGlyZWN0IH0gZnJvbSAnbmV4dC9uYXZpZ2F0aW9uJztcblxuLy8gRXhwbGljaXRseSByZWFkIGVudmlyb25tZW50IHZhcmlhYmxlcyBhdCB0aGUgdG9wIGxldmVsXG5jb25zdCBXRU1BX0FMQVRfU1VCU0NSSVBUSU9OX0tFWSA9IHByb2Nlc3MuZW52LldFTUFfQUxBVF9TVUJTQ1JJUFRJT05fS0VZO1xuY29uc3QgV0VNQV9BTEFUX1NPVVJDRV9BQ0NPVU5UID0gcHJvY2Vzcy5lbnYuV0VNQV9BTEFUX1NPVVJDRV9BQ0NPVU5UO1xuY29uc3QgV0VNQV9BTEFUX0NIQU5ORUxfSUQgPSBwcm9jZXNzLmVudi5XRU1BX0FMQVRfQ0hBTk5FTF9JRDtcbmNvbnN0IE5FWFRfUFVCTElDX0JBU0VfVVJMID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFTRV9VUkwgfHwgJ2h0dHA6Ly9sb2NhbGhvc3Q6OTAwMic7XG5jb25zdCBSRVNFTkRfQVBJX0tFWSA9IHByb2Nlc3MuZW52LlJFU0VORF9BUElfS0VZO1xuY29uc3QgUEFZU1RBQ0tfU0VDUkVUX0tFWSA9IHByb2Nlc3MuZW52LlBBWVNUQUNLX1NFQ1JFVF9LRVk7XG5jb25zdCBaQVBJRVJfVk9URV9XRUJIT09LX1VSTCA9IHByb2Nlc3MuZW52LlpBUElFUl9WT1RFX1dFQkhPT0tfVVJMO1xuXG5jb25zdCBub21pbmF0aW9uRm9ybVNjaGVtYSA9IHoub2JqZWN0KHtcbiAgY2F0ZWdvcnk6IHouc3RyaW5nKCksXG4gIG5vbWluZWVOYW1lOiB6LnN0cmluZygpLFxuICBub21pbmVlUGhvbmU6IHouc3RyaW5nKCksXG4gIG5vbWluYXRpb25SZWFzb246IHouc3RyaW5nKCksXG4gIG5vbWluYXRvck5hbWU6IHouc3RyaW5nKCksXG4gIG5vbWluYXRvclBob25lOiB6LnN0cmluZygpLFxufSk7XG5cbmNvbnN0IHZvdGVTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIGNvbnRlc3RhbnRJZDogei5zdHJpbmcoKSxcbiAgY29udGVzdGFudE5hbWU6IHouc3RyaW5nKCksXG4gIGNvbnRlc3RhbnRDYXRlZ29yeTogei5zdHJpbmcoKSxcbiAgbnVtYmVyT2ZWb3Rlczogei5udW1iZXIoKS5pbnQoKS5wb3NpdGl2ZSgpLFxufSk7XG5cbmNvbnN0IHdlbWFQYXltZW50U3RhdHVzU2NoZW1hID0gei5vYmplY3Qoe1xuICBjaGFubmVsSWQ6IHouc3RyaW5nKCksXG4gIHRyYW5zYWN0aW9uUmVmZXJlbmNlOiB6LnN0cmluZygpLFxufSk7XG5cbmNvbnN0IHdlbWFQYXltZW50UmVxdWVzdFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgYW1vdW50OiB6Lm51bWJlcigpLFxuICBjb250ZXN0YW50SWQ6IHouc3RyaW5nKCksXG4gIGNvbnRlc3RhbnROYW1lOiB6LnN0cmluZygpLFxuICBjb250ZXN0YW50Q2F0ZWdvcnk6IHouc3RyaW5nKCksXG4gIG51bWJlck9mVm90ZXM6IHoubnVtYmVyKCksXG59KTtcblxuY29uc3Qgd2VtYVBheW1lbnRWYWxpZGF0aW9uU2NoZW1hID0gei5vYmplY3Qoe1xuICBjaGFubmVsSWQ6IHouc3RyaW5nKCksXG4gIHRyYW5zYWN0aW9uUmVmZXJlbmNlOiB6LnN0cmluZygpLFxuICBwbGF0Zm9ybVRyYW5zYWN0aW9uUmVmZXJlbmNlOiB6LnN0cmluZygpLFxuICBvdHA6IHouc3RyaW5nKCksXG4gIC8vIFBhc3MgYWxvbmcgdm90ZSBkYXRhIGZvciByZWNvcmRpbmdcbiAgY29udGVzdGFudElkOiB6LnN0cmluZygpLFxuICBjb250ZXN0YW50TmFtZTogei5zdHJpbmcoKSxcbiAgY29udGVzdGFudENhdGVnb3J5OiB6LnN0cmluZygpLFxuICBudW1iZXJPZlZvdGVzOiB6Lm51bWJlcigpLFxufSk7XG5cbmNvbnN0IHJlbWl0YVBheW1lbnRSZXF1ZXN0U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIGFtb3VudDogei5udW1iZXIoKSxcbiAgICBjaGFyZ2U6IHoubnVtYmVyKCksXG4gICAgdHJhbnNhY3Rpb25SZWZlcmVuY2U6IHouc3RyaW5nKCksXG4gICAgY3VzdG9tZXJFbWFpbDogei5zdHJpbmcoKS5lbWFpbCgpLFxuICAgIGN1c3RvbWVyTmFtZTogei5zdHJpbmcoKSxcbiAgICBjdXN0b21lclBob25lTnVtYmVyOiB6LnN0cmluZygpLFxuICAgIGRlc2NyaXB0aW9uOiB6LnN0cmluZygpLFxuICAgIC8vIFBhc3MgYWxvbmcgdm90ZSBkYXRhIGZvciByZWNvcmRpbmdcbiAgICBjb250ZXN0YW50SWQ6IHouc3RyaW5nKCksXG4gICAgY29udGVzdGFudE5hbWU6IHouc3RyaW5nKCksXG4gICAgY29udGVzdGFudENhdGVnb3J5OiB6LnN0cmluZygpLFxuICAgIG51bWJlck9mVm90ZXM6IHoubnVtYmVyKCksXG59KTtcblxuY29uc3QgcmVtaXRhUmVjZWlwdFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgcnJyOiB6LnN0cmluZygpLFxufSk7XG5cbmNvbnN0IHJlbWl0YVJyclZhbGlkYXRpb25TY2hlbWEgPSB6Lm9iamVjdCh7XG4gIHJycjogei5zdHJpbmcoKSxcbiAgY2hhbm5lbElkOiB6LnN0cmluZygpLFxufSk7XG5cbmNvbnN0IHBheXN0YWNrUGF5bWVudFJlcXVlc3RTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIGVtYWlsOiB6LnN0cmluZygpLmVtYWlsKCksXG4gIGFtb3VudDogei5udW1iZXIoKSxcbiAgbWV0YWRhdGE6IHoub2JqZWN0KHtcbiAgICBjb250ZXN0YW50SWQ6IHouc3RyaW5nKCksXG4gICAgY29udGVzdGFudE5hbWU6IHouc3RyaW5nKCksXG4gICAgY29udGVzdGFudENhdGVnb3J5OiB6LnN0cmluZygpLFxuICAgIG51bWJlck9mVm90ZXM6IHoubnVtYmVyKCksXG4gIH0pLFxufSk7XG5cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlbmROb21pbmF0aW9uRW1haWwoZm9ybURhdGE6IHouaW5mZXI8dHlwZW9mIG5vbWluYXRpb25Gb3JtU2NoZW1hPikge1xuICBjb25zdCB2YWxpZGF0ZWRGaWVsZHMgPSBub21pbmF0aW9uRm9ybVNjaGVtYS5zYWZlUGFyc2UoZm9ybURhdGEpO1xuXG4gIGlmICghdmFsaWRhdGVkRmllbGRzLnN1Y2Nlc3MpIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdJbnZhbGlkIGZvcm0gZGF0YS4nIH07XG4gIH1cbiAgXG4gIHRyeSB7XG4gICAgY29uc3QgeyBjYXRlZ29yeSwgbm9taW5lZU5hbWUsIG5vbWluZWVQaG9uZSwgbm9taW5hdGlvblJlYXNvbiwgbm9taW5hdG9yTmFtZSwgbm9taW5hdG9yUGhvbmUgfSA9IHZhbGlkYXRlZEZpZWxkcy5kYXRhO1xuXG4gICAgLy8gMS4gQXR0ZW1wdCB0byBzZW5kIGVtYWlsXG4gICAgaWYgKFJFU0VORF9BUElfS0VZKSB7XG4gICAgICBjb25zdCByZXNlbmQgPSBuZXcgUmVzZW5kKFJFU0VORF9BUElfS0VZKTtcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHJlc2VuZC5lbWFpbHMuc2VuZCh7XG4gICAgICAgIGZyb206ICdTUiBGaXRuZXNzIEF3YXJkcyA8bm9yZXBseUBzcmZpdG5lc3MuY29tLm5nPicsXG4gICAgICAgIHRvOiBbJ3NhbXBzb24wN0BvdXRsb29rLmNvbScsICdzcmZpdG5lc3MyNDdAZ21haWwuY29tJ10sXG4gICAgICAgIHN1YmplY3Q6ICdOZXcgQXdhcmQgTm9taW5hdGlvbiBSZWNlaXZlZCEnLFxuICAgICAgICBodG1sOiBgXG4gICAgICAgICAgICA8aDE+TmV3IFNSIEZpdG5lc3MgQXdhcmQgTm9taW5hdGlvbjwvaDE+XG4gICAgICAgICAgICA8cD5BIG5ldyBub21pbmF0aW9uIGhhcyBiZWVuIHN1Ym1pdHRlZC4gSGVyZSBhcmUgdGhlIGRldGFpbHM6PC9wPlxuICAgICAgICAgICAgPGgyPk5vbWluZWUgRGV0YWlsczo8L2gyPlxuICAgICAgICAgICAgPHVsPlxuICAgICAgICAgICAgICAgIDxsaT48c3Ryb25nPkNhdGVnb3J5Ojwvc3Ryb25nPiAke2NhdGVnb3J5fTwvbGk+XG4gICAgICAgICAgICAgICAgPGxpPjxzdHJvbmc+TmFtZTo8L3N0cm9uZz4gJHtub21pbmVlTmFtZX08L2xpPlxuICAgICAgICAgICAgICAgIDxsaT48c3Ryb25nPlBob25lOjwvc3Ryb25nPiAke25vbWluZWVQaG9uZX08L2xpPlxuICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgIDxoMj5SZWFzb24gZm9yIE5vbWluYXRpb246PC9oMj5cbiAgICAgICAgICAgIDxwPiR7bm9taW5hdGlvblJlYXNvbn08L3A+XG4gICAgICAgICAgICA8aHIgLz5cbiAgICAgICAgICAgIDxoMj5Ob21pbmF0b3IgRGV0YWlsczo8L2gyPlxuICAgICAgICAgICAgPHVsPlxuICAgICAgICAgICAgICAgIDxsaT48c3Ryb25nPk5hbWU6PC9zdHJvbmc+ICR7bm9taW5hdG9yTmFtZX08L2xpPlxuICAgICAgICAgICAgICAgIDxsaT48c3Ryb25nPlBob25lOjwvc3Ryb25nPiAke25vbWluYXRvclBob25lfTwvbGk+XG4gICAgICAgICAgICA8L3VsPlxuICAgICAgICBgLFxuICAgICAgfSk7XG5cbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAvLyBJZiBlbWFpbCBmYWlscywgcmV0dXJuIGFuIGVycm9yIGFuZCBkbyBub3Qgc2F2ZSB0byBEQlxuICAgICAgICBjb25zb2xlLmVycm9yKCdSZXNlbmQgQVBJIEVycm9yOicsIGVycm9yKTtcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnRmFpbGVkIHRvIHNlbmQgbm9taW5hdGlvbiBlbWFpbC4gUGxlYXNlIHRyeSBhZ2Fpbi4nIH07XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdSZXNlbmQgQVBJIGtleSBpcyBub3QgY29uZmlndXJlZC4gU2tpcHBpbmcgZW1haWwgc2VuZGluZy4nKTtcbiAgICB9XG5cbiAgICAvLyAyLiBJZiBlbWFpbCBpcyBzZW50IChvciBza2lwcGVkKSwgc2F2ZSB0byBGaXJlc3RvcmVcbiAgICBhd2FpdCBhZGROb21pbmF0aW9uKHZhbGlkYXRlZEZpZWxkcy5kYXRhKTtcbiAgICBcbiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBtZXNzYWdlOiAnTm9taW5hdGlvbiBzdWJtaXR0ZWQgc3VjY2Vzc2Z1bGx5IScgfTtcblxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0FuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQgaW4gc2VuZE5vbWluYXRpb25FbWFpbDonLCBlcnJvcik7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgZXJyb3I6ICdBbiB1bmV4cGVjdGVkIHNlcnZlciBlcnJvciBvY2N1cnJlZC4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlci4nLFxuICAgIH07XG4gIH1cbn1cblxuLyoqXG4gKiBSZWNvcmRzIGEgdm90ZSBpbiB0aGUgRmlyZXN0b3JlIGRhdGFiYXNlIGFuZCB0cmlnZ2VycyBhIFphcGllciB3ZWJob29rIGlmIGNvbmZpZ3VyZWQuXG4gKiBUaGlzIGlzIHRoZSBjcnVjaWFsIHN0ZXAgdGhhdCB1cGRhdGVzIHRoZSBhZG1pbiB2b3RlIHRyYWNrZXIuXG4gKiBJdCBzaG91bGQgYmUgY2FsbGVkIE9OTFkgYWZ0ZXIgYSBwYXltZW50IGlzIHN1Y2Nlc3NmdWxseSB2ZXJpZmllZC5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlY29yZFZvdGUodm90ZURhdGE6IHouaW5mZXI8dHlwZW9mIHZvdGVTY2hlbWE+KSB7XG4gIGNvbnN0IHZhbGlkYXRlZEZpZWxkcyA9IHZvdGVTY2hlbWEuc2FmZVBhcnNlKHZvdGVEYXRhKTtcblxuICBpZiAoIXZhbGlkYXRlZEZpZWxkcy5zdWNjZXNzKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkludmFsaWQgdm90ZSBkYXRhIGZvciBGaXJlc3RvcmU6XCIsIHZhbGlkYXRlZEZpZWxkcy5lcnJvcik7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgZXJyb3I6ICdJbnZhbGlkIHZvdGUgZGF0YSBwcm92aWRlZC4nLFxuICAgIH07XG4gIH1cblxuICB0cnkge1xuICAgIC8vIFN0ZXAgMTogU2F2ZSB0aGUgdm90ZSB0byBGaXJlc3RvcmUuIFRoaXMgaXMgdGhlIHByaW1hcnksIGNyaXRpY2FsIGFjdGlvbi5cbiAgICBhd2FpdCBhZGRWb3RlKHZhbGlkYXRlZEZpZWxkcy5kYXRhKTtcbiAgICBjb25zb2xlLmxvZyhcIlZvdGUgc3VjY2Vzc2Z1bGx5IHJlY29yZGVkIGluIEZpcmVzdG9yZSBmb3I6XCIsIHZvdGVEYXRhLmNvbnRlc3RhbnROYW1lKTtcblxuICAgIC8vIFN0ZXAgMjogSWYgYSBaYXBpZXIgd2ViaG9vayBVUkwgaXMgY29uZmlndXJlZCwgc2VuZCB0aGUgZGF0YS4gVGhpcyBpcyBhIHNlY29uZGFyeSBhY3Rpb24uXG4gICAgaWYgKFpBUElFUl9WT1RFX1dFQkhPT0tfVVJMKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFpBUElFUl9WT1RFX1dFQkhPT0tfVVJMLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgLi4udmFsaWRhdGVkRmllbGRzLmRhdGEsXG4gICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSwgLy8gQWRkIGEgaHVtYW4tcmVhZGFibGUgdGltZXN0YW1wIGZvciBaYXBpZXJcbiAgICAgICAgICB9KSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHdlYmhvb2sgY2FsbCB3YXMgc3VjY2Vzc2Z1bFxuICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiU3VjY2Vzc2Z1bGx5IHRyaWdnZXJlZCBaYXBpZXIgd2ViaG9vayBmb3IgbmV3IHZvdGUuXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gTG9nIHRoZSBmYWlsdXJlIGRldGFpbHMgYnV0IGRvIG5vdCB0aHJvdyBhbiBlcnJvciwgYXMgdGhlIHZvdGUgaXMgYWxyZWFkeSBzYXZlZC5cbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlQm9keSA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFphcGllciB3ZWJob29rIGNhbGwgZmFpbGVkIHdpdGggc3RhdHVzICR7cmVzcG9uc2Uuc3RhdHVzfTogJHtyZXNwb25zZUJvZHl9YCk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKHphcGllckVycm9yKSB7XG4gICAgICAgIC8vIExvZyB0aGUgbmV0d29yayBlcnJvciBidXQgZG9uJ3QgZmFpbCB0aGUgZW50aXJlIHRyYW5zYWN0aW9uLlxuICAgICAgICAvLyBUaGlzIGVuc3VyZXMgdGhlIHZvdGUgaXMgc3RpbGwgY291bnRlZCBldmVuIGlmIFphcGllciBpcyB0ZW1wb3JhcmlseSB1bnJlYWNoYWJsZS5cbiAgICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byB0cmlnZ2VyIFphcGllciB3ZWJob29rIGR1ZSB0byBhIG5ldHdvcmsgb3IgZmV0Y2ggZXJyb3I6XCIsIHphcGllckVycm9yKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBtZXNzYWdlOiBcIlZvdGUgc3VjY2Vzc2Z1bGx5IHJlY29yZGVkLlwiIH07XG5cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIHJlY29yZCB2b3RlIGluIFNlcnZlciBBY3Rpb246IFwiLCBlcnJvcik7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgZXJyb3I6ICdUaGVyZSB3YXMgYW4gZXJyb3IgcmVjb3JkaW5nIHlvdXIgdm90ZSB0byB0aGUgZGF0YWJhc2UuJ1xuICAgIH07XG4gIH1cbn1cblxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlUGF5c3RhY2tQYXltZW50KHBheW1lbnREYXRhOiB6LmluZmVyPHR5cGVvZiBwYXlzdGFja1BheW1lbnRSZXF1ZXN0U2NoZW1hPikge1xuICAgIGNvbnN0IHZhbGlkYXRlZEZpZWxkcyA9IHBheXN0YWNrUGF5bWVudFJlcXVlc3RTY2hlbWEuc2FmZVBhcnNlKHBheW1lbnREYXRhKTtcbiAgICBpZiAoIXZhbGlkYXRlZEZpZWxkcy5zdWNjZXNzKSB7XG4gICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ0ludmFsaWQgcGF5bWVudCBkYXRhIHByb3ZpZGVkLicgfTtcbiAgICB9XG5cbiAgICBpZiAoIVBBWVNUQUNLX1NFQ1JFVF9LRVkpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIlBheXN0YWNrIHNlY3JldCBrZXkgaXMgbm90IGNvbmZpZ3VyZWQuXCIpO1xuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiUGF5bWVudCBnYXRld2F5IGlzIG5vdCBjb25maWd1cmVkIGNvcnJlY3RseS5cIiB9O1xuICAgIH1cblxuICAgIGNvbnN0IHsgZW1haWwsIGFtb3VudCwgbWV0YWRhdGEgfSA9IHZhbGlkYXRlZEZpZWxkcy5kYXRhO1xuXG4gICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgZW1haWwsXG4gICAgICAgIGFtb3VudDogYW1vdW50ICogMTAwLCAvLyBQYXlzdGFjayBleHBlY3RzIGFtb3VudCBpbiBrb2JvXG4gICAgICAgIGNhbGxiYWNrX3VybDogYCR7TkVYVF9QVUJMSUNfQkFTRV9VUkx9L3ZvdGUvY2FsbGJhY2tgLFxuICAgICAgICBtZXRhZGF0YSxcbiAgICB9O1xuXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnaHR0cHM6Ly9hcGkucGF5c3RhY2suY28vdHJhbnNhY3Rpb24vaW5pdGlhbGl6ZScsIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICAnQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHtQQVlTVEFDS19TRUNSRVRfS0VZfWAsXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChkYXRhLnN0YXR1cykge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICAgIGF1dGhvcml6YXRpb25Vcmw6IGRhdGEuZGF0YS5hdXRob3JpemF0aW9uX3VybCxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiUGF5c3RhY2sgQVBJIGVycm9yOlwiLCBkYXRhLm1lc3NhZ2UpO1xuICAgICAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBkYXRhLm1lc3NhZ2UgfHwgJ1BheW1lbnQgaW5pdGlhdGlvbiBmYWlsZWQuJyB9O1xuICAgICAgICB9XG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgY2FsbGluZyBQYXlzdGFjayBBUEk6XCIsIGVycm9yKTtcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkNvdWxkIG5vdCBjb25uZWN0IHRvIHRoZSBwYXltZW50IGdhdGV3YXkuXCIgfTtcbiAgICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB2ZXJpZnlQYXlzdGFja1BheW1lbnQocmVmZXJlbmNlOiBzdHJpbmcpIHtcbiAgICBpZiAoIXJlZmVyZW5jZSkge1xuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdObyBwYXltZW50IHJlZmVyZW5jZSBwcm92aWRlZC4nLCBzdGF0dXM6ICdlcnJvcicgfTtcbiAgICB9XG5cbiAgICBpZiAoIVBBWVNUQUNLX1NFQ1JFVF9LRVkpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIlBheXN0YWNrIHNlY3JldCBrZXkgaXMgbm90IGNvbmZpZ3VyZWQuXCIpO1xuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiUGF5bWVudCBnYXRld2F5IGlzIG5vdCBjb25maWd1cmVkIGNvcnJlY3RseS5cIiwgc3RhdHVzOiAnZXJyb3InIH07XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgaHR0cHM6Ly9hcGkucGF5c3RhY2suY28vdHJhbnNhY3Rpb24vdmVyaWZ5LyR7cmVmZXJlbmNlfWAsIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7UEFZU1RBQ0tfU0VDUkVUX0tFWX1gLFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICAgIGlmIChkYXRhLnN0YXR1cyAmJiBkYXRhLmRhdGEuc3RhdHVzID09PSAnc3VjY2VzcycpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgY29udGVzdGFudElkLCBjb250ZXN0YW50TmFtZSwgY29udGVzdGFudENhdGVnb3J5LCBudW1iZXJPZlZvdGVzIH0gPSBkYXRhLmRhdGEubWV0YWRhdGE7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFRoaXMgaXMgdGhlIGNydWNpYWwgc3RlcDogcmVjb3JkIHRoZSB2b3RlIG9ubHkgYWZ0ZXIgc3VjY2Vzc2Z1bCB2ZXJpZmljYXRpb24uXG4gICAgICAgICAgICBjb25zdCB2b3RlUmVjb3JkUmVzdWx0ID0gYXdhaXQgcmVjb3JkVm90ZSh7XG4gICAgICAgICAgICAgICAgY29udGVzdGFudElkLFxuICAgICAgICAgICAgICAgIGNvbnRlc3RhbnROYW1lLFxuICAgICAgICAgICAgICAgIGNvbnRlc3RhbnRDYXRlZ29yeSxcbiAgICAgICAgICAgICAgICBudW1iZXJPZlZvdGVzOiBOdW1iZXIobnVtYmVyT2ZWb3RlcyksXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKHZvdGVSZWNvcmRSZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IFxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLCBcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ1BheW1lbnQgdmVyaWZpZWQgYW5kIHZvdGUgcmVjb3JkZWQgc3VjY2Vzc2Z1bGx5IScsXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogJ3N1Y2Nlc3MnLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICByZXR1cm4geyBcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsIFxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogYFBheW1lbnQgd2FzIHN1Y2Nlc3NmdWwsIGJ1dCB2b3RlIHJlY29yZGluZyBmYWlsZWQuIFBsZWFzZSBjb250YWN0IHN1cHBvcnQuIEVycm9yOiAke3ZvdGVSZWNvcmRSZXN1bHQuZXJyb3J9YCxcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnZXJyb3InLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7IFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLCBcbiAgICAgICAgICAgICAgICBlcnJvcjogYFBheW1lbnQgdmVyaWZpY2F0aW9uIGZhaWxlZDogJHtkYXRhLmRhdGEuZ2F0ZXdheV9yZXNwb25zZX1gLFxuICAgICAgICAgICAgICAgIHN0YXR1czogZGF0YS5kYXRhLnN0YXR1cyB8fCAnZmFpbGVkJyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciB2ZXJpZnlpbmcgUGF5c3RhY2sgcGF5bWVudDpcIiwgZXJyb3IpO1xuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiQ291bGQgbm90IGNvbm5lY3QgdG8gdGhlIHBheW1lbnQgZ2F0ZXdheSBmb3IgdmVyaWZpY2F0aW9uLlwiLCBzdGF0dXM6ICdlcnJvcicgfTtcbiAgICB9XG59XG5cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVdlbWFBbGF0UGF5bWVudChwYXltZW50RGF0YTogei5pbmZlcjx0eXBlb2Ygd2VtYVBheW1lbnRSZXF1ZXN0U2NoZW1hPikge1xuICBjb25zdCB2YWxpZGF0ZWRGaWVsZHMgPSB3ZW1hUGF5bWVudFJlcXVlc3RTY2hlbWEuc2FmZVBhcnNlKHBheW1lbnREYXRhKTtcbiAgaWYgKCF2YWxpZGF0ZWRGaWVsZHMuc3VjY2Vzcykge1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ0ludmFsaWQgcGF5bWVudCBkYXRhIHByb3ZpZGVkLicgfTtcbiAgfVxuICBcbiAgaWYgKCFXRU1BX0FMQVRfU1VCU0NSSVBUSU9OX0tFWSB8fCAhV0VNQV9BTEFUX1NPVVJDRV9BQ0NPVU5UIHx8ICFXRU1BX0FMQVRfQ0hBTk5FTF9JRCkge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJXZW1hIEFsYXQgZW52aXJvbm1lbnQgdmFyaWFibGVzIGFyZSBub3Qgc2V0LlwiKTtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiUGF5bWVudCBnYXRld2F5IGlzIG5vdCBjb25maWd1cmVkIGNvcnJlY3RseS5cIiB9O1xuICB9XG5cbiAgY29uc3QgeyBhbW91bnQsIGNvbnRlc3RhbnRJZCwgY29udGVzdGFudE5hbWUsIGNvbnRlc3RhbnRDYXRlZ29yeSwgbnVtYmVyT2ZWb3RlcyB9ID0gdmFsaWRhdGVkRmllbGRzLmRhdGE7XG5cbiAgY29uc3QgdHJhbnNhY3Rpb25SZWZlcmVuY2UgPSBgU1JGLVZPVEUtJHtjb250ZXN0YW50SWR9LSR7RGF0ZS5ub3coKX1gO1xuICBjb25zdCBuYXJyYXRpb24gPSBgVm90ZSBmb3IgJHtjb250ZXN0YW50TmFtZX0gaW4gJHtjb250ZXN0YW50Q2F0ZWdvcnl9YDtcblxuICBjb25zdCBib2R5ID0ge1xuICAgIGFtb3VudDogYW1vdW50LFxuICAgIHNvdXJjZUFjY291bnROdW1iZXI6IFdFTUFfQUxBVF9TT1VSQ0VfQUNDT1VOVCxcbiAgICBjaGFubmVsSWQ6IFdFTUFfQUxBVF9DSEFOTkVMX0lELFxuICAgIG5hcnJhdGlvbjogbmFycmF0aW9uLFxuICAgIHRyYW5zYWN0aW9uUmVmZXJlbmNlOiB0cmFuc2FjdGlvblJlZmVyZW5jZVxuICB9O1xuXG4gIHRyeSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnaHR0cHM6Ly93ZW1hLWFsYXRkZXYtYXBpbWd0LmF6dXJlLWFwaS5uZXQvYWxhdC1wYXkvYXBpL0Vjb21tZXJjZVRyYW5zZmVyL3RyYW5zZmVyLWZ1bmQtcmVxdWVzdCcsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICdDYWNoZS1Db250cm9sJzogJ25vLWNhY2hlJyxcbiAgICAgICAgJ09jcC1BcGltLVN1YnNjcmlwdGlvbi1LZXknOiBXRU1BX0FMQVRfU1VCU0NSSVBUSU9OX0tFWSxcbiAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICBjb25zdCByZXNwb25zZVRleHQgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gICAgY29uc29sZS5sb2coXCJXZW1hIEFsYXQgdHJhbnNmZXItZnVuZC1yZXF1ZXN0IHJlc3BvbnNlIHN0YXR1czpcIiwgcmVzcG9uc2Uuc3RhdHVzKTtcbiAgICBjb25zb2xlLmxvZyhcIldlbWEgQWxhdCB0cmFuc2Zlci1mdW5kLXJlcXVlc3QgcmVzcG9uc2UgYm9keTpcIiwgcmVzcG9uc2VUZXh0KTtcblxuICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UocmVzcG9uc2VUZXh0KTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlBheW1lbnQgaW5pdGlhdGVkLiBQbGVhc2UgZW50ZXIgT1RQLlwiLFxuICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgcGxhdGZvcm1UcmFuc2FjdGlvblJlZmVyZW5jZTogZGF0YS5wbGF0Zm9ybVRyYW5zYWN0aW9uUmVmZXJlbmNlLFxuICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvblJlZmVyZW5jZTogdHJhbnNhY3Rpb25SZWZlcmVuY2UsXG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWxJZDogV0VNQV9BTEFUX0NIQU5ORUxfSUQsXG4gICAgICAgICAgICAgICAgICAgIC8vIFBhc3Mgdm90ZSBpbmZvIHRocm91Z2ggZm9yIHRoZSBuZXh0IHN0ZXBcbiAgICAgICAgICAgICAgICAgICAgY29udGVzdGFudElkLFxuICAgICAgICAgICAgICAgICAgICBjb250ZXN0YW50TmFtZSxcbiAgICAgICAgICAgICAgICAgICAgY29udGVzdGFudENhdGVnb3J5LFxuICAgICAgICAgICAgICAgICAgICBudW1iZXJPZlZvdGVzLFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gcGFyc2UgSlNPTiBmcm9tIFdlbWEgQWxhdCByZXNwb25zZVwiLCBlKTtcbiAgICAgICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGBSZWNlaXZlZCBhbiB1bnJlYWRhYmxlIHJlc3BvbnNlIGZyb20gcGF5bWVudCBnYXRld2F5OiAke3Jlc3BvbnNlVGV4dH1gIH07XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogYFBheW1lbnQgaW5pdGlhdGlvbiBmYWlsZWQ6ICR7cmVzcG9uc2VUZXh0fWAsIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzIH07XG4gICAgfVxuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGNhbGxpbmcgV2VtYSBBbGF0IEFQSTpcIiwgZXJyb3IpO1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJDb3VsZCBub3QgY29ubmVjdCB0byB0aGUgcGF5bWVudCBnYXRld2F5LlwiIH07XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHZhbGlkYXRlV2VtYUFsYXRQYXltZW50KHZhbGlkYXRpb25EYXRhOiB6LmluZmVyPHR5cGVvZiB3ZW1hUGF5bWVudFZhbGlkYXRpb25TY2hlbWE+KSB7XG4gICAgY29uc3QgdmFsaWRhdGVkRmllbGRzID0gd2VtYVBheW1lbnRWYWxpZGF0aW9uU2NoZW1hLnNhZmVQYXJzZSh2YWxpZGF0aW9uRGF0YSk7XG4gICAgaWYgKCF2YWxpZGF0ZWRGaWVsZHMuc3VjY2Vzcykge1xuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdJbnZhbGlkIHZhbGlkYXRpb24gZGF0YSBwcm92aWRlZC4nIH07XG4gICAgfVxuXG4gICAgaWYgKCFXRU1BX0FMQVRfU1VCU0NSSVBUSU9OX0tFWSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiV2VtYSBBbGF0IHN1YnNjcmlwdGlvbiBrZXkgaXMgbm90IHNldC5cIik7XG4gICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJQYXltZW50IGdhdGV3YXkgaXMgbm90IGNvbmZpZ3VyZWQgY29ycmVjdGx5LlwiIH07XG4gICAgfVxuXG4gICAgY29uc3QgeyBjaGFubmVsSWQsIHRyYW5zYWN0aW9uUmVmZXJlbmNlLCBwbGF0Zm9ybVRyYW5zYWN0aW9uUmVmZXJlbmNlLCBvdHAsIGNvbnRlc3RhbnRJZCwgY29udGVzdGFudE5hbWUsIGNvbnRlc3RhbnRDYXRlZ29yeSwgbnVtYmVyT2ZWb3RlcyB9ID0gdmFsaWRhdGVkRmllbGRzLmRhdGE7XG5cbiAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICBjaGFubmVsSWQsXG4gICAgICAgIHRyYW5zYWN0aW9uUmVmZXJlbmNlLFxuICAgICAgICBwbGF0Zm9ybVRyYW5zYWN0aW9uUmVmZXJlbmNlLFxuICAgICAgICBvdHAsXG4gICAgfTtcblxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJ2h0dHBzOi8vd2VtYS1hbGF0ZGV2LWFwaW1ndC5henVyZS1hcGkubmV0L2FsYXQtcGF5L2FwaS9FY29tbWVyY2VUcmFuc2Zlci90cmFuc2Zlci1mdW5kLXZhbGlkYXRpb24nLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgJ0NhY2hlLUNvbnRyb2wnOiAnbm8tY2FjaGUnLFxuICAgICAgICAgICAgICAgICdPY3AtQXBpbS1TdWJzY3JpcHRpb24tS2V5JzogV0VNQV9BTEFUX1NVQlNDUklQVElPTl9LRVksXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlVGV4dCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJXZW1hIEFsYXQgdHJhbnNmZXItZnVuZC12YWxpZGF0aW9uIHJlc3BvbnNlIHN0YXR1czpcIiwgcmVzcG9uc2Uuc3RhdHVzKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJXZW1hIEFsYXQgdHJhbnNmZXItZnVuZC12YWxpZGF0aW9uIHJlc3BvbnNlIGJvZHk6XCIsIHJlc3BvbnNlVGV4dCk7XG4gICAgICAgIFxuICAgICAgICBpZihyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgY29uc3Qgdm90ZVJlY29yZFJlc3VsdCA9IGF3YWl0IHJlY29yZFZvdGUoeyBjb250ZXN0YW50SWQsIGNvbnRlc3RhbnROYW1lLCBjb250ZXN0YW50Q2F0ZWdvcnksIG51bWJlck9mVm90ZXMgfSk7XG4gICAgICAgICAgICBpZiAoIXZvdGVSZWNvcmRSZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgIC8vIFBheW1lbnQgc3VjY2VlZGVkLCBidXQgREIgZmFpbGVkLiBJbXBvcnRhbnQgdG8gbm90aWZ5IHVzZXIvYWRtaW4uXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgbWVzc2FnZTogYFBheW1lbnQgdmFsaWRhdGVkLCBidXQgZmFpbGVkIHRvIHJlY29yZCB2b3RlOiAke3ZvdGVSZWNvcmRSZXN1bHQuZXJyb3J9YCB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgbWVzc2FnZTogXCJQYXltZW50IHZhbGlkYXRlZCBhbmQgdm90ZSByZWNvcmRlZCBzdWNjZXNzZnVsbHkhXCIgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogYE9UUCB2YWxpZGF0aW9uIGZhaWxlZDogJHtyZXNwb25zZVRleHR9YCB9O1xuICAgICAgICB9XG5cbiAgICB9IGNhdGNoKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBjYWxsaW5nIFdlbWEgQWxhdCB2YWxpZGF0aW9uIEFQSTpcIiwgZXJyb3IpO1xuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiQ291bGQgbm90IGNvbm5lY3QgdG8gdGhlIHBheW1lbnQgZ2F0ZXdheSBmb3IgdmFsaWRhdGlvbi5cIiB9O1xuICAgIH1cbn1cblxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2hlY2tXZW1hQWxhdFRyYW5zYWN0aW9uU3RhdHVzKHN0YXR1c0RhdGE6IHouaW5mZXI8dHlwZW9mIHdlbWFQYXltZW50U3RhdHVzU2NoZW1hPikge1xuICAgIGNvbnN0IHZhbGlkYXRlZEZpZWxkcyA9IHdlbWFQYXltZW50U3RhdHVzU2NoZW1hLnNhZmVQYXJzZShzdGF0dXNEYXRhKTtcbiAgICBpZiAoIXZhbGlkYXRlZEZpZWxkcy5zdWNjZXNzKSB7XG4gICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ0ludmFsaWQgdHJhbnNhY3Rpb24gZGF0YScgfTtcbiAgICB9XG5cbiAgICBjb25zdCB7IGNoYW5uZWxJZCwgdHJhbnNhY3Rpb25SZWZlcmVuY2UgfSA9IHZhbGlkYXRlZEZpZWxkcy5kYXRhO1xuXG4gICAgY29uc3Qgd2VtYUFsYXRVcmwgPSBgaHR0cHM6Ly93ZW1hLWFsYXRkZXYtYXBpbWd0LmF6dXJlLWFwaS5uZXQvYWxhdC1wYXkvYXBpL0Vjb21tZXJjZVRyYW5zZmVyL0NoZWNrVHJhbnNhY3Rpb25TdGF0dXMvJHtjaGFubmVsSWR9LyR7dHJhbnNhY3Rpb25SZWZlcmVuY2V9YDtcblxuICAgIGlmICghV0VNQV9BTEFUX1NVQlNDUklQVElPTl9LRVkpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIldlbWEgQWxhdCBzdWJzY3JpcHRpb24ga2V5IGlzIG5vdCBzZXQgaW4gZW52aXJvbm1lbnQgdmFyaWFibGVzLlwiKTtcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIlBheW1lbnQgZ2F0ZXdheSBpcyBub3QgY29uZmlndXJlZC5cIiB9O1xuICAgIH1cbiAgICBcbiAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHdlbWFBbGF0VXJsLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICdDYWNoZS1Db250cm9sJzogJ25vLWNhY2hlJyxcbiAgICAgICAgICAgICAgICAnT2NwLUFwaW0tU3Vic2NyaXB0aW9uLUtleSc6IFdFTUFfQUxBVF9TVUJTQ1JJUFRJT05fS0VZLFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCByZXN1bHRUZXh0ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xuICAgICAgICBjb25zdCByZXN1bHRTdGF0dXMgPSByZXNwb25zZS5zdGF0dXM7XG4gICAgICAgIGNvbnNvbGUubG9nKCdXZW1hIEFsYXQgU3RhdHVzOicsIHJlc3VsdFN0YXR1cyk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdXZW1hIEFsYXQgUmVzcG9uc2U6JywgcmVzdWx0VGV4dCk7XG5cbiAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBzdGF0dXM6IHJlc3VsdFN0YXR1cywgZGF0YTogcmVzdWx0VGV4dCB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBgRmFpbGVkIHRvIGNoZWNrIHRyYW5zYWN0aW9uIHN0YXR1czogJHtyZXN1bHRUZXh0fWAsIHN0YXR1czogcmVzdWx0U3RhdHVzIH07XG4gICAgICAgIH1cblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBjYWxsaW5nIFdlbWEgQWxhdCBBUEk6XCIsIGVycm9yKTtcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkNvdWxkIG5vdCBjb25uZWN0IHRvIHRoZSBwYXltZW50IGdhdGV3YXkuXCIgfTtcbiAgICB9XG59XG5cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVJlbWl0YVBheW1lbnQocGF5bWVudERhdGE6IHouaW5mZXI8dHlwZW9mIHJlbWl0YVBheW1lbnRSZXF1ZXN0U2NoZW1hPikge1xuICAgIGNvbnN0IHZhbGlkYXRlZEZpZWxkcyA9IHJlbWl0YVBheW1lbnRSZXF1ZXN0U2NoZW1hLnNhZmVQYXJzZShwYXltZW50RGF0YSk7XG4gICAgaWYgKCF2YWxpZGF0ZWRGaWVsZHMuc3VjY2Vzcykge1xuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiSW52YWxpZCBSZW1pdGEgcGF5bWVudCBkYXRhLlwiIH07XG4gICAgfVxuXG4gICAgaWYgKCFXRU1BX0FMQVRfU1VCU0NSSVBUSU9OX0tFWSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiUmVtaXRhIHN1YnNjcmlwdGlvbiBrZXkgaXMgbm90IHNldC5cIik7XG4gICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJQYXltZW50IGdhdGV3YXkgaXMgbm90IGNvbmZpZ3VyZWQgY29ycmVjdGx5LlwiIH07XG4gICAgfVxuXG4gICAgY29uc3QgeyBhbW91bnQsIGNoYXJnZSwgdHJhbnNhY3Rpb25SZWZlcmVuY2UsIGN1c3RvbWVyRW1haWwsIGN1c3RvbWVyTmFtZSwgY3VzdG9tZXJQaG9uZU51bWJlciwgZGVzY3JpcHRpb24sIGNvbnRlc3RhbnRJZCwgY29udGVzdGFudE5hbWUsIGNvbnRlc3RhbnRDYXRlZ29yeSwgbnVtYmVyT2ZWb3RlcyB9ID0gdmFsaWRhdGVkRmllbGRzLmRhdGE7XG5cbiAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICBjaGFubmVsSWQ6IFwic3RyaW5nXCIsIC8vIFBsYWNlaG9sZGVyXG4gICAgICAgIGNpZjogXCJzdHJpbmdcIiwgLy8gUGxhY2Vob2xkZXJcbiAgICAgICAgY3VzdG9tZXJBY2NvdW50OiBcInN0cmluZ1wiLCAvLyBQbGFjZWhvbGRlclxuICAgICAgICBhbW91bnQ6IGFtb3VudCxcbiAgICAgICAgY2hhcmdlOiBjaGFyZ2UsXG4gICAgICAgIHRyYW5zYWN0aW9uUmVmZXJlbmNlOiB0cmFuc2FjdGlvblJlZmVyZW5jZSxcbiAgICAgICAgY3VzdG9tZXJFbWFpbDogY3VzdG9tZXJFbWFpbCxcbiAgICAgICAgY3VzdG9tZXJQaG9uZU51bWJlcjogY3VzdG9tZXJQaG9uZU51bWJlcixcbiAgICAgICAgY3VzdG9tZXJOYW1lOiBjdXN0b21lck5hbWUsXG4gICAgICAgIHJycjogXCJzdHJpbmdcIiwgLy8gUGxhY2Vob2xkZXJcbiAgICAgICAgcGF5ZXJFbWFpbDogY3VzdG9tZXJFbWFpbCxcbiAgICAgICAgcGF5ZXJOYW1lOiBjdXN0b21lck5hbWUsXG4gICAgICAgIHBheWVyTnVtYmVyOiBjdXN0b21lclBob25lTnVtYmVyLFxuICAgICAgICBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb24sXG4gICAgICAgIGJpbGxBdXRoT3B0aW9uczoge1xuICAgICAgICAgICAgcGluOiBcInN0cmluZ1wiLFxuICAgICAgICAgICAgb3RwOiBcInN0cmluZ1wiLFxuICAgICAgICAgICAgYmlvbWV0cmljUG9saWN5OiBcInN0cmluZ1wiLFxuICAgICAgICAgICAgYmlvbWV0cmljVG9rZW46IFwic3RyaW5nXCIsXG4gICAgICAgICAgICBwbGF0Zm9ybVRyYW5zYWN0aW9uUmVmZXJlbmNlOiBcInN0cmluZ1wiLFxuICAgICAgICAgICAgYXV0aGVudGljYXRpb25UeXBlOiAwXG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnaHR0cHM6Ly93ZW1hLWFsYXRkZXYtYXBpbWd0LmF6dXJlLWFwaS5uZXQvcmVtaXRhLXBheW1lbnRzL2FwaS9SZW1pdGFQYXltZW50L1BheVJlbWl0YUJpbGwnLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgJ0NhY2hlLUNvbnRyb2wnOiAnbm8tY2FjaGUnLFxuICAgICAgICAgICAgICAgICdPY3AtQXBpbS1TdWJzY3JpcHRpb24tS2V5JzogV0VNQV9BTEFUX1NVQlNDUklQVElPTl9LRVksXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlVGV4dCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJSZW1pdGEgUGF5UmVtaXRhQmlsbCByZXNwb25zZSBzdGF0dXM6XCIsIHJlc3BvbnNlLnN0YXR1cyk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiUmVtaXRhIFBheVJlbWl0YUJpbGwgcmVzcG9uc2UgYm9keTpcIiwgcmVzcG9uc2VUZXh0KTtcbiAgICAgICAgXG4gICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgY29uc3Qgdm90ZURhdGEgPSB7IGNvbnRlc3RhbnRJZCwgY29udGVzdGFudE5hbWUsIGNvbnRlc3RhbnRDYXRlZ29yeSwgbnVtYmVyT2ZWb3RlcyB9O1xuICAgICAgICAgICAgYXdhaXQgcmVjb3JkVm90ZSh2b3RlRGF0YSk7IC8vIFJlY29yZCB2b3RlIG9uIHN1Y2Nlc3NcbiAgICAgICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIG1lc3NhZ2U6IFwiUmVtaXRhIHBheW1lbnQgcHJvY2Vzc2VkIGFuZCB2b3RlIHJlY29yZGVkIHN1Y2Nlc3NmdWxseS5cIiwgZGF0YTogSlNPTi5wYXJzZShyZXNwb25zZVRleHQpIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNTAwKSB7XG4gICAgICAgICAgICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogYFJlbWl0YSBwYXltZW50IGZhaWxlZCBkdWUgdG8gYW4gaW50ZXJuYWwgc2VydmVyIGVycm9yIG9uIHRoZSBnYXRld2F5LiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyIG9yIGNvbnRhY3Qgc3VwcG9ydC5gIH07XG4gICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBgUmVtaXRhIHBheW1lbnQgZmFpbGVkOiAke3Jlc3BvbnNlVGV4dH1gIH07XG4gICAgICAgIH1cblxuICAgIH0gY2F0Y2goZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGNhbGxpbmcgUmVtaXRhIFBheVJlbWl0YUJpbGwgQVBJOlwiLCBlcnJvcik7XG4gICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJDb3VsZCBub3QgY29ubmVjdCB0byB0aGUgUmVtaXRhIHBheW1lbnQgZ2F0ZXdheS5cIiB9O1xuICAgIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHByaW50UmVtaXRhUmVjZWlwdChyZWNlaXB0RGF0YTogei5pbmZlcjx0eXBlb2YgcmVtaXRhUmVjZWlwdFNjaGVtYT4pIHtcbiAgICBjb25zdCB2YWxpZGF0ZWRGaWVsZHMgPSByZW1pdGFSZWNlaXB0U2NoZW1hLnNhZmVQYXJzZShyZWNlaXB0RGF0YSk7XG4gICAgaWYgKCF2YWxpZGF0ZWRGaWVsZHMuc3VjY2Vzcykge1xuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiSW52YWxpZCBSZW1pdGEgcmVjZWlwdCBkYXRhLlwiIH07XG4gICAgfVxuXG4gICAgY29uc3QgeyBycnIgfSA9IHZhbGlkYXRlZEZpZWxkcy5kYXRhO1xuXG4gICAgY29uc3QgcmVtaXRhVXJsID0gYGh0dHBzOi8vd2VtYS1hbGF0ZGV2LWFwaW1ndC5henVyZS1hcGkubmV0L3JlbWl0YS1wYXltZW50cy9hcGkvUmVtaXRhUGF5bWVudC9QcmludFJlbWl0YVJlY2VpcHQvJHtycnJ9YDtcblxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2gocmVtaXRhVXJsLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICdDYWNoZS1Db250cm9sJzogJ25vLWNhY2hlJyxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgcmVzcG9uc2VUZXh0ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xuICAgICAgICBjb25zb2xlLmxvZyhcIlJlbWl0YSBQcmludFJlbWl0YVJlY2VpcHQgcmVzcG9uc2Ugc3RhdHVzOlwiLCByZXNwb25zZS5zdGF0dXMpO1xuICAgICAgICBjb25zb2xlLmxvZyhcIlJlbWl0YSBQcmludFJlbWl0YVJlY2VpcHQgcmVzcG9uc2UgYm9keTpcIiwgcmVzcG9uc2VUZXh0KTtcbiAgICAgICAgXG4gICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgcmVjZWlwdERhdGE6IHJlc3BvbnNlVGV4dCB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBgRmFpbGVkIHRvIGZldGNoIFJlbWl0YSByZWNlaXB0OiAke3Jlc3BvbnNlVGV4dH1gIH07XG4gICAgICAgIH1cblxuICAgIH0gY2F0Y2goZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGNhbGxpbmcgUmVtaXRhIFByaW50UmVtaXRhUmVjZWlwdCBBUEk6XCIsIGVycm9yKTtcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkNvdWxkIG5vdCBjb25uZWN0IHRvIHRoZSBSZW1pdGEgcGF5bWVudCBnYXRld2F5IHRvIHByaW50IHJlY2VpcHQuXCIgfTtcbiAgICB9XG59XG5cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHZhbGlkYXRlUmVtaXRhUnJyKHZhbGlkYXRpb25EYXRhOiB6LmluZmVyPHR5cGVvZiByZW1pdGFScnJWYWxpZGF0aW9uU2NoZW1hPikge1xuICAgIGNvbnN0IHZhbGlkYXRlZEZpZWxkcyA9IHJlbWl0YVJyclZhbGlkYXRpb25TY2hlbWEuc2FmZVBhcnNlKHZhbGlkYXRpb25EYXRhKTtcbiAgICBpZiAoIXZhbGlkYXRlZEZpZWxkcy5zdWNjZXNzKSB7XG4gICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJJbnZhbGlkIFJlbWl0YSBSUlIgdmFsaWRhdGlvbiBkYXRhLlwiIH07XG4gICAgfVxuXG4gICAgY29uc3QgeyBycnIsIGNoYW5uZWxJZCB9ID0gdmFsaWRhdGVkRmllbGRzLmRhdGE7XG5cbiAgICBjb25zdCByZW1pdGFVcmwgPSBgaHR0cHM6Ly93ZW1hLWFsYXRkZXYtYXBpbWd0LmF6dXJlLWFwaS5uZXQvcmVtaXRhLXBheW1lbnRzL2FwaS9SZW1pdGFQYXltZW50L1ZhbGlkYXRlUnJyLyR7cnJyfS8ke2NoYW5uZWxJZH1gO1xuXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChyZW1pdGFVcmwsIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgJ0NhY2hlLUNvbnRyb2wnOiAnbm8tY2FjaGUnLFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCByZXNwb25zZVRleHQgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiUmVtaXRhIFZhbGlkYXRlUnJyIHJlc3BvbnNlIHN0YXR1czpcIiwgcmVzcG9uc2Uuc3RhdHVzKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJSZW1pdGEgVmFsaWRhdGVScnIgcmVzcG9uc2UgYm9keTpcIiwgcmVzcG9uc2VUZXh0KTtcbiAgICAgICAgXG4gICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgbWVzc2FnZTogXCJSZW1pdGEgUlJSIHZhbGlkYXRlZCBzdWNjZXNzZnVsbHkuXCIsIGRhdGE6IEpTT04ucGFyc2UocmVzcG9uc2VUZXh0KSB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBgRmFpbGVkIHRvIHZhbGlkYXRlIFJlbWl0YSBSUlI6ICR7cmVzcG9uc2VUZXh0fWAgfTtcbiAgICAgICAgfVxuXG4gICAgfSBjYXRjaChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgY2FsbGluZyBSZW1pdGEgVmFsaWRhdGVScnIgQVBJOlwiLCBlcnJvcik7XG4gICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJDb3VsZCBub3QgY29ubmVjdCB0byB0aGUgUmVtaXRhIHBheW1lbnQgZ2F0ZXdheSB0byB2YWxpZGF0ZSBSUlIuXCIgfTtcbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Im1TQXdZc0IifQ==
}}),
"[project]/src/app/data:8b1925 [app-ssr] (ecmascript) <text/javascript>": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
/* __next_internal_action_entry_do_not_use__ [{"40787d5eefe2ffbad56c5588488ffbaa8469ecdd3d":"createRemitaPayment"},"src/app/actions.ts",""] */ __turbopack_context__.s({
    "createRemitaPayment": (()=>createRemitaPayment)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-ssr] (ecmascript)");
"use turbopack no side effects";
;
var createRemitaPayment = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["createServerReference"])("40787d5eefe2ffbad56c5588488ffbaa8469ecdd3d", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["findSourceMapURL"], "createRemitaPayment"); //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vYWN0aW9ucy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJcbid1c2Ugc2VydmVyJztcblxuaW1wb3J0IHsgeiB9IGZyb20gJ3pvZCc7XG5pbXBvcnQgeyBhZGRWb3RlLCBhZGROb21pbmF0aW9uIH0gZnJvbSAnQC9zZXJ2aWNlcy9maXJlc3RvcmUnO1xuaW1wb3J0IHsgUmVzZW5kIH0gZnJvbSAncmVzZW5kJztcbmltcG9ydCB7IHJlZGlyZWN0IH0gZnJvbSAnbmV4dC9uYXZpZ2F0aW9uJztcblxuLy8gRXhwbGljaXRseSByZWFkIGVudmlyb25tZW50IHZhcmlhYmxlcyBhdCB0aGUgdG9wIGxldmVsXG5jb25zdCBXRU1BX0FMQVRfU1VCU0NSSVBUSU9OX0tFWSA9IHByb2Nlc3MuZW52LldFTUFfQUxBVF9TVUJTQ1JJUFRJT05fS0VZO1xuY29uc3QgV0VNQV9BTEFUX1NPVVJDRV9BQ0NPVU5UID0gcHJvY2Vzcy5lbnYuV0VNQV9BTEFUX1NPVVJDRV9BQ0NPVU5UO1xuY29uc3QgV0VNQV9BTEFUX0NIQU5ORUxfSUQgPSBwcm9jZXNzLmVudi5XRU1BX0FMQVRfQ0hBTk5FTF9JRDtcbmNvbnN0IE5FWFRfUFVCTElDX0JBU0VfVVJMID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFTRV9VUkwgfHwgJ2h0dHA6Ly9sb2NhbGhvc3Q6OTAwMic7XG5jb25zdCBSRVNFTkRfQVBJX0tFWSA9IHByb2Nlc3MuZW52LlJFU0VORF9BUElfS0VZO1xuY29uc3QgUEFZU1RBQ0tfU0VDUkVUX0tFWSA9IHByb2Nlc3MuZW52LlBBWVNUQUNLX1NFQ1JFVF9LRVk7XG5jb25zdCBaQVBJRVJfVk9URV9XRUJIT09LX1VSTCA9IHByb2Nlc3MuZW52LlpBUElFUl9WT1RFX1dFQkhPT0tfVVJMO1xuXG5jb25zdCBub21pbmF0aW9uRm9ybVNjaGVtYSA9IHoub2JqZWN0KHtcbiAgY2F0ZWdvcnk6IHouc3RyaW5nKCksXG4gIG5vbWluZWVOYW1lOiB6LnN0cmluZygpLFxuICBub21pbmVlUGhvbmU6IHouc3RyaW5nKCksXG4gIG5vbWluYXRpb25SZWFzb246IHouc3RyaW5nKCksXG4gIG5vbWluYXRvck5hbWU6IHouc3RyaW5nKCksXG4gIG5vbWluYXRvclBob25lOiB6LnN0cmluZygpLFxufSk7XG5cbmNvbnN0IHZvdGVTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIGNvbnRlc3RhbnRJZDogei5zdHJpbmcoKSxcbiAgY29udGVzdGFudE5hbWU6IHouc3RyaW5nKCksXG4gIGNvbnRlc3RhbnRDYXRlZ29yeTogei5zdHJpbmcoKSxcbiAgbnVtYmVyT2ZWb3Rlczogei5udW1iZXIoKS5pbnQoKS5wb3NpdGl2ZSgpLFxufSk7XG5cbmNvbnN0IHdlbWFQYXltZW50U3RhdHVzU2NoZW1hID0gei5vYmplY3Qoe1xuICBjaGFubmVsSWQ6IHouc3RyaW5nKCksXG4gIHRyYW5zYWN0aW9uUmVmZXJlbmNlOiB6LnN0cmluZygpLFxufSk7XG5cbmNvbnN0IHdlbWFQYXltZW50UmVxdWVzdFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgYW1vdW50OiB6Lm51bWJlcigpLFxuICBjb250ZXN0YW50SWQ6IHouc3RyaW5nKCksXG4gIGNvbnRlc3RhbnROYW1lOiB6LnN0cmluZygpLFxuICBjb250ZXN0YW50Q2F0ZWdvcnk6IHouc3RyaW5nKCksXG4gIG51bWJlck9mVm90ZXM6IHoubnVtYmVyKCksXG59KTtcblxuY29uc3Qgd2VtYVBheW1lbnRWYWxpZGF0aW9uU2NoZW1hID0gei5vYmplY3Qoe1xuICBjaGFubmVsSWQ6IHouc3RyaW5nKCksXG4gIHRyYW5zYWN0aW9uUmVmZXJlbmNlOiB6LnN0cmluZygpLFxuICBwbGF0Zm9ybVRyYW5zYWN0aW9uUmVmZXJlbmNlOiB6LnN0cmluZygpLFxuICBvdHA6IHouc3RyaW5nKCksXG4gIC8vIFBhc3MgYWxvbmcgdm90ZSBkYXRhIGZvciByZWNvcmRpbmdcbiAgY29udGVzdGFudElkOiB6LnN0cmluZygpLFxuICBjb250ZXN0YW50TmFtZTogei5zdHJpbmcoKSxcbiAgY29udGVzdGFudENhdGVnb3J5OiB6LnN0cmluZygpLFxuICBudW1iZXJPZlZvdGVzOiB6Lm51bWJlcigpLFxufSk7XG5cbmNvbnN0IHJlbWl0YVBheW1lbnRSZXF1ZXN0U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIGFtb3VudDogei5udW1iZXIoKSxcbiAgICBjaGFyZ2U6IHoubnVtYmVyKCksXG4gICAgdHJhbnNhY3Rpb25SZWZlcmVuY2U6IHouc3RyaW5nKCksXG4gICAgY3VzdG9tZXJFbWFpbDogei5zdHJpbmcoKS5lbWFpbCgpLFxuICAgIGN1c3RvbWVyTmFtZTogei5zdHJpbmcoKSxcbiAgICBjdXN0b21lclBob25lTnVtYmVyOiB6LnN0cmluZygpLFxuICAgIGRlc2NyaXB0aW9uOiB6LnN0cmluZygpLFxuICAgIC8vIFBhc3MgYWxvbmcgdm90ZSBkYXRhIGZvciByZWNvcmRpbmdcbiAgICBjb250ZXN0YW50SWQ6IHouc3RyaW5nKCksXG4gICAgY29udGVzdGFudE5hbWU6IHouc3RyaW5nKCksXG4gICAgY29udGVzdGFudENhdGVnb3J5OiB6LnN0cmluZygpLFxuICAgIG51bWJlck9mVm90ZXM6IHoubnVtYmVyKCksXG59KTtcblxuY29uc3QgcmVtaXRhUmVjZWlwdFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgcnJyOiB6LnN0cmluZygpLFxufSk7XG5cbmNvbnN0IHJlbWl0YVJyclZhbGlkYXRpb25TY2hlbWEgPSB6Lm9iamVjdCh7XG4gIHJycjogei5zdHJpbmcoKSxcbiAgY2hhbm5lbElkOiB6LnN0cmluZygpLFxufSk7XG5cbmNvbnN0IHBheXN0YWNrUGF5bWVudFJlcXVlc3RTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIGVtYWlsOiB6LnN0cmluZygpLmVtYWlsKCksXG4gIGFtb3VudDogei5udW1iZXIoKSxcbiAgbWV0YWRhdGE6IHoub2JqZWN0KHtcbiAgICBjb250ZXN0YW50SWQ6IHouc3RyaW5nKCksXG4gICAgY29udGVzdGFudE5hbWU6IHouc3RyaW5nKCksXG4gICAgY29udGVzdGFudENhdGVnb3J5OiB6LnN0cmluZygpLFxuICAgIG51bWJlck9mVm90ZXM6IHoubnVtYmVyKCksXG4gIH0pLFxufSk7XG5cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlbmROb21pbmF0aW9uRW1haWwoZm9ybURhdGE6IHouaW5mZXI8dHlwZW9mIG5vbWluYXRpb25Gb3JtU2NoZW1hPikge1xuICBjb25zdCB2YWxpZGF0ZWRGaWVsZHMgPSBub21pbmF0aW9uRm9ybVNjaGVtYS5zYWZlUGFyc2UoZm9ybURhdGEpO1xuXG4gIGlmICghdmFsaWRhdGVkRmllbGRzLnN1Y2Nlc3MpIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdJbnZhbGlkIGZvcm0gZGF0YS4nIH07XG4gIH1cbiAgXG4gIHRyeSB7XG4gICAgY29uc3QgeyBjYXRlZ29yeSwgbm9taW5lZU5hbWUsIG5vbWluZWVQaG9uZSwgbm9taW5hdGlvblJlYXNvbiwgbm9taW5hdG9yTmFtZSwgbm9taW5hdG9yUGhvbmUgfSA9IHZhbGlkYXRlZEZpZWxkcy5kYXRhO1xuXG4gICAgLy8gMS4gQXR0ZW1wdCB0byBzZW5kIGVtYWlsXG4gICAgaWYgKFJFU0VORF9BUElfS0VZKSB7XG4gICAgICBjb25zdCByZXNlbmQgPSBuZXcgUmVzZW5kKFJFU0VORF9BUElfS0VZKTtcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHJlc2VuZC5lbWFpbHMuc2VuZCh7XG4gICAgICAgIGZyb206ICdTUiBGaXRuZXNzIEF3YXJkcyA8bm9yZXBseUBzcmZpdG5lc3MuY29tLm5nPicsXG4gICAgICAgIHRvOiBbJ3NhbXBzb24wN0BvdXRsb29rLmNvbScsICdzcmZpdG5lc3MyNDdAZ21haWwuY29tJ10sXG4gICAgICAgIHN1YmplY3Q6ICdOZXcgQXdhcmQgTm9taW5hdGlvbiBSZWNlaXZlZCEnLFxuICAgICAgICBodG1sOiBgXG4gICAgICAgICAgICA8aDE+TmV3IFNSIEZpdG5lc3MgQXdhcmQgTm9taW5hdGlvbjwvaDE+XG4gICAgICAgICAgICA8cD5BIG5ldyBub21pbmF0aW9uIGhhcyBiZWVuIHN1Ym1pdHRlZC4gSGVyZSBhcmUgdGhlIGRldGFpbHM6PC9wPlxuICAgICAgICAgICAgPGgyPk5vbWluZWUgRGV0YWlsczo8L2gyPlxuICAgICAgICAgICAgPHVsPlxuICAgICAgICAgICAgICAgIDxsaT48c3Ryb25nPkNhdGVnb3J5Ojwvc3Ryb25nPiAke2NhdGVnb3J5fTwvbGk+XG4gICAgICAgICAgICAgICAgPGxpPjxzdHJvbmc+TmFtZTo8L3N0cm9uZz4gJHtub21pbmVlTmFtZX08L2xpPlxuICAgICAgICAgICAgICAgIDxsaT48c3Ryb25nPlBob25lOjwvc3Ryb25nPiAke25vbWluZWVQaG9uZX08L2xpPlxuICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgIDxoMj5SZWFzb24gZm9yIE5vbWluYXRpb246PC9oMj5cbiAgICAgICAgICAgIDxwPiR7bm9taW5hdGlvblJlYXNvbn08L3A+XG4gICAgICAgICAgICA8aHIgLz5cbiAgICAgICAgICAgIDxoMj5Ob21pbmF0b3IgRGV0YWlsczo8L2gyPlxuICAgICAgICAgICAgPHVsPlxuICAgICAgICAgICAgICAgIDxsaT48c3Ryb25nPk5hbWU6PC9zdHJvbmc+ICR7bm9taW5hdG9yTmFtZX08L2xpPlxuICAgICAgICAgICAgICAgIDxsaT48c3Ryb25nPlBob25lOjwvc3Ryb25nPiAke25vbWluYXRvclBob25lfTwvbGk+XG4gICAgICAgICAgICA8L3VsPlxuICAgICAgICBgLFxuICAgICAgfSk7XG5cbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAvLyBJZiBlbWFpbCBmYWlscywgcmV0dXJuIGFuIGVycm9yIGFuZCBkbyBub3Qgc2F2ZSB0byBEQlxuICAgICAgICBjb25zb2xlLmVycm9yKCdSZXNlbmQgQVBJIEVycm9yOicsIGVycm9yKTtcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnRmFpbGVkIHRvIHNlbmQgbm9taW5hdGlvbiBlbWFpbC4gUGxlYXNlIHRyeSBhZ2Fpbi4nIH07XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdSZXNlbmQgQVBJIGtleSBpcyBub3QgY29uZmlndXJlZC4gU2tpcHBpbmcgZW1haWwgc2VuZGluZy4nKTtcbiAgICB9XG5cbiAgICAvLyAyLiBJZiBlbWFpbCBpcyBzZW50IChvciBza2lwcGVkKSwgc2F2ZSB0byBGaXJlc3RvcmVcbiAgICBhd2FpdCBhZGROb21pbmF0aW9uKHZhbGlkYXRlZEZpZWxkcy5kYXRhKTtcbiAgICBcbiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBtZXNzYWdlOiAnTm9taW5hdGlvbiBzdWJtaXR0ZWQgc3VjY2Vzc2Z1bGx5IScgfTtcblxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0FuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQgaW4gc2VuZE5vbWluYXRpb25FbWFpbDonLCBlcnJvcik7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgZXJyb3I6ICdBbiB1bmV4cGVjdGVkIHNlcnZlciBlcnJvciBvY2N1cnJlZC4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlci4nLFxuICAgIH07XG4gIH1cbn1cblxuLyoqXG4gKiBSZWNvcmRzIGEgdm90ZSBpbiB0aGUgRmlyZXN0b3JlIGRhdGFiYXNlIGFuZCB0cmlnZ2VycyBhIFphcGllciB3ZWJob29rIGlmIGNvbmZpZ3VyZWQuXG4gKiBUaGlzIGlzIHRoZSBjcnVjaWFsIHN0ZXAgdGhhdCB1cGRhdGVzIHRoZSBhZG1pbiB2b3RlIHRyYWNrZXIuXG4gKiBJdCBzaG91bGQgYmUgY2FsbGVkIE9OTFkgYWZ0ZXIgYSBwYXltZW50IGlzIHN1Y2Nlc3NmdWxseSB2ZXJpZmllZC5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlY29yZFZvdGUodm90ZURhdGE6IHouaW5mZXI8dHlwZW9mIHZvdGVTY2hlbWE+KSB7XG4gIGNvbnN0IHZhbGlkYXRlZEZpZWxkcyA9IHZvdGVTY2hlbWEuc2FmZVBhcnNlKHZvdGVEYXRhKTtcblxuICBpZiAoIXZhbGlkYXRlZEZpZWxkcy5zdWNjZXNzKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkludmFsaWQgdm90ZSBkYXRhIGZvciBGaXJlc3RvcmU6XCIsIHZhbGlkYXRlZEZpZWxkcy5lcnJvcik7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgZXJyb3I6ICdJbnZhbGlkIHZvdGUgZGF0YSBwcm92aWRlZC4nLFxuICAgIH07XG4gIH1cblxuICB0cnkge1xuICAgIC8vIFN0ZXAgMTogU2F2ZSB0aGUgdm90ZSB0byBGaXJlc3RvcmUuIFRoaXMgaXMgdGhlIHByaW1hcnksIGNyaXRpY2FsIGFjdGlvbi5cbiAgICBhd2FpdCBhZGRWb3RlKHZhbGlkYXRlZEZpZWxkcy5kYXRhKTtcbiAgICBjb25zb2xlLmxvZyhcIlZvdGUgc3VjY2Vzc2Z1bGx5IHJlY29yZGVkIGluIEZpcmVzdG9yZSBmb3I6XCIsIHZvdGVEYXRhLmNvbnRlc3RhbnROYW1lKTtcblxuICAgIC8vIFN0ZXAgMjogSWYgYSBaYXBpZXIgd2ViaG9vayBVUkwgaXMgY29uZmlndXJlZCwgc2VuZCB0aGUgZGF0YS4gVGhpcyBpcyBhIHNlY29uZGFyeSBhY3Rpb24uXG4gICAgaWYgKFpBUElFUl9WT1RFX1dFQkhPT0tfVVJMKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFpBUElFUl9WT1RFX1dFQkhPT0tfVVJMLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgLi4udmFsaWRhdGVkRmllbGRzLmRhdGEsXG4gICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSwgLy8gQWRkIGEgaHVtYW4tcmVhZGFibGUgdGltZXN0YW1wIGZvciBaYXBpZXJcbiAgICAgICAgICB9KSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHdlYmhvb2sgY2FsbCB3YXMgc3VjY2Vzc2Z1bFxuICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiU3VjY2Vzc2Z1bGx5IHRyaWdnZXJlZCBaYXBpZXIgd2ViaG9vayBmb3IgbmV3IHZvdGUuXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gTG9nIHRoZSBmYWlsdXJlIGRldGFpbHMgYnV0IGRvIG5vdCB0aHJvdyBhbiBlcnJvciwgYXMgdGhlIHZvdGUgaXMgYWxyZWFkeSBzYXZlZC5cbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlQm9keSA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFphcGllciB3ZWJob29rIGNhbGwgZmFpbGVkIHdpdGggc3RhdHVzICR7cmVzcG9uc2Uuc3RhdHVzfTogJHtyZXNwb25zZUJvZHl9YCk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKHphcGllckVycm9yKSB7XG4gICAgICAgIC8vIExvZyB0aGUgbmV0d29yayBlcnJvciBidXQgZG9uJ3QgZmFpbCB0aGUgZW50aXJlIHRyYW5zYWN0aW9uLlxuICAgICAgICAvLyBUaGlzIGVuc3VyZXMgdGhlIHZvdGUgaXMgc3RpbGwgY291bnRlZCBldmVuIGlmIFphcGllciBpcyB0ZW1wb3JhcmlseSB1bnJlYWNoYWJsZS5cbiAgICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byB0cmlnZ2VyIFphcGllciB3ZWJob29rIGR1ZSB0byBhIG5ldHdvcmsgb3IgZmV0Y2ggZXJyb3I6XCIsIHphcGllckVycm9yKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBtZXNzYWdlOiBcIlZvdGUgc3VjY2Vzc2Z1bGx5IHJlY29yZGVkLlwiIH07XG5cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIHJlY29yZCB2b3RlIGluIFNlcnZlciBBY3Rpb246IFwiLCBlcnJvcik7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgZXJyb3I6ICdUaGVyZSB3YXMgYW4gZXJyb3IgcmVjb3JkaW5nIHlvdXIgdm90ZSB0byB0aGUgZGF0YWJhc2UuJ1xuICAgIH07XG4gIH1cbn1cblxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlUGF5c3RhY2tQYXltZW50KHBheW1lbnREYXRhOiB6LmluZmVyPHR5cGVvZiBwYXlzdGFja1BheW1lbnRSZXF1ZXN0U2NoZW1hPikge1xuICAgIGNvbnN0IHZhbGlkYXRlZEZpZWxkcyA9IHBheXN0YWNrUGF5bWVudFJlcXVlc3RTY2hlbWEuc2FmZVBhcnNlKHBheW1lbnREYXRhKTtcbiAgICBpZiAoIXZhbGlkYXRlZEZpZWxkcy5zdWNjZXNzKSB7XG4gICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ0ludmFsaWQgcGF5bWVudCBkYXRhIHByb3ZpZGVkLicgfTtcbiAgICB9XG5cbiAgICBpZiAoIVBBWVNUQUNLX1NFQ1JFVF9LRVkpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIlBheXN0YWNrIHNlY3JldCBrZXkgaXMgbm90IGNvbmZpZ3VyZWQuXCIpO1xuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiUGF5bWVudCBnYXRld2F5IGlzIG5vdCBjb25maWd1cmVkIGNvcnJlY3RseS5cIiB9O1xuICAgIH1cblxuICAgIGNvbnN0IHsgZW1haWwsIGFtb3VudCwgbWV0YWRhdGEgfSA9IHZhbGlkYXRlZEZpZWxkcy5kYXRhO1xuXG4gICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgZW1haWwsXG4gICAgICAgIGFtb3VudDogYW1vdW50ICogMTAwLCAvLyBQYXlzdGFjayBleHBlY3RzIGFtb3VudCBpbiBrb2JvXG4gICAgICAgIGNhbGxiYWNrX3VybDogYCR7TkVYVF9QVUJMSUNfQkFTRV9VUkx9L3ZvdGUvY2FsbGJhY2tgLFxuICAgICAgICBtZXRhZGF0YSxcbiAgICB9O1xuXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnaHR0cHM6Ly9hcGkucGF5c3RhY2suY28vdHJhbnNhY3Rpb24vaW5pdGlhbGl6ZScsIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICAnQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHtQQVlTVEFDS19TRUNSRVRfS0VZfWAsXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChkYXRhLnN0YXR1cykge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICAgIGF1dGhvcml6YXRpb25Vcmw6IGRhdGEuZGF0YS5hdXRob3JpemF0aW9uX3VybCxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiUGF5c3RhY2sgQVBJIGVycm9yOlwiLCBkYXRhLm1lc3NhZ2UpO1xuICAgICAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBkYXRhLm1lc3NhZ2UgfHwgJ1BheW1lbnQgaW5pdGlhdGlvbiBmYWlsZWQuJyB9O1xuICAgICAgICB9XG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgY2FsbGluZyBQYXlzdGFjayBBUEk6XCIsIGVycm9yKTtcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkNvdWxkIG5vdCBjb25uZWN0IHRvIHRoZSBwYXltZW50IGdhdGV3YXkuXCIgfTtcbiAgICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB2ZXJpZnlQYXlzdGFja1BheW1lbnQocmVmZXJlbmNlOiBzdHJpbmcpIHtcbiAgICBpZiAoIXJlZmVyZW5jZSkge1xuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdObyBwYXltZW50IHJlZmVyZW5jZSBwcm92aWRlZC4nLCBzdGF0dXM6ICdlcnJvcicgfTtcbiAgICB9XG5cbiAgICBpZiAoIVBBWVNUQUNLX1NFQ1JFVF9LRVkpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIlBheXN0YWNrIHNlY3JldCBrZXkgaXMgbm90IGNvbmZpZ3VyZWQuXCIpO1xuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiUGF5bWVudCBnYXRld2F5IGlzIG5vdCBjb25maWd1cmVkIGNvcnJlY3RseS5cIiwgc3RhdHVzOiAnZXJyb3InIH07XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgaHR0cHM6Ly9hcGkucGF5c3RhY2suY28vdHJhbnNhY3Rpb24vdmVyaWZ5LyR7cmVmZXJlbmNlfWAsIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7UEFZU1RBQ0tfU0VDUkVUX0tFWX1gLFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICAgIGlmIChkYXRhLnN0YXR1cyAmJiBkYXRhLmRhdGEuc3RhdHVzID09PSAnc3VjY2VzcycpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgY29udGVzdGFudElkLCBjb250ZXN0YW50TmFtZSwgY29udGVzdGFudENhdGVnb3J5LCBudW1iZXJPZlZvdGVzIH0gPSBkYXRhLmRhdGEubWV0YWRhdGE7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFRoaXMgaXMgdGhlIGNydWNpYWwgc3RlcDogcmVjb3JkIHRoZSB2b3RlIG9ubHkgYWZ0ZXIgc3VjY2Vzc2Z1bCB2ZXJpZmljYXRpb24uXG4gICAgICAgICAgICBjb25zdCB2b3RlUmVjb3JkUmVzdWx0ID0gYXdhaXQgcmVjb3JkVm90ZSh7XG4gICAgICAgICAgICAgICAgY29udGVzdGFudElkLFxuICAgICAgICAgICAgICAgIGNvbnRlc3RhbnROYW1lLFxuICAgICAgICAgICAgICAgIGNvbnRlc3RhbnRDYXRlZ29yeSxcbiAgICAgICAgICAgICAgICBudW1iZXJPZlZvdGVzOiBOdW1iZXIobnVtYmVyT2ZWb3RlcyksXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKHZvdGVSZWNvcmRSZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IFxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLCBcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ1BheW1lbnQgdmVyaWZpZWQgYW5kIHZvdGUgcmVjb3JkZWQgc3VjY2Vzc2Z1bGx5IScsXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogJ3N1Y2Nlc3MnLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICByZXR1cm4geyBcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsIFxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogYFBheW1lbnQgd2FzIHN1Y2Nlc3NmdWwsIGJ1dCB2b3RlIHJlY29yZGluZyBmYWlsZWQuIFBsZWFzZSBjb250YWN0IHN1cHBvcnQuIEVycm9yOiAke3ZvdGVSZWNvcmRSZXN1bHQuZXJyb3J9YCxcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnZXJyb3InLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7IFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLCBcbiAgICAgICAgICAgICAgICBlcnJvcjogYFBheW1lbnQgdmVyaWZpY2F0aW9uIGZhaWxlZDogJHtkYXRhLmRhdGEuZ2F0ZXdheV9yZXNwb25zZX1gLFxuICAgICAgICAgICAgICAgIHN0YXR1czogZGF0YS5kYXRhLnN0YXR1cyB8fCAnZmFpbGVkJyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciB2ZXJpZnlpbmcgUGF5c3RhY2sgcGF5bWVudDpcIiwgZXJyb3IpO1xuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiQ291bGQgbm90IGNvbm5lY3QgdG8gdGhlIHBheW1lbnQgZ2F0ZXdheSBmb3IgdmVyaWZpY2F0aW9uLlwiLCBzdGF0dXM6ICdlcnJvcicgfTtcbiAgICB9XG59XG5cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVdlbWFBbGF0UGF5bWVudChwYXltZW50RGF0YTogei5pbmZlcjx0eXBlb2Ygd2VtYVBheW1lbnRSZXF1ZXN0U2NoZW1hPikge1xuICBjb25zdCB2YWxpZGF0ZWRGaWVsZHMgPSB3ZW1hUGF5bWVudFJlcXVlc3RTY2hlbWEuc2FmZVBhcnNlKHBheW1lbnREYXRhKTtcbiAgaWYgKCF2YWxpZGF0ZWRGaWVsZHMuc3VjY2Vzcykge1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ0ludmFsaWQgcGF5bWVudCBkYXRhIHByb3ZpZGVkLicgfTtcbiAgfVxuICBcbiAgaWYgKCFXRU1BX0FMQVRfU1VCU0NSSVBUSU9OX0tFWSB8fCAhV0VNQV9BTEFUX1NPVVJDRV9BQ0NPVU5UIHx8ICFXRU1BX0FMQVRfQ0hBTk5FTF9JRCkge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJXZW1hIEFsYXQgZW52aXJvbm1lbnQgdmFyaWFibGVzIGFyZSBub3Qgc2V0LlwiKTtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiUGF5bWVudCBnYXRld2F5IGlzIG5vdCBjb25maWd1cmVkIGNvcnJlY3RseS5cIiB9O1xuICB9XG5cbiAgY29uc3QgeyBhbW91bnQsIGNvbnRlc3RhbnRJZCwgY29udGVzdGFudE5hbWUsIGNvbnRlc3RhbnRDYXRlZ29yeSwgbnVtYmVyT2ZWb3RlcyB9ID0gdmFsaWRhdGVkRmllbGRzLmRhdGE7XG5cbiAgY29uc3QgdHJhbnNhY3Rpb25SZWZlcmVuY2UgPSBgU1JGLVZPVEUtJHtjb250ZXN0YW50SWR9LSR7RGF0ZS5ub3coKX1gO1xuICBjb25zdCBuYXJyYXRpb24gPSBgVm90ZSBmb3IgJHtjb250ZXN0YW50TmFtZX0gaW4gJHtjb250ZXN0YW50Q2F0ZWdvcnl9YDtcblxuICBjb25zdCBib2R5ID0ge1xuICAgIGFtb3VudDogYW1vdW50LFxuICAgIHNvdXJjZUFjY291bnROdW1iZXI6IFdFTUFfQUxBVF9TT1VSQ0VfQUNDT1VOVCxcbiAgICBjaGFubmVsSWQ6IFdFTUFfQUxBVF9DSEFOTkVMX0lELFxuICAgIG5hcnJhdGlvbjogbmFycmF0aW9uLFxuICAgIHRyYW5zYWN0aW9uUmVmZXJlbmNlOiB0cmFuc2FjdGlvblJlZmVyZW5jZVxuICB9O1xuXG4gIHRyeSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnaHR0cHM6Ly93ZW1hLWFsYXRkZXYtYXBpbWd0LmF6dXJlLWFwaS5uZXQvYWxhdC1wYXkvYXBpL0Vjb21tZXJjZVRyYW5zZmVyL3RyYW5zZmVyLWZ1bmQtcmVxdWVzdCcsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICdDYWNoZS1Db250cm9sJzogJ25vLWNhY2hlJyxcbiAgICAgICAgJ09jcC1BcGltLVN1YnNjcmlwdGlvbi1LZXknOiBXRU1BX0FMQVRfU1VCU0NSSVBUSU9OX0tFWSxcbiAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICBjb25zdCByZXNwb25zZVRleHQgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gICAgY29uc29sZS5sb2coXCJXZW1hIEFsYXQgdHJhbnNmZXItZnVuZC1yZXF1ZXN0IHJlc3BvbnNlIHN0YXR1czpcIiwgcmVzcG9uc2Uuc3RhdHVzKTtcbiAgICBjb25zb2xlLmxvZyhcIldlbWEgQWxhdCB0cmFuc2Zlci1mdW5kLXJlcXVlc3QgcmVzcG9uc2UgYm9keTpcIiwgcmVzcG9uc2VUZXh0KTtcblxuICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UocmVzcG9uc2VUZXh0KTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlBheW1lbnQgaW5pdGlhdGVkLiBQbGVhc2UgZW50ZXIgT1RQLlwiLFxuICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgcGxhdGZvcm1UcmFuc2FjdGlvblJlZmVyZW5jZTogZGF0YS5wbGF0Zm9ybVRyYW5zYWN0aW9uUmVmZXJlbmNlLFxuICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvblJlZmVyZW5jZTogdHJhbnNhY3Rpb25SZWZlcmVuY2UsXG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWxJZDogV0VNQV9BTEFUX0NIQU5ORUxfSUQsXG4gICAgICAgICAgICAgICAgICAgIC8vIFBhc3Mgdm90ZSBpbmZvIHRocm91Z2ggZm9yIHRoZSBuZXh0IHN0ZXBcbiAgICAgICAgICAgICAgICAgICAgY29udGVzdGFudElkLFxuICAgICAgICAgICAgICAgICAgICBjb250ZXN0YW50TmFtZSxcbiAgICAgICAgICAgICAgICAgICAgY29udGVzdGFudENhdGVnb3J5LFxuICAgICAgICAgICAgICAgICAgICBudW1iZXJPZlZvdGVzLFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gcGFyc2UgSlNPTiBmcm9tIFdlbWEgQWxhdCByZXNwb25zZVwiLCBlKTtcbiAgICAgICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGBSZWNlaXZlZCBhbiB1bnJlYWRhYmxlIHJlc3BvbnNlIGZyb20gcGF5bWVudCBnYXRld2F5OiAke3Jlc3BvbnNlVGV4dH1gIH07XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogYFBheW1lbnQgaW5pdGlhdGlvbiBmYWlsZWQ6ICR7cmVzcG9uc2VUZXh0fWAsIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzIH07XG4gICAgfVxuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGNhbGxpbmcgV2VtYSBBbGF0IEFQSTpcIiwgZXJyb3IpO1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJDb3VsZCBub3QgY29ubmVjdCB0byB0aGUgcGF5bWVudCBnYXRld2F5LlwiIH07XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHZhbGlkYXRlV2VtYUFsYXRQYXltZW50KHZhbGlkYXRpb25EYXRhOiB6LmluZmVyPHR5cGVvZiB3ZW1hUGF5bWVudFZhbGlkYXRpb25TY2hlbWE+KSB7XG4gICAgY29uc3QgdmFsaWRhdGVkRmllbGRzID0gd2VtYVBheW1lbnRWYWxpZGF0aW9uU2NoZW1hLnNhZmVQYXJzZSh2YWxpZGF0aW9uRGF0YSk7XG4gICAgaWYgKCF2YWxpZGF0ZWRGaWVsZHMuc3VjY2Vzcykge1xuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdJbnZhbGlkIHZhbGlkYXRpb24gZGF0YSBwcm92aWRlZC4nIH07XG4gICAgfVxuXG4gICAgaWYgKCFXRU1BX0FMQVRfU1VCU0NSSVBUSU9OX0tFWSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiV2VtYSBBbGF0IHN1YnNjcmlwdGlvbiBrZXkgaXMgbm90IHNldC5cIik7XG4gICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJQYXltZW50IGdhdGV3YXkgaXMgbm90IGNvbmZpZ3VyZWQgY29ycmVjdGx5LlwiIH07XG4gICAgfVxuXG4gICAgY29uc3QgeyBjaGFubmVsSWQsIHRyYW5zYWN0aW9uUmVmZXJlbmNlLCBwbGF0Zm9ybVRyYW5zYWN0aW9uUmVmZXJlbmNlLCBvdHAsIGNvbnRlc3RhbnRJZCwgY29udGVzdGFudE5hbWUsIGNvbnRlc3RhbnRDYXRlZ29yeSwgbnVtYmVyT2ZWb3RlcyB9ID0gdmFsaWRhdGVkRmllbGRzLmRhdGE7XG5cbiAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICBjaGFubmVsSWQsXG4gICAgICAgIHRyYW5zYWN0aW9uUmVmZXJlbmNlLFxuICAgICAgICBwbGF0Zm9ybVRyYW5zYWN0aW9uUmVmZXJlbmNlLFxuICAgICAgICBvdHAsXG4gICAgfTtcblxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJ2h0dHBzOi8vd2VtYS1hbGF0ZGV2LWFwaW1ndC5henVyZS1hcGkubmV0L2FsYXQtcGF5L2FwaS9FY29tbWVyY2VUcmFuc2Zlci90cmFuc2Zlci1mdW5kLXZhbGlkYXRpb24nLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgJ0NhY2hlLUNvbnRyb2wnOiAnbm8tY2FjaGUnLFxuICAgICAgICAgICAgICAgICdPY3AtQXBpbS1TdWJzY3JpcHRpb24tS2V5JzogV0VNQV9BTEFUX1NVQlNDUklQVElPTl9LRVksXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlVGV4dCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJXZW1hIEFsYXQgdHJhbnNmZXItZnVuZC12YWxpZGF0aW9uIHJlc3BvbnNlIHN0YXR1czpcIiwgcmVzcG9uc2Uuc3RhdHVzKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJXZW1hIEFsYXQgdHJhbnNmZXItZnVuZC12YWxpZGF0aW9uIHJlc3BvbnNlIGJvZHk6XCIsIHJlc3BvbnNlVGV4dCk7XG4gICAgICAgIFxuICAgICAgICBpZihyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgY29uc3Qgdm90ZVJlY29yZFJlc3VsdCA9IGF3YWl0IHJlY29yZFZvdGUoeyBjb250ZXN0YW50SWQsIGNvbnRlc3RhbnROYW1lLCBjb250ZXN0YW50Q2F0ZWdvcnksIG51bWJlck9mVm90ZXMgfSk7XG4gICAgICAgICAgICBpZiAoIXZvdGVSZWNvcmRSZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgIC8vIFBheW1lbnQgc3VjY2VlZGVkLCBidXQgREIgZmFpbGVkLiBJbXBvcnRhbnQgdG8gbm90aWZ5IHVzZXIvYWRtaW4uXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgbWVzc2FnZTogYFBheW1lbnQgdmFsaWRhdGVkLCBidXQgZmFpbGVkIHRvIHJlY29yZCB2b3RlOiAke3ZvdGVSZWNvcmRSZXN1bHQuZXJyb3J9YCB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgbWVzc2FnZTogXCJQYXltZW50IHZhbGlkYXRlZCBhbmQgdm90ZSByZWNvcmRlZCBzdWNjZXNzZnVsbHkhXCIgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogYE9UUCB2YWxpZGF0aW9uIGZhaWxlZDogJHtyZXNwb25zZVRleHR9YCB9O1xuICAgICAgICB9XG5cbiAgICB9IGNhdGNoKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBjYWxsaW5nIFdlbWEgQWxhdCB2YWxpZGF0aW9uIEFQSTpcIiwgZXJyb3IpO1xuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiQ291bGQgbm90IGNvbm5lY3QgdG8gdGhlIHBheW1lbnQgZ2F0ZXdheSBmb3IgdmFsaWRhdGlvbi5cIiB9O1xuICAgIH1cbn1cblxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2hlY2tXZW1hQWxhdFRyYW5zYWN0aW9uU3RhdHVzKHN0YXR1c0RhdGE6IHouaW5mZXI8dHlwZW9mIHdlbWFQYXltZW50U3RhdHVzU2NoZW1hPikge1xuICAgIGNvbnN0IHZhbGlkYXRlZEZpZWxkcyA9IHdlbWFQYXltZW50U3RhdHVzU2NoZW1hLnNhZmVQYXJzZShzdGF0dXNEYXRhKTtcbiAgICBpZiAoIXZhbGlkYXRlZEZpZWxkcy5zdWNjZXNzKSB7XG4gICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ0ludmFsaWQgdHJhbnNhY3Rpb24gZGF0YScgfTtcbiAgICB9XG5cbiAgICBjb25zdCB7IGNoYW5uZWxJZCwgdHJhbnNhY3Rpb25SZWZlcmVuY2UgfSA9IHZhbGlkYXRlZEZpZWxkcy5kYXRhO1xuXG4gICAgY29uc3Qgd2VtYUFsYXRVcmwgPSBgaHR0cHM6Ly93ZW1hLWFsYXRkZXYtYXBpbWd0LmF6dXJlLWFwaS5uZXQvYWxhdC1wYXkvYXBpL0Vjb21tZXJjZVRyYW5zZmVyL0NoZWNrVHJhbnNhY3Rpb25TdGF0dXMvJHtjaGFubmVsSWR9LyR7dHJhbnNhY3Rpb25SZWZlcmVuY2V9YDtcblxuICAgIGlmICghV0VNQV9BTEFUX1NVQlNDUklQVElPTl9LRVkpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIldlbWEgQWxhdCBzdWJzY3JpcHRpb24ga2V5IGlzIG5vdCBzZXQgaW4gZW52aXJvbm1lbnQgdmFyaWFibGVzLlwiKTtcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIlBheW1lbnQgZ2F0ZXdheSBpcyBub3QgY29uZmlndXJlZC5cIiB9O1xuICAgIH1cbiAgICBcbiAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHdlbWFBbGF0VXJsLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICdDYWNoZS1Db250cm9sJzogJ25vLWNhY2hlJyxcbiAgICAgICAgICAgICAgICAnT2NwLUFwaW0tU3Vic2NyaXB0aW9uLUtleSc6IFdFTUFfQUxBVF9TVUJTQ1JJUFRJT05fS0VZLFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCByZXN1bHRUZXh0ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xuICAgICAgICBjb25zdCByZXN1bHRTdGF0dXMgPSByZXNwb25zZS5zdGF0dXM7XG4gICAgICAgIGNvbnNvbGUubG9nKCdXZW1hIEFsYXQgU3RhdHVzOicsIHJlc3VsdFN0YXR1cyk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdXZW1hIEFsYXQgUmVzcG9uc2U6JywgcmVzdWx0VGV4dCk7XG5cbiAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBzdGF0dXM6IHJlc3VsdFN0YXR1cywgZGF0YTogcmVzdWx0VGV4dCB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBgRmFpbGVkIHRvIGNoZWNrIHRyYW5zYWN0aW9uIHN0YXR1czogJHtyZXN1bHRUZXh0fWAsIHN0YXR1czogcmVzdWx0U3RhdHVzIH07XG4gICAgICAgIH1cblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBjYWxsaW5nIFdlbWEgQWxhdCBBUEk6XCIsIGVycm9yKTtcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkNvdWxkIG5vdCBjb25uZWN0IHRvIHRoZSBwYXltZW50IGdhdGV3YXkuXCIgfTtcbiAgICB9XG59XG5cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVJlbWl0YVBheW1lbnQocGF5bWVudERhdGE6IHouaW5mZXI8dHlwZW9mIHJlbWl0YVBheW1lbnRSZXF1ZXN0U2NoZW1hPikge1xuICAgIGNvbnN0IHZhbGlkYXRlZEZpZWxkcyA9IHJlbWl0YVBheW1lbnRSZXF1ZXN0U2NoZW1hLnNhZmVQYXJzZShwYXltZW50RGF0YSk7XG4gICAgaWYgKCF2YWxpZGF0ZWRGaWVsZHMuc3VjY2Vzcykge1xuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiSW52YWxpZCBSZW1pdGEgcGF5bWVudCBkYXRhLlwiIH07XG4gICAgfVxuXG4gICAgaWYgKCFXRU1BX0FMQVRfU1VCU0NSSVBUSU9OX0tFWSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiUmVtaXRhIHN1YnNjcmlwdGlvbiBrZXkgaXMgbm90IHNldC5cIik7XG4gICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJQYXltZW50IGdhdGV3YXkgaXMgbm90IGNvbmZpZ3VyZWQgY29ycmVjdGx5LlwiIH07XG4gICAgfVxuXG4gICAgY29uc3QgeyBhbW91bnQsIGNoYXJnZSwgdHJhbnNhY3Rpb25SZWZlcmVuY2UsIGN1c3RvbWVyRW1haWwsIGN1c3RvbWVyTmFtZSwgY3VzdG9tZXJQaG9uZU51bWJlciwgZGVzY3JpcHRpb24sIGNvbnRlc3RhbnRJZCwgY29udGVzdGFudE5hbWUsIGNvbnRlc3RhbnRDYXRlZ29yeSwgbnVtYmVyT2ZWb3RlcyB9ID0gdmFsaWRhdGVkRmllbGRzLmRhdGE7XG5cbiAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICBjaGFubmVsSWQ6IFwic3RyaW5nXCIsIC8vIFBsYWNlaG9sZGVyXG4gICAgICAgIGNpZjogXCJzdHJpbmdcIiwgLy8gUGxhY2Vob2xkZXJcbiAgICAgICAgY3VzdG9tZXJBY2NvdW50OiBcInN0cmluZ1wiLCAvLyBQbGFjZWhvbGRlclxuICAgICAgICBhbW91bnQ6IGFtb3VudCxcbiAgICAgICAgY2hhcmdlOiBjaGFyZ2UsXG4gICAgICAgIHRyYW5zYWN0aW9uUmVmZXJlbmNlOiB0cmFuc2FjdGlvblJlZmVyZW5jZSxcbiAgICAgICAgY3VzdG9tZXJFbWFpbDogY3VzdG9tZXJFbWFpbCxcbiAgICAgICAgY3VzdG9tZXJQaG9uZU51bWJlcjogY3VzdG9tZXJQaG9uZU51bWJlcixcbiAgICAgICAgY3VzdG9tZXJOYW1lOiBjdXN0b21lck5hbWUsXG4gICAgICAgIHJycjogXCJzdHJpbmdcIiwgLy8gUGxhY2Vob2xkZXJcbiAgICAgICAgcGF5ZXJFbWFpbDogY3VzdG9tZXJFbWFpbCxcbiAgICAgICAgcGF5ZXJOYW1lOiBjdXN0b21lck5hbWUsXG4gICAgICAgIHBheWVyTnVtYmVyOiBjdXN0b21lclBob25lTnVtYmVyLFxuICAgICAgICBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb24sXG4gICAgICAgIGJpbGxBdXRoT3B0aW9uczoge1xuICAgICAgICAgICAgcGluOiBcInN0cmluZ1wiLFxuICAgICAgICAgICAgb3RwOiBcInN0cmluZ1wiLFxuICAgICAgICAgICAgYmlvbWV0cmljUG9saWN5OiBcInN0cmluZ1wiLFxuICAgICAgICAgICAgYmlvbWV0cmljVG9rZW46IFwic3RyaW5nXCIsXG4gICAgICAgICAgICBwbGF0Zm9ybVRyYW5zYWN0aW9uUmVmZXJlbmNlOiBcInN0cmluZ1wiLFxuICAgICAgICAgICAgYXV0aGVudGljYXRpb25UeXBlOiAwXG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnaHR0cHM6Ly93ZW1hLWFsYXRkZXYtYXBpbWd0LmF6dXJlLWFwaS5uZXQvcmVtaXRhLXBheW1lbnRzL2FwaS9SZW1pdGFQYXltZW50L1BheVJlbWl0YUJpbGwnLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgJ0NhY2hlLUNvbnRyb2wnOiAnbm8tY2FjaGUnLFxuICAgICAgICAgICAgICAgICdPY3AtQXBpbS1TdWJzY3JpcHRpb24tS2V5JzogV0VNQV9BTEFUX1NVQlNDUklQVElPTl9LRVksXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlVGV4dCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJSZW1pdGEgUGF5UmVtaXRhQmlsbCByZXNwb25zZSBzdGF0dXM6XCIsIHJlc3BvbnNlLnN0YXR1cyk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiUmVtaXRhIFBheVJlbWl0YUJpbGwgcmVzcG9uc2UgYm9keTpcIiwgcmVzcG9uc2VUZXh0KTtcbiAgICAgICAgXG4gICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgY29uc3Qgdm90ZURhdGEgPSB7IGNvbnRlc3RhbnRJZCwgY29udGVzdGFudE5hbWUsIGNvbnRlc3RhbnRDYXRlZ29yeSwgbnVtYmVyT2ZWb3RlcyB9O1xuICAgICAgICAgICAgYXdhaXQgcmVjb3JkVm90ZSh2b3RlRGF0YSk7IC8vIFJlY29yZCB2b3RlIG9uIHN1Y2Nlc3NcbiAgICAgICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIG1lc3NhZ2U6IFwiUmVtaXRhIHBheW1lbnQgcHJvY2Vzc2VkIGFuZCB2b3RlIHJlY29yZGVkIHN1Y2Nlc3NmdWxseS5cIiwgZGF0YTogSlNPTi5wYXJzZShyZXNwb25zZVRleHQpIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNTAwKSB7XG4gICAgICAgICAgICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogYFJlbWl0YSBwYXltZW50IGZhaWxlZCBkdWUgdG8gYW4gaW50ZXJuYWwgc2VydmVyIGVycm9yIG9uIHRoZSBnYXRld2F5LiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyIG9yIGNvbnRhY3Qgc3VwcG9ydC5gIH07XG4gICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBgUmVtaXRhIHBheW1lbnQgZmFpbGVkOiAke3Jlc3BvbnNlVGV4dH1gIH07XG4gICAgICAgIH1cblxuICAgIH0gY2F0Y2goZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGNhbGxpbmcgUmVtaXRhIFBheVJlbWl0YUJpbGwgQVBJOlwiLCBlcnJvcik7XG4gICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJDb3VsZCBub3QgY29ubmVjdCB0byB0aGUgUmVtaXRhIHBheW1lbnQgZ2F0ZXdheS5cIiB9O1xuICAgIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHByaW50UmVtaXRhUmVjZWlwdChyZWNlaXB0RGF0YTogei5pbmZlcjx0eXBlb2YgcmVtaXRhUmVjZWlwdFNjaGVtYT4pIHtcbiAgICBjb25zdCB2YWxpZGF0ZWRGaWVsZHMgPSByZW1pdGFSZWNlaXB0U2NoZW1hLnNhZmVQYXJzZShyZWNlaXB0RGF0YSk7XG4gICAgaWYgKCF2YWxpZGF0ZWRGaWVsZHMuc3VjY2Vzcykge1xuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiSW52YWxpZCBSZW1pdGEgcmVjZWlwdCBkYXRhLlwiIH07XG4gICAgfVxuXG4gICAgY29uc3QgeyBycnIgfSA9IHZhbGlkYXRlZEZpZWxkcy5kYXRhO1xuXG4gICAgY29uc3QgcmVtaXRhVXJsID0gYGh0dHBzOi8vd2VtYS1hbGF0ZGV2LWFwaW1ndC5henVyZS1hcGkubmV0L3JlbWl0YS1wYXltZW50cy9hcGkvUmVtaXRhUGF5bWVudC9QcmludFJlbWl0YVJlY2VpcHQvJHtycnJ9YDtcblxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2gocmVtaXRhVXJsLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICdDYWNoZS1Db250cm9sJzogJ25vLWNhY2hlJyxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgcmVzcG9uc2VUZXh0ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xuICAgICAgICBjb25zb2xlLmxvZyhcIlJlbWl0YSBQcmludFJlbWl0YVJlY2VpcHQgcmVzcG9uc2Ugc3RhdHVzOlwiLCByZXNwb25zZS5zdGF0dXMpO1xuICAgICAgICBjb25zb2xlLmxvZyhcIlJlbWl0YSBQcmludFJlbWl0YVJlY2VpcHQgcmVzcG9uc2UgYm9keTpcIiwgcmVzcG9uc2VUZXh0KTtcbiAgICAgICAgXG4gICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgcmVjZWlwdERhdGE6IHJlc3BvbnNlVGV4dCB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBgRmFpbGVkIHRvIGZldGNoIFJlbWl0YSByZWNlaXB0OiAke3Jlc3BvbnNlVGV4dH1gIH07XG4gICAgICAgIH1cblxuICAgIH0gY2F0Y2goZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGNhbGxpbmcgUmVtaXRhIFByaW50UmVtaXRhUmVjZWlwdCBBUEk6XCIsIGVycm9yKTtcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkNvdWxkIG5vdCBjb25uZWN0IHRvIHRoZSBSZW1pdGEgcGF5bWVudCBnYXRld2F5IHRvIHByaW50IHJlY2VpcHQuXCIgfTtcbiAgICB9XG59XG5cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHZhbGlkYXRlUmVtaXRhUnJyKHZhbGlkYXRpb25EYXRhOiB6LmluZmVyPHR5cGVvZiByZW1pdGFScnJWYWxpZGF0aW9uU2NoZW1hPikge1xuICAgIGNvbnN0IHZhbGlkYXRlZEZpZWxkcyA9IHJlbWl0YVJyclZhbGlkYXRpb25TY2hlbWEuc2FmZVBhcnNlKHZhbGlkYXRpb25EYXRhKTtcbiAgICBpZiAoIXZhbGlkYXRlZEZpZWxkcy5zdWNjZXNzKSB7XG4gICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJJbnZhbGlkIFJlbWl0YSBSUlIgdmFsaWRhdGlvbiBkYXRhLlwiIH07XG4gICAgfVxuXG4gICAgY29uc3QgeyBycnIsIGNoYW5uZWxJZCB9ID0gdmFsaWRhdGVkRmllbGRzLmRhdGE7XG5cbiAgICBjb25zdCByZW1pdGFVcmwgPSBgaHR0cHM6Ly93ZW1hLWFsYXRkZXYtYXBpbWd0LmF6dXJlLWFwaS5uZXQvcmVtaXRhLXBheW1lbnRzL2FwaS9SZW1pdGFQYXltZW50L1ZhbGlkYXRlUnJyLyR7cnJyfS8ke2NoYW5uZWxJZH1gO1xuXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChyZW1pdGFVcmwsIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgJ0NhY2hlLUNvbnRyb2wnOiAnbm8tY2FjaGUnLFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCByZXNwb25zZVRleHQgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiUmVtaXRhIFZhbGlkYXRlUnJyIHJlc3BvbnNlIHN0YXR1czpcIiwgcmVzcG9uc2Uuc3RhdHVzKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJSZW1pdGEgVmFsaWRhdGVScnIgcmVzcG9uc2UgYm9keTpcIiwgcmVzcG9uc2VUZXh0KTtcbiAgICAgICAgXG4gICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgbWVzc2FnZTogXCJSZW1pdGEgUlJSIHZhbGlkYXRlZCBzdWNjZXNzZnVsbHkuXCIsIGRhdGE6IEpTT04ucGFyc2UocmVzcG9uc2VUZXh0KSB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBgRmFpbGVkIHRvIHZhbGlkYXRlIFJlbWl0YSBSUlI6ICR7cmVzcG9uc2VUZXh0fWAgfTtcbiAgICAgICAgfVxuXG4gICAgfSBjYXRjaChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgY2FsbGluZyBSZW1pdGEgVmFsaWRhdGVScnIgQVBJOlwiLCBlcnJvcik7XG4gICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJDb3VsZCBub3QgY29ubmVjdCB0byB0aGUgUmVtaXRhIHBheW1lbnQgZ2F0ZXdheSB0byB2YWxpZGF0ZSBSUlIuXCIgfTtcbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IitSQXVlc0IifQ==
}}),
"[project]/src/app/data:966b11 [app-ssr] (ecmascript) <text/javascript>": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
/* __next_internal_action_entry_do_not_use__ [{"40d9dfe3c3ae4688a09169e2db2103cf9aa3714af0":"createPaystackPayment"},"src/app/actions.ts",""] */ __turbopack_context__.s({
    "createPaystackPayment": (()=>createPaystackPayment)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-ssr] (ecmascript)");
"use turbopack no side effects";
;
var createPaystackPayment = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["createServerReference"])("40d9dfe3c3ae4688a09169e2db2103cf9aa3714af0", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["findSourceMapURL"], "createPaystackPayment"); //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vYWN0aW9ucy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJcbid1c2Ugc2VydmVyJztcblxuaW1wb3J0IHsgeiB9IGZyb20gJ3pvZCc7XG5pbXBvcnQgeyBhZGRWb3RlLCBhZGROb21pbmF0aW9uIH0gZnJvbSAnQC9zZXJ2aWNlcy9maXJlc3RvcmUnO1xuaW1wb3J0IHsgUmVzZW5kIH0gZnJvbSAncmVzZW5kJztcbmltcG9ydCB7IHJlZGlyZWN0IH0gZnJvbSAnbmV4dC9uYXZpZ2F0aW9uJztcblxuLy8gRXhwbGljaXRseSByZWFkIGVudmlyb25tZW50IHZhcmlhYmxlcyBhdCB0aGUgdG9wIGxldmVsXG5jb25zdCBXRU1BX0FMQVRfU1VCU0NSSVBUSU9OX0tFWSA9IHByb2Nlc3MuZW52LldFTUFfQUxBVF9TVUJTQ1JJUFRJT05fS0VZO1xuY29uc3QgV0VNQV9BTEFUX1NPVVJDRV9BQ0NPVU5UID0gcHJvY2Vzcy5lbnYuV0VNQV9BTEFUX1NPVVJDRV9BQ0NPVU5UO1xuY29uc3QgV0VNQV9BTEFUX0NIQU5ORUxfSUQgPSBwcm9jZXNzLmVudi5XRU1BX0FMQVRfQ0hBTk5FTF9JRDtcbmNvbnN0IE5FWFRfUFVCTElDX0JBU0VfVVJMID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFTRV9VUkwgfHwgJ2h0dHA6Ly9sb2NhbGhvc3Q6OTAwMic7XG5jb25zdCBSRVNFTkRfQVBJX0tFWSA9IHByb2Nlc3MuZW52LlJFU0VORF9BUElfS0VZO1xuY29uc3QgUEFZU1RBQ0tfU0VDUkVUX0tFWSA9IHByb2Nlc3MuZW52LlBBWVNUQUNLX1NFQ1JFVF9LRVk7XG5jb25zdCBaQVBJRVJfVk9URV9XRUJIT09LX1VSTCA9IHByb2Nlc3MuZW52LlpBUElFUl9WT1RFX1dFQkhPT0tfVVJMO1xuXG5jb25zdCBub21pbmF0aW9uRm9ybVNjaGVtYSA9IHoub2JqZWN0KHtcbiAgY2F0ZWdvcnk6IHouc3RyaW5nKCksXG4gIG5vbWluZWVOYW1lOiB6LnN0cmluZygpLFxuICBub21pbmVlUGhvbmU6IHouc3RyaW5nKCksXG4gIG5vbWluYXRpb25SZWFzb246IHouc3RyaW5nKCksXG4gIG5vbWluYXRvck5hbWU6IHouc3RyaW5nKCksXG4gIG5vbWluYXRvclBob25lOiB6LnN0cmluZygpLFxufSk7XG5cbmNvbnN0IHZvdGVTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIGNvbnRlc3RhbnRJZDogei5zdHJpbmcoKSxcbiAgY29udGVzdGFudE5hbWU6IHouc3RyaW5nKCksXG4gIGNvbnRlc3RhbnRDYXRlZ29yeTogei5zdHJpbmcoKSxcbiAgbnVtYmVyT2ZWb3Rlczogei5udW1iZXIoKS5pbnQoKS5wb3NpdGl2ZSgpLFxufSk7XG5cbmNvbnN0IHdlbWFQYXltZW50U3RhdHVzU2NoZW1hID0gei5vYmplY3Qoe1xuICBjaGFubmVsSWQ6IHouc3RyaW5nKCksXG4gIHRyYW5zYWN0aW9uUmVmZXJlbmNlOiB6LnN0cmluZygpLFxufSk7XG5cbmNvbnN0IHdlbWFQYXltZW50UmVxdWVzdFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgYW1vdW50OiB6Lm51bWJlcigpLFxuICBjb250ZXN0YW50SWQ6IHouc3RyaW5nKCksXG4gIGNvbnRlc3RhbnROYW1lOiB6LnN0cmluZygpLFxuICBjb250ZXN0YW50Q2F0ZWdvcnk6IHouc3RyaW5nKCksXG4gIG51bWJlck9mVm90ZXM6IHoubnVtYmVyKCksXG59KTtcblxuY29uc3Qgd2VtYVBheW1lbnRWYWxpZGF0aW9uU2NoZW1hID0gei5vYmplY3Qoe1xuICBjaGFubmVsSWQ6IHouc3RyaW5nKCksXG4gIHRyYW5zYWN0aW9uUmVmZXJlbmNlOiB6LnN0cmluZygpLFxuICBwbGF0Zm9ybVRyYW5zYWN0aW9uUmVmZXJlbmNlOiB6LnN0cmluZygpLFxuICBvdHA6IHouc3RyaW5nKCksXG4gIC8vIFBhc3MgYWxvbmcgdm90ZSBkYXRhIGZvciByZWNvcmRpbmdcbiAgY29udGVzdGFudElkOiB6LnN0cmluZygpLFxuICBjb250ZXN0YW50TmFtZTogei5zdHJpbmcoKSxcbiAgY29udGVzdGFudENhdGVnb3J5OiB6LnN0cmluZygpLFxuICBudW1iZXJPZlZvdGVzOiB6Lm51bWJlcigpLFxufSk7XG5cbmNvbnN0IHJlbWl0YVBheW1lbnRSZXF1ZXN0U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIGFtb3VudDogei5udW1iZXIoKSxcbiAgICBjaGFyZ2U6IHoubnVtYmVyKCksXG4gICAgdHJhbnNhY3Rpb25SZWZlcmVuY2U6IHouc3RyaW5nKCksXG4gICAgY3VzdG9tZXJFbWFpbDogei5zdHJpbmcoKS5lbWFpbCgpLFxuICAgIGN1c3RvbWVyTmFtZTogei5zdHJpbmcoKSxcbiAgICBjdXN0b21lclBob25lTnVtYmVyOiB6LnN0cmluZygpLFxuICAgIGRlc2NyaXB0aW9uOiB6LnN0cmluZygpLFxuICAgIC8vIFBhc3MgYWxvbmcgdm90ZSBkYXRhIGZvciByZWNvcmRpbmdcbiAgICBjb250ZXN0YW50SWQ6IHouc3RyaW5nKCksXG4gICAgY29udGVzdGFudE5hbWU6IHouc3RyaW5nKCksXG4gICAgY29udGVzdGFudENhdGVnb3J5OiB6LnN0cmluZygpLFxuICAgIG51bWJlck9mVm90ZXM6IHoubnVtYmVyKCksXG59KTtcblxuY29uc3QgcmVtaXRhUmVjZWlwdFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgcnJyOiB6LnN0cmluZygpLFxufSk7XG5cbmNvbnN0IHJlbWl0YVJyclZhbGlkYXRpb25TY2hlbWEgPSB6Lm9iamVjdCh7XG4gIHJycjogei5zdHJpbmcoKSxcbiAgY2hhbm5lbElkOiB6LnN0cmluZygpLFxufSk7XG5cbmNvbnN0IHBheXN0YWNrUGF5bWVudFJlcXVlc3RTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIGVtYWlsOiB6LnN0cmluZygpLmVtYWlsKCksXG4gIGFtb3VudDogei5udW1iZXIoKSxcbiAgbWV0YWRhdGE6IHoub2JqZWN0KHtcbiAgICBjb250ZXN0YW50SWQ6IHouc3RyaW5nKCksXG4gICAgY29udGVzdGFudE5hbWU6IHouc3RyaW5nKCksXG4gICAgY29udGVzdGFudENhdGVnb3J5OiB6LnN0cmluZygpLFxuICAgIG51bWJlck9mVm90ZXM6IHoubnVtYmVyKCksXG4gIH0pLFxufSk7XG5cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlbmROb21pbmF0aW9uRW1haWwoZm9ybURhdGE6IHouaW5mZXI8dHlwZW9mIG5vbWluYXRpb25Gb3JtU2NoZW1hPikge1xuICBjb25zdCB2YWxpZGF0ZWRGaWVsZHMgPSBub21pbmF0aW9uRm9ybVNjaGVtYS5zYWZlUGFyc2UoZm9ybURhdGEpO1xuXG4gIGlmICghdmFsaWRhdGVkRmllbGRzLnN1Y2Nlc3MpIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdJbnZhbGlkIGZvcm0gZGF0YS4nIH07XG4gIH1cbiAgXG4gIHRyeSB7XG4gICAgY29uc3QgeyBjYXRlZ29yeSwgbm9taW5lZU5hbWUsIG5vbWluZWVQaG9uZSwgbm9taW5hdGlvblJlYXNvbiwgbm9taW5hdG9yTmFtZSwgbm9taW5hdG9yUGhvbmUgfSA9IHZhbGlkYXRlZEZpZWxkcy5kYXRhO1xuXG4gICAgLy8gMS4gQXR0ZW1wdCB0byBzZW5kIGVtYWlsXG4gICAgaWYgKFJFU0VORF9BUElfS0VZKSB7XG4gICAgICBjb25zdCByZXNlbmQgPSBuZXcgUmVzZW5kKFJFU0VORF9BUElfS0VZKTtcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHJlc2VuZC5lbWFpbHMuc2VuZCh7XG4gICAgICAgIGZyb206ICdTUiBGaXRuZXNzIEF3YXJkcyA8bm9yZXBseUBzcmZpdG5lc3MuY29tLm5nPicsXG4gICAgICAgIHRvOiBbJ3NhbXBzb24wN0BvdXRsb29rLmNvbScsICdzcmZpdG5lc3MyNDdAZ21haWwuY29tJ10sXG4gICAgICAgIHN1YmplY3Q6ICdOZXcgQXdhcmQgTm9taW5hdGlvbiBSZWNlaXZlZCEnLFxuICAgICAgICBodG1sOiBgXG4gICAgICAgICAgICA8aDE+TmV3IFNSIEZpdG5lc3MgQXdhcmQgTm9taW5hdGlvbjwvaDE+XG4gICAgICAgICAgICA8cD5BIG5ldyBub21pbmF0aW9uIGhhcyBiZWVuIHN1Ym1pdHRlZC4gSGVyZSBhcmUgdGhlIGRldGFpbHM6PC9wPlxuICAgICAgICAgICAgPGgyPk5vbWluZWUgRGV0YWlsczo8L2gyPlxuICAgICAgICAgICAgPHVsPlxuICAgICAgICAgICAgICAgIDxsaT48c3Ryb25nPkNhdGVnb3J5Ojwvc3Ryb25nPiAke2NhdGVnb3J5fTwvbGk+XG4gICAgICAgICAgICAgICAgPGxpPjxzdHJvbmc+TmFtZTo8L3N0cm9uZz4gJHtub21pbmVlTmFtZX08L2xpPlxuICAgICAgICAgICAgICAgIDxsaT48c3Ryb25nPlBob25lOjwvc3Ryb25nPiAke25vbWluZWVQaG9uZX08L2xpPlxuICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgIDxoMj5SZWFzb24gZm9yIE5vbWluYXRpb246PC9oMj5cbiAgICAgICAgICAgIDxwPiR7bm9taW5hdGlvblJlYXNvbn08L3A+XG4gICAgICAgICAgICA8aHIgLz5cbiAgICAgICAgICAgIDxoMj5Ob21pbmF0b3IgRGV0YWlsczo8L2gyPlxuICAgICAgICAgICAgPHVsPlxuICAgICAgICAgICAgICAgIDxsaT48c3Ryb25nPk5hbWU6PC9zdHJvbmc+ICR7bm9taW5hdG9yTmFtZX08L2xpPlxuICAgICAgICAgICAgICAgIDxsaT48c3Ryb25nPlBob25lOjwvc3Ryb25nPiAke25vbWluYXRvclBob25lfTwvbGk+XG4gICAgICAgICAgICA8L3VsPlxuICAgICAgICBgLFxuICAgICAgfSk7XG5cbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAvLyBJZiBlbWFpbCBmYWlscywgcmV0dXJuIGFuIGVycm9yIGFuZCBkbyBub3Qgc2F2ZSB0byBEQlxuICAgICAgICBjb25zb2xlLmVycm9yKCdSZXNlbmQgQVBJIEVycm9yOicsIGVycm9yKTtcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnRmFpbGVkIHRvIHNlbmQgbm9taW5hdGlvbiBlbWFpbC4gUGxlYXNlIHRyeSBhZ2Fpbi4nIH07XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdSZXNlbmQgQVBJIGtleSBpcyBub3QgY29uZmlndXJlZC4gU2tpcHBpbmcgZW1haWwgc2VuZGluZy4nKTtcbiAgICB9XG5cbiAgICAvLyAyLiBJZiBlbWFpbCBpcyBzZW50IChvciBza2lwcGVkKSwgc2F2ZSB0byBGaXJlc3RvcmVcbiAgICBhd2FpdCBhZGROb21pbmF0aW9uKHZhbGlkYXRlZEZpZWxkcy5kYXRhKTtcbiAgICBcbiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBtZXNzYWdlOiAnTm9taW5hdGlvbiBzdWJtaXR0ZWQgc3VjY2Vzc2Z1bGx5IScgfTtcblxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0FuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQgaW4gc2VuZE5vbWluYXRpb25FbWFpbDonLCBlcnJvcik7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgZXJyb3I6ICdBbiB1bmV4cGVjdGVkIHNlcnZlciBlcnJvciBvY2N1cnJlZC4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlci4nLFxuICAgIH07XG4gIH1cbn1cblxuLyoqXG4gKiBSZWNvcmRzIGEgdm90ZSBpbiB0aGUgRmlyZXN0b3JlIGRhdGFiYXNlIGFuZCB0cmlnZ2VycyBhIFphcGllciB3ZWJob29rIGlmIGNvbmZpZ3VyZWQuXG4gKiBUaGlzIGlzIHRoZSBjcnVjaWFsIHN0ZXAgdGhhdCB1cGRhdGVzIHRoZSBhZG1pbiB2b3RlIHRyYWNrZXIuXG4gKiBJdCBzaG91bGQgYmUgY2FsbGVkIE9OTFkgYWZ0ZXIgYSBwYXltZW50IGlzIHN1Y2Nlc3NmdWxseSB2ZXJpZmllZC5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlY29yZFZvdGUodm90ZURhdGE6IHouaW5mZXI8dHlwZW9mIHZvdGVTY2hlbWE+KSB7XG4gIGNvbnN0IHZhbGlkYXRlZEZpZWxkcyA9IHZvdGVTY2hlbWEuc2FmZVBhcnNlKHZvdGVEYXRhKTtcblxuICBpZiAoIXZhbGlkYXRlZEZpZWxkcy5zdWNjZXNzKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkludmFsaWQgdm90ZSBkYXRhIGZvciBGaXJlc3RvcmU6XCIsIHZhbGlkYXRlZEZpZWxkcy5lcnJvcik7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgZXJyb3I6ICdJbnZhbGlkIHZvdGUgZGF0YSBwcm92aWRlZC4nLFxuICAgIH07XG4gIH1cblxuICB0cnkge1xuICAgIC8vIFN0ZXAgMTogU2F2ZSB0aGUgdm90ZSB0byBGaXJlc3RvcmUuIFRoaXMgaXMgdGhlIHByaW1hcnksIGNyaXRpY2FsIGFjdGlvbi5cbiAgICBhd2FpdCBhZGRWb3RlKHZhbGlkYXRlZEZpZWxkcy5kYXRhKTtcbiAgICBjb25zb2xlLmxvZyhcIlZvdGUgc3VjY2Vzc2Z1bGx5IHJlY29yZGVkIGluIEZpcmVzdG9yZSBmb3I6XCIsIHZvdGVEYXRhLmNvbnRlc3RhbnROYW1lKTtcblxuICAgIC8vIFN0ZXAgMjogSWYgYSBaYXBpZXIgd2ViaG9vayBVUkwgaXMgY29uZmlndXJlZCwgc2VuZCB0aGUgZGF0YS4gVGhpcyBpcyBhIHNlY29uZGFyeSBhY3Rpb24uXG4gICAgaWYgKFpBUElFUl9WT1RFX1dFQkhPT0tfVVJMKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFpBUElFUl9WT1RFX1dFQkhPT0tfVVJMLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgLi4udmFsaWRhdGVkRmllbGRzLmRhdGEsXG4gICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSwgLy8gQWRkIGEgaHVtYW4tcmVhZGFibGUgdGltZXN0YW1wIGZvciBaYXBpZXJcbiAgICAgICAgICB9KSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHdlYmhvb2sgY2FsbCB3YXMgc3VjY2Vzc2Z1bFxuICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiU3VjY2Vzc2Z1bGx5IHRyaWdnZXJlZCBaYXBpZXIgd2ViaG9vayBmb3IgbmV3IHZvdGUuXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gTG9nIHRoZSBmYWlsdXJlIGRldGFpbHMgYnV0IGRvIG5vdCB0aHJvdyBhbiBlcnJvciwgYXMgdGhlIHZvdGUgaXMgYWxyZWFkeSBzYXZlZC5cbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlQm9keSA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFphcGllciB3ZWJob29rIGNhbGwgZmFpbGVkIHdpdGggc3RhdHVzICR7cmVzcG9uc2Uuc3RhdHVzfTogJHtyZXNwb25zZUJvZHl9YCk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKHphcGllckVycm9yKSB7XG4gICAgICAgIC8vIExvZyB0aGUgbmV0d29yayBlcnJvciBidXQgZG9uJ3QgZmFpbCB0aGUgZW50aXJlIHRyYW5zYWN0aW9uLlxuICAgICAgICAvLyBUaGlzIGVuc3VyZXMgdGhlIHZvdGUgaXMgc3RpbGwgY291bnRlZCBldmVuIGlmIFphcGllciBpcyB0ZW1wb3JhcmlseSB1bnJlYWNoYWJsZS5cbiAgICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byB0cmlnZ2VyIFphcGllciB3ZWJob29rIGR1ZSB0byBhIG5ldHdvcmsgb3IgZmV0Y2ggZXJyb3I6XCIsIHphcGllckVycm9yKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBtZXNzYWdlOiBcIlZvdGUgc3VjY2Vzc2Z1bGx5IHJlY29yZGVkLlwiIH07XG5cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIHJlY29yZCB2b3RlIGluIFNlcnZlciBBY3Rpb246IFwiLCBlcnJvcik7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgZXJyb3I6ICdUaGVyZSB3YXMgYW4gZXJyb3IgcmVjb3JkaW5nIHlvdXIgdm90ZSB0byB0aGUgZGF0YWJhc2UuJ1xuICAgIH07XG4gIH1cbn1cblxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlUGF5c3RhY2tQYXltZW50KHBheW1lbnREYXRhOiB6LmluZmVyPHR5cGVvZiBwYXlzdGFja1BheW1lbnRSZXF1ZXN0U2NoZW1hPikge1xuICAgIGNvbnN0IHZhbGlkYXRlZEZpZWxkcyA9IHBheXN0YWNrUGF5bWVudFJlcXVlc3RTY2hlbWEuc2FmZVBhcnNlKHBheW1lbnREYXRhKTtcbiAgICBpZiAoIXZhbGlkYXRlZEZpZWxkcy5zdWNjZXNzKSB7XG4gICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ0ludmFsaWQgcGF5bWVudCBkYXRhIHByb3ZpZGVkLicgfTtcbiAgICB9XG5cbiAgICBpZiAoIVBBWVNUQUNLX1NFQ1JFVF9LRVkpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIlBheXN0YWNrIHNlY3JldCBrZXkgaXMgbm90IGNvbmZpZ3VyZWQuXCIpO1xuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiUGF5bWVudCBnYXRld2F5IGlzIG5vdCBjb25maWd1cmVkIGNvcnJlY3RseS5cIiB9O1xuICAgIH1cblxuICAgIGNvbnN0IHsgZW1haWwsIGFtb3VudCwgbWV0YWRhdGEgfSA9IHZhbGlkYXRlZEZpZWxkcy5kYXRhO1xuXG4gICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgZW1haWwsXG4gICAgICAgIGFtb3VudDogYW1vdW50ICogMTAwLCAvLyBQYXlzdGFjayBleHBlY3RzIGFtb3VudCBpbiBrb2JvXG4gICAgICAgIGNhbGxiYWNrX3VybDogYCR7TkVYVF9QVUJMSUNfQkFTRV9VUkx9L3ZvdGUvY2FsbGJhY2tgLFxuICAgICAgICBtZXRhZGF0YSxcbiAgICB9O1xuXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnaHR0cHM6Ly9hcGkucGF5c3RhY2suY28vdHJhbnNhY3Rpb24vaW5pdGlhbGl6ZScsIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICAnQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHtQQVlTVEFDS19TRUNSRVRfS0VZfWAsXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChkYXRhLnN0YXR1cykge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICAgIGF1dGhvcml6YXRpb25Vcmw6IGRhdGEuZGF0YS5hdXRob3JpemF0aW9uX3VybCxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiUGF5c3RhY2sgQVBJIGVycm9yOlwiLCBkYXRhLm1lc3NhZ2UpO1xuICAgICAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBkYXRhLm1lc3NhZ2UgfHwgJ1BheW1lbnQgaW5pdGlhdGlvbiBmYWlsZWQuJyB9O1xuICAgICAgICB9XG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgY2FsbGluZyBQYXlzdGFjayBBUEk6XCIsIGVycm9yKTtcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkNvdWxkIG5vdCBjb25uZWN0IHRvIHRoZSBwYXltZW50IGdhdGV3YXkuXCIgfTtcbiAgICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB2ZXJpZnlQYXlzdGFja1BheW1lbnQocmVmZXJlbmNlOiBzdHJpbmcpIHtcbiAgICBpZiAoIXJlZmVyZW5jZSkge1xuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdObyBwYXltZW50IHJlZmVyZW5jZSBwcm92aWRlZC4nLCBzdGF0dXM6ICdlcnJvcicgfTtcbiAgICB9XG5cbiAgICBpZiAoIVBBWVNUQUNLX1NFQ1JFVF9LRVkpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIlBheXN0YWNrIHNlY3JldCBrZXkgaXMgbm90IGNvbmZpZ3VyZWQuXCIpO1xuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiUGF5bWVudCBnYXRld2F5IGlzIG5vdCBjb25maWd1cmVkIGNvcnJlY3RseS5cIiwgc3RhdHVzOiAnZXJyb3InIH07XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgaHR0cHM6Ly9hcGkucGF5c3RhY2suY28vdHJhbnNhY3Rpb24vdmVyaWZ5LyR7cmVmZXJlbmNlfWAsIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7UEFZU1RBQ0tfU0VDUkVUX0tFWX1gLFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICAgIGlmIChkYXRhLnN0YXR1cyAmJiBkYXRhLmRhdGEuc3RhdHVzID09PSAnc3VjY2VzcycpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgY29udGVzdGFudElkLCBjb250ZXN0YW50TmFtZSwgY29udGVzdGFudENhdGVnb3J5LCBudW1iZXJPZlZvdGVzIH0gPSBkYXRhLmRhdGEubWV0YWRhdGE7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFRoaXMgaXMgdGhlIGNydWNpYWwgc3RlcDogcmVjb3JkIHRoZSB2b3RlIG9ubHkgYWZ0ZXIgc3VjY2Vzc2Z1bCB2ZXJpZmljYXRpb24uXG4gICAgICAgICAgICBjb25zdCB2b3RlUmVjb3JkUmVzdWx0ID0gYXdhaXQgcmVjb3JkVm90ZSh7XG4gICAgICAgICAgICAgICAgY29udGVzdGFudElkLFxuICAgICAgICAgICAgICAgIGNvbnRlc3RhbnROYW1lLFxuICAgICAgICAgICAgICAgIGNvbnRlc3RhbnRDYXRlZ29yeSxcbiAgICAgICAgICAgICAgICBudW1iZXJPZlZvdGVzOiBOdW1iZXIobnVtYmVyT2ZWb3RlcyksXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKHZvdGVSZWNvcmRSZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IFxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLCBcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ1BheW1lbnQgdmVyaWZpZWQgYW5kIHZvdGUgcmVjb3JkZWQgc3VjY2Vzc2Z1bGx5IScsXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogJ3N1Y2Nlc3MnLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICByZXR1cm4geyBcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsIFxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogYFBheW1lbnQgd2FzIHN1Y2Nlc3NmdWwsIGJ1dCB2b3RlIHJlY29yZGluZyBmYWlsZWQuIFBsZWFzZSBjb250YWN0IHN1cHBvcnQuIEVycm9yOiAke3ZvdGVSZWNvcmRSZXN1bHQuZXJyb3J9YCxcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnZXJyb3InLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7IFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLCBcbiAgICAgICAgICAgICAgICBlcnJvcjogYFBheW1lbnQgdmVyaWZpY2F0aW9uIGZhaWxlZDogJHtkYXRhLmRhdGEuZ2F0ZXdheV9yZXNwb25zZX1gLFxuICAgICAgICAgICAgICAgIHN0YXR1czogZGF0YS5kYXRhLnN0YXR1cyB8fCAnZmFpbGVkJyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciB2ZXJpZnlpbmcgUGF5c3RhY2sgcGF5bWVudDpcIiwgZXJyb3IpO1xuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiQ291bGQgbm90IGNvbm5lY3QgdG8gdGhlIHBheW1lbnQgZ2F0ZXdheSBmb3IgdmVyaWZpY2F0aW9uLlwiLCBzdGF0dXM6ICdlcnJvcicgfTtcbiAgICB9XG59XG5cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVdlbWFBbGF0UGF5bWVudChwYXltZW50RGF0YTogei5pbmZlcjx0eXBlb2Ygd2VtYVBheW1lbnRSZXF1ZXN0U2NoZW1hPikge1xuICBjb25zdCB2YWxpZGF0ZWRGaWVsZHMgPSB3ZW1hUGF5bWVudFJlcXVlc3RTY2hlbWEuc2FmZVBhcnNlKHBheW1lbnREYXRhKTtcbiAgaWYgKCF2YWxpZGF0ZWRGaWVsZHMuc3VjY2Vzcykge1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ0ludmFsaWQgcGF5bWVudCBkYXRhIHByb3ZpZGVkLicgfTtcbiAgfVxuICBcbiAgaWYgKCFXRU1BX0FMQVRfU1VCU0NSSVBUSU9OX0tFWSB8fCAhV0VNQV9BTEFUX1NPVVJDRV9BQ0NPVU5UIHx8ICFXRU1BX0FMQVRfQ0hBTk5FTF9JRCkge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJXZW1hIEFsYXQgZW52aXJvbm1lbnQgdmFyaWFibGVzIGFyZSBub3Qgc2V0LlwiKTtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiUGF5bWVudCBnYXRld2F5IGlzIG5vdCBjb25maWd1cmVkIGNvcnJlY3RseS5cIiB9O1xuICB9XG5cbiAgY29uc3QgeyBhbW91bnQsIGNvbnRlc3RhbnRJZCwgY29udGVzdGFudE5hbWUsIGNvbnRlc3RhbnRDYXRlZ29yeSwgbnVtYmVyT2ZWb3RlcyB9ID0gdmFsaWRhdGVkRmllbGRzLmRhdGE7XG5cbiAgY29uc3QgdHJhbnNhY3Rpb25SZWZlcmVuY2UgPSBgU1JGLVZPVEUtJHtjb250ZXN0YW50SWR9LSR7RGF0ZS5ub3coKX1gO1xuICBjb25zdCBuYXJyYXRpb24gPSBgVm90ZSBmb3IgJHtjb250ZXN0YW50TmFtZX0gaW4gJHtjb250ZXN0YW50Q2F0ZWdvcnl9YDtcblxuICBjb25zdCBib2R5ID0ge1xuICAgIGFtb3VudDogYW1vdW50LFxuICAgIHNvdXJjZUFjY291bnROdW1iZXI6IFdFTUFfQUxBVF9TT1VSQ0VfQUNDT1VOVCxcbiAgICBjaGFubmVsSWQ6IFdFTUFfQUxBVF9DSEFOTkVMX0lELFxuICAgIG5hcnJhdGlvbjogbmFycmF0aW9uLFxuICAgIHRyYW5zYWN0aW9uUmVmZXJlbmNlOiB0cmFuc2FjdGlvblJlZmVyZW5jZVxuICB9O1xuXG4gIHRyeSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnaHR0cHM6Ly93ZW1hLWFsYXRkZXYtYXBpbWd0LmF6dXJlLWFwaS5uZXQvYWxhdC1wYXkvYXBpL0Vjb21tZXJjZVRyYW5zZmVyL3RyYW5zZmVyLWZ1bmQtcmVxdWVzdCcsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICdDYWNoZS1Db250cm9sJzogJ25vLWNhY2hlJyxcbiAgICAgICAgJ09jcC1BcGltLVN1YnNjcmlwdGlvbi1LZXknOiBXRU1BX0FMQVRfU1VCU0NSSVBUSU9OX0tFWSxcbiAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICBjb25zdCByZXNwb25zZVRleHQgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gICAgY29uc29sZS5sb2coXCJXZW1hIEFsYXQgdHJhbnNmZXItZnVuZC1yZXF1ZXN0IHJlc3BvbnNlIHN0YXR1czpcIiwgcmVzcG9uc2Uuc3RhdHVzKTtcbiAgICBjb25zb2xlLmxvZyhcIldlbWEgQWxhdCB0cmFuc2Zlci1mdW5kLXJlcXVlc3QgcmVzcG9uc2UgYm9keTpcIiwgcmVzcG9uc2VUZXh0KTtcblxuICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UocmVzcG9uc2VUZXh0KTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlBheW1lbnQgaW5pdGlhdGVkLiBQbGVhc2UgZW50ZXIgT1RQLlwiLFxuICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgcGxhdGZvcm1UcmFuc2FjdGlvblJlZmVyZW5jZTogZGF0YS5wbGF0Zm9ybVRyYW5zYWN0aW9uUmVmZXJlbmNlLFxuICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvblJlZmVyZW5jZTogdHJhbnNhY3Rpb25SZWZlcmVuY2UsXG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWxJZDogV0VNQV9BTEFUX0NIQU5ORUxfSUQsXG4gICAgICAgICAgICAgICAgICAgIC8vIFBhc3Mgdm90ZSBpbmZvIHRocm91Z2ggZm9yIHRoZSBuZXh0IHN0ZXBcbiAgICAgICAgICAgICAgICAgICAgY29udGVzdGFudElkLFxuICAgICAgICAgICAgICAgICAgICBjb250ZXN0YW50TmFtZSxcbiAgICAgICAgICAgICAgICAgICAgY29udGVzdGFudENhdGVnb3J5LFxuICAgICAgICAgICAgICAgICAgICBudW1iZXJPZlZvdGVzLFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gcGFyc2UgSlNPTiBmcm9tIFdlbWEgQWxhdCByZXNwb25zZVwiLCBlKTtcbiAgICAgICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGBSZWNlaXZlZCBhbiB1bnJlYWRhYmxlIHJlc3BvbnNlIGZyb20gcGF5bWVudCBnYXRld2F5OiAke3Jlc3BvbnNlVGV4dH1gIH07XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogYFBheW1lbnQgaW5pdGlhdGlvbiBmYWlsZWQ6ICR7cmVzcG9uc2VUZXh0fWAsIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzIH07XG4gICAgfVxuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGNhbGxpbmcgV2VtYSBBbGF0IEFQSTpcIiwgZXJyb3IpO1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJDb3VsZCBub3QgY29ubmVjdCB0byB0aGUgcGF5bWVudCBnYXRld2F5LlwiIH07XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHZhbGlkYXRlV2VtYUFsYXRQYXltZW50KHZhbGlkYXRpb25EYXRhOiB6LmluZmVyPHR5cGVvZiB3ZW1hUGF5bWVudFZhbGlkYXRpb25TY2hlbWE+KSB7XG4gICAgY29uc3QgdmFsaWRhdGVkRmllbGRzID0gd2VtYVBheW1lbnRWYWxpZGF0aW9uU2NoZW1hLnNhZmVQYXJzZSh2YWxpZGF0aW9uRGF0YSk7XG4gICAgaWYgKCF2YWxpZGF0ZWRGaWVsZHMuc3VjY2Vzcykge1xuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdJbnZhbGlkIHZhbGlkYXRpb24gZGF0YSBwcm92aWRlZC4nIH07XG4gICAgfVxuXG4gICAgaWYgKCFXRU1BX0FMQVRfU1VCU0NSSVBUSU9OX0tFWSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiV2VtYSBBbGF0IHN1YnNjcmlwdGlvbiBrZXkgaXMgbm90IHNldC5cIik7XG4gICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJQYXltZW50IGdhdGV3YXkgaXMgbm90IGNvbmZpZ3VyZWQgY29ycmVjdGx5LlwiIH07XG4gICAgfVxuXG4gICAgY29uc3QgeyBjaGFubmVsSWQsIHRyYW5zYWN0aW9uUmVmZXJlbmNlLCBwbGF0Zm9ybVRyYW5zYWN0aW9uUmVmZXJlbmNlLCBvdHAsIGNvbnRlc3RhbnRJZCwgY29udGVzdGFudE5hbWUsIGNvbnRlc3RhbnRDYXRlZ29yeSwgbnVtYmVyT2ZWb3RlcyB9ID0gdmFsaWRhdGVkRmllbGRzLmRhdGE7XG5cbiAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICBjaGFubmVsSWQsXG4gICAgICAgIHRyYW5zYWN0aW9uUmVmZXJlbmNlLFxuICAgICAgICBwbGF0Zm9ybVRyYW5zYWN0aW9uUmVmZXJlbmNlLFxuICAgICAgICBvdHAsXG4gICAgfTtcblxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJ2h0dHBzOi8vd2VtYS1hbGF0ZGV2LWFwaW1ndC5henVyZS1hcGkubmV0L2FsYXQtcGF5L2FwaS9FY29tbWVyY2VUcmFuc2Zlci90cmFuc2Zlci1mdW5kLXZhbGlkYXRpb24nLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgJ0NhY2hlLUNvbnRyb2wnOiAnbm8tY2FjaGUnLFxuICAgICAgICAgICAgICAgICdPY3AtQXBpbS1TdWJzY3JpcHRpb24tS2V5JzogV0VNQV9BTEFUX1NVQlNDUklQVElPTl9LRVksXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlVGV4dCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJXZW1hIEFsYXQgdHJhbnNmZXItZnVuZC12YWxpZGF0aW9uIHJlc3BvbnNlIHN0YXR1czpcIiwgcmVzcG9uc2Uuc3RhdHVzKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJXZW1hIEFsYXQgdHJhbnNmZXItZnVuZC12YWxpZGF0aW9uIHJlc3BvbnNlIGJvZHk6XCIsIHJlc3BvbnNlVGV4dCk7XG4gICAgICAgIFxuICAgICAgICBpZihyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgY29uc3Qgdm90ZVJlY29yZFJlc3VsdCA9IGF3YWl0IHJlY29yZFZvdGUoeyBjb250ZXN0YW50SWQsIGNvbnRlc3RhbnROYW1lLCBjb250ZXN0YW50Q2F0ZWdvcnksIG51bWJlck9mVm90ZXMgfSk7XG4gICAgICAgICAgICBpZiAoIXZvdGVSZWNvcmRSZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgIC8vIFBheW1lbnQgc3VjY2VlZGVkLCBidXQgREIgZmFpbGVkLiBJbXBvcnRhbnQgdG8gbm90aWZ5IHVzZXIvYWRtaW4uXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgbWVzc2FnZTogYFBheW1lbnQgdmFsaWRhdGVkLCBidXQgZmFpbGVkIHRvIHJlY29yZCB2b3RlOiAke3ZvdGVSZWNvcmRSZXN1bHQuZXJyb3J9YCB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgbWVzc2FnZTogXCJQYXltZW50IHZhbGlkYXRlZCBhbmQgdm90ZSByZWNvcmRlZCBzdWNjZXNzZnVsbHkhXCIgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogYE9UUCB2YWxpZGF0aW9uIGZhaWxlZDogJHtyZXNwb25zZVRleHR9YCB9O1xuICAgICAgICB9XG5cbiAgICB9IGNhdGNoKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBjYWxsaW5nIFdlbWEgQWxhdCB2YWxpZGF0aW9uIEFQSTpcIiwgZXJyb3IpO1xuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiQ291bGQgbm90IGNvbm5lY3QgdG8gdGhlIHBheW1lbnQgZ2F0ZXdheSBmb3IgdmFsaWRhdGlvbi5cIiB9O1xuICAgIH1cbn1cblxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2hlY2tXZW1hQWxhdFRyYW5zYWN0aW9uU3RhdHVzKHN0YXR1c0RhdGE6IHouaW5mZXI8dHlwZW9mIHdlbWFQYXltZW50U3RhdHVzU2NoZW1hPikge1xuICAgIGNvbnN0IHZhbGlkYXRlZEZpZWxkcyA9IHdlbWFQYXltZW50U3RhdHVzU2NoZW1hLnNhZmVQYXJzZShzdGF0dXNEYXRhKTtcbiAgICBpZiAoIXZhbGlkYXRlZEZpZWxkcy5zdWNjZXNzKSB7XG4gICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ0ludmFsaWQgdHJhbnNhY3Rpb24gZGF0YScgfTtcbiAgICB9XG5cbiAgICBjb25zdCB7IGNoYW5uZWxJZCwgdHJhbnNhY3Rpb25SZWZlcmVuY2UgfSA9IHZhbGlkYXRlZEZpZWxkcy5kYXRhO1xuXG4gICAgY29uc3Qgd2VtYUFsYXRVcmwgPSBgaHR0cHM6Ly93ZW1hLWFsYXRkZXYtYXBpbWd0LmF6dXJlLWFwaS5uZXQvYWxhdC1wYXkvYXBpL0Vjb21tZXJjZVRyYW5zZmVyL0NoZWNrVHJhbnNhY3Rpb25TdGF0dXMvJHtjaGFubmVsSWR9LyR7dHJhbnNhY3Rpb25SZWZlcmVuY2V9YDtcblxuICAgIGlmICghV0VNQV9BTEFUX1NVQlNDUklQVElPTl9LRVkpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIldlbWEgQWxhdCBzdWJzY3JpcHRpb24ga2V5IGlzIG5vdCBzZXQgaW4gZW52aXJvbm1lbnQgdmFyaWFibGVzLlwiKTtcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIlBheW1lbnQgZ2F0ZXdheSBpcyBub3QgY29uZmlndXJlZC5cIiB9O1xuICAgIH1cbiAgICBcbiAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHdlbWFBbGF0VXJsLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICdDYWNoZS1Db250cm9sJzogJ25vLWNhY2hlJyxcbiAgICAgICAgICAgICAgICAnT2NwLUFwaW0tU3Vic2NyaXB0aW9uLUtleSc6IFdFTUFfQUxBVF9TVUJTQ1JJUFRJT05fS0VZLFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCByZXN1bHRUZXh0ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xuICAgICAgICBjb25zdCByZXN1bHRTdGF0dXMgPSByZXNwb25zZS5zdGF0dXM7XG4gICAgICAgIGNvbnNvbGUubG9nKCdXZW1hIEFsYXQgU3RhdHVzOicsIHJlc3VsdFN0YXR1cyk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdXZW1hIEFsYXQgUmVzcG9uc2U6JywgcmVzdWx0VGV4dCk7XG5cbiAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBzdGF0dXM6IHJlc3VsdFN0YXR1cywgZGF0YTogcmVzdWx0VGV4dCB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBgRmFpbGVkIHRvIGNoZWNrIHRyYW5zYWN0aW9uIHN0YXR1czogJHtyZXN1bHRUZXh0fWAsIHN0YXR1czogcmVzdWx0U3RhdHVzIH07XG4gICAgICAgIH1cblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBjYWxsaW5nIFdlbWEgQWxhdCBBUEk6XCIsIGVycm9yKTtcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkNvdWxkIG5vdCBjb25uZWN0IHRvIHRoZSBwYXltZW50IGdhdGV3YXkuXCIgfTtcbiAgICB9XG59XG5cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVJlbWl0YVBheW1lbnQocGF5bWVudERhdGE6IHouaW5mZXI8dHlwZW9mIHJlbWl0YVBheW1lbnRSZXF1ZXN0U2NoZW1hPikge1xuICAgIGNvbnN0IHZhbGlkYXRlZEZpZWxkcyA9IHJlbWl0YVBheW1lbnRSZXF1ZXN0U2NoZW1hLnNhZmVQYXJzZShwYXltZW50RGF0YSk7XG4gICAgaWYgKCF2YWxpZGF0ZWRGaWVsZHMuc3VjY2Vzcykge1xuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiSW52YWxpZCBSZW1pdGEgcGF5bWVudCBkYXRhLlwiIH07XG4gICAgfVxuXG4gICAgaWYgKCFXRU1BX0FMQVRfU1VCU0NSSVBUSU9OX0tFWSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiUmVtaXRhIHN1YnNjcmlwdGlvbiBrZXkgaXMgbm90IHNldC5cIik7XG4gICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJQYXltZW50IGdhdGV3YXkgaXMgbm90IGNvbmZpZ3VyZWQgY29ycmVjdGx5LlwiIH07XG4gICAgfVxuXG4gICAgY29uc3QgeyBhbW91bnQsIGNoYXJnZSwgdHJhbnNhY3Rpb25SZWZlcmVuY2UsIGN1c3RvbWVyRW1haWwsIGN1c3RvbWVyTmFtZSwgY3VzdG9tZXJQaG9uZU51bWJlciwgZGVzY3JpcHRpb24sIGNvbnRlc3RhbnRJZCwgY29udGVzdGFudE5hbWUsIGNvbnRlc3RhbnRDYXRlZ29yeSwgbnVtYmVyT2ZWb3RlcyB9ID0gdmFsaWRhdGVkRmllbGRzLmRhdGE7XG5cbiAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICBjaGFubmVsSWQ6IFwic3RyaW5nXCIsIC8vIFBsYWNlaG9sZGVyXG4gICAgICAgIGNpZjogXCJzdHJpbmdcIiwgLy8gUGxhY2Vob2xkZXJcbiAgICAgICAgY3VzdG9tZXJBY2NvdW50OiBcInN0cmluZ1wiLCAvLyBQbGFjZWhvbGRlclxuICAgICAgICBhbW91bnQ6IGFtb3VudCxcbiAgICAgICAgY2hhcmdlOiBjaGFyZ2UsXG4gICAgICAgIHRyYW5zYWN0aW9uUmVmZXJlbmNlOiB0cmFuc2FjdGlvblJlZmVyZW5jZSxcbiAgICAgICAgY3VzdG9tZXJFbWFpbDogY3VzdG9tZXJFbWFpbCxcbiAgICAgICAgY3VzdG9tZXJQaG9uZU51bWJlcjogY3VzdG9tZXJQaG9uZU51bWJlcixcbiAgICAgICAgY3VzdG9tZXJOYW1lOiBjdXN0b21lck5hbWUsXG4gICAgICAgIHJycjogXCJzdHJpbmdcIiwgLy8gUGxhY2Vob2xkZXJcbiAgICAgICAgcGF5ZXJFbWFpbDogY3VzdG9tZXJFbWFpbCxcbiAgICAgICAgcGF5ZXJOYW1lOiBjdXN0b21lck5hbWUsXG4gICAgICAgIHBheWVyTnVtYmVyOiBjdXN0b21lclBob25lTnVtYmVyLFxuICAgICAgICBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb24sXG4gICAgICAgIGJpbGxBdXRoT3B0aW9uczoge1xuICAgICAgICAgICAgcGluOiBcInN0cmluZ1wiLFxuICAgICAgICAgICAgb3RwOiBcInN0cmluZ1wiLFxuICAgICAgICAgICAgYmlvbWV0cmljUG9saWN5OiBcInN0cmluZ1wiLFxuICAgICAgICAgICAgYmlvbWV0cmljVG9rZW46IFwic3RyaW5nXCIsXG4gICAgICAgICAgICBwbGF0Zm9ybVRyYW5zYWN0aW9uUmVmZXJlbmNlOiBcInN0cmluZ1wiLFxuICAgICAgICAgICAgYXV0aGVudGljYXRpb25UeXBlOiAwXG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnaHR0cHM6Ly93ZW1hLWFsYXRkZXYtYXBpbWd0LmF6dXJlLWFwaS5uZXQvcmVtaXRhLXBheW1lbnRzL2FwaS9SZW1pdGFQYXltZW50L1BheVJlbWl0YUJpbGwnLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgJ0NhY2hlLUNvbnRyb2wnOiAnbm8tY2FjaGUnLFxuICAgICAgICAgICAgICAgICdPY3AtQXBpbS1TdWJzY3JpcHRpb24tS2V5JzogV0VNQV9BTEFUX1NVQlNDUklQVElPTl9LRVksXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlVGV4dCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJSZW1pdGEgUGF5UmVtaXRhQmlsbCByZXNwb25zZSBzdGF0dXM6XCIsIHJlc3BvbnNlLnN0YXR1cyk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiUmVtaXRhIFBheVJlbWl0YUJpbGwgcmVzcG9uc2UgYm9keTpcIiwgcmVzcG9uc2VUZXh0KTtcbiAgICAgICAgXG4gICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgY29uc3Qgdm90ZURhdGEgPSB7IGNvbnRlc3RhbnRJZCwgY29udGVzdGFudE5hbWUsIGNvbnRlc3RhbnRDYXRlZ29yeSwgbnVtYmVyT2ZWb3RlcyB9O1xuICAgICAgICAgICAgYXdhaXQgcmVjb3JkVm90ZSh2b3RlRGF0YSk7IC8vIFJlY29yZCB2b3RlIG9uIHN1Y2Nlc3NcbiAgICAgICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIG1lc3NhZ2U6IFwiUmVtaXRhIHBheW1lbnQgcHJvY2Vzc2VkIGFuZCB2b3RlIHJlY29yZGVkIHN1Y2Nlc3NmdWxseS5cIiwgZGF0YTogSlNPTi5wYXJzZShyZXNwb25zZVRleHQpIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNTAwKSB7XG4gICAgICAgICAgICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogYFJlbWl0YSBwYXltZW50IGZhaWxlZCBkdWUgdG8gYW4gaW50ZXJuYWwgc2VydmVyIGVycm9yIG9uIHRoZSBnYXRld2F5LiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyIG9yIGNvbnRhY3Qgc3VwcG9ydC5gIH07XG4gICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBgUmVtaXRhIHBheW1lbnQgZmFpbGVkOiAke3Jlc3BvbnNlVGV4dH1gIH07XG4gICAgICAgIH1cblxuICAgIH0gY2F0Y2goZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGNhbGxpbmcgUmVtaXRhIFBheVJlbWl0YUJpbGwgQVBJOlwiLCBlcnJvcik7XG4gICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJDb3VsZCBub3QgY29ubmVjdCB0byB0aGUgUmVtaXRhIHBheW1lbnQgZ2F0ZXdheS5cIiB9O1xuICAgIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHByaW50UmVtaXRhUmVjZWlwdChyZWNlaXB0RGF0YTogei5pbmZlcjx0eXBlb2YgcmVtaXRhUmVjZWlwdFNjaGVtYT4pIHtcbiAgICBjb25zdCB2YWxpZGF0ZWRGaWVsZHMgPSByZW1pdGFSZWNlaXB0U2NoZW1hLnNhZmVQYXJzZShyZWNlaXB0RGF0YSk7XG4gICAgaWYgKCF2YWxpZGF0ZWRGaWVsZHMuc3VjY2Vzcykge1xuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiSW52YWxpZCBSZW1pdGEgcmVjZWlwdCBkYXRhLlwiIH07XG4gICAgfVxuXG4gICAgY29uc3QgeyBycnIgfSA9IHZhbGlkYXRlZEZpZWxkcy5kYXRhO1xuXG4gICAgY29uc3QgcmVtaXRhVXJsID0gYGh0dHBzOi8vd2VtYS1hbGF0ZGV2LWFwaW1ndC5henVyZS1hcGkubmV0L3JlbWl0YS1wYXltZW50cy9hcGkvUmVtaXRhUGF5bWVudC9QcmludFJlbWl0YVJlY2VpcHQvJHtycnJ9YDtcblxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2gocmVtaXRhVXJsLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICdDYWNoZS1Db250cm9sJzogJ25vLWNhY2hlJyxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgcmVzcG9uc2VUZXh0ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xuICAgICAgICBjb25zb2xlLmxvZyhcIlJlbWl0YSBQcmludFJlbWl0YVJlY2VpcHQgcmVzcG9uc2Ugc3RhdHVzOlwiLCByZXNwb25zZS5zdGF0dXMpO1xuICAgICAgICBjb25zb2xlLmxvZyhcIlJlbWl0YSBQcmludFJlbWl0YVJlY2VpcHQgcmVzcG9uc2UgYm9keTpcIiwgcmVzcG9uc2VUZXh0KTtcbiAgICAgICAgXG4gICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgcmVjZWlwdERhdGE6IHJlc3BvbnNlVGV4dCB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBgRmFpbGVkIHRvIGZldGNoIFJlbWl0YSByZWNlaXB0OiAke3Jlc3BvbnNlVGV4dH1gIH07XG4gICAgICAgIH1cblxuICAgIH0gY2F0Y2goZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGNhbGxpbmcgUmVtaXRhIFByaW50UmVtaXRhUmVjZWlwdCBBUEk6XCIsIGVycm9yKTtcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkNvdWxkIG5vdCBjb25uZWN0IHRvIHRoZSBSZW1pdGEgcGF5bWVudCBnYXRld2F5IHRvIHByaW50IHJlY2VpcHQuXCIgfTtcbiAgICB9XG59XG5cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHZhbGlkYXRlUmVtaXRhUnJyKHZhbGlkYXRpb25EYXRhOiB6LmluZmVyPHR5cGVvZiByZW1pdGFScnJWYWxpZGF0aW9uU2NoZW1hPikge1xuICAgIGNvbnN0IHZhbGlkYXRlZEZpZWxkcyA9IHJlbWl0YVJyclZhbGlkYXRpb25TY2hlbWEuc2FmZVBhcnNlKHZhbGlkYXRpb25EYXRhKTtcbiAgICBpZiAoIXZhbGlkYXRlZEZpZWxkcy5zdWNjZXNzKSB7XG4gICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJJbnZhbGlkIFJlbWl0YSBSUlIgdmFsaWRhdGlvbiBkYXRhLlwiIH07XG4gICAgfVxuXG4gICAgY29uc3QgeyBycnIsIGNoYW5uZWxJZCB9ID0gdmFsaWRhdGVkRmllbGRzLmRhdGE7XG5cbiAgICBjb25zdCByZW1pdGFVcmwgPSBgaHR0cHM6Ly93ZW1hLWFsYXRkZXYtYXBpbWd0LmF6dXJlLWFwaS5uZXQvcmVtaXRhLXBheW1lbnRzL2FwaS9SZW1pdGFQYXltZW50L1ZhbGlkYXRlUnJyLyR7cnJyfS8ke2NoYW5uZWxJZH1gO1xuXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChyZW1pdGFVcmwsIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgJ0NhY2hlLUNvbnRyb2wnOiAnbm8tY2FjaGUnLFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCByZXNwb25zZVRleHQgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiUmVtaXRhIFZhbGlkYXRlUnJyIHJlc3BvbnNlIHN0YXR1czpcIiwgcmVzcG9uc2Uuc3RhdHVzKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJSZW1pdGEgVmFsaWRhdGVScnIgcmVzcG9uc2UgYm9keTpcIiwgcmVzcG9uc2VUZXh0KTtcbiAgICAgICAgXG4gICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgbWVzc2FnZTogXCJSZW1pdGEgUlJSIHZhbGlkYXRlZCBzdWNjZXNzZnVsbHkuXCIsIGRhdGE6IEpTT04ucGFyc2UocmVzcG9uc2VUZXh0KSB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBgRmFpbGVkIHRvIHZhbGlkYXRlIFJlbWl0YSBSUlI6ICR7cmVzcG9uc2VUZXh0fWAgfTtcbiAgICAgICAgfVxuXG4gICAgfSBjYXRjaChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgY2FsbGluZyBSZW1pdGEgVmFsaWRhdGVScnIgQVBJOlwiLCBlcnJvcik7XG4gICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJDb3VsZCBub3QgY29ubmVjdCB0byB0aGUgUmVtaXRhIHBheW1lbnQgZ2F0ZXdheSB0byB2YWxpZGF0ZSBSUlIuXCIgfTtcbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6ImlTQXNOc0IifQ==
}}),
"[project]/src/components/ui/tabs.tsx [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "Tabs": (()=>Tabs),
    "TabsContent": (()=>TabsContent),
    "TabsList": (()=>TabsList),
    "TabsTrigger": (()=>TabsTrigger)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$radix$2d$ui$2f$react$2d$tabs$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@radix-ui/react-tabs/dist/index.mjs [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/lib/utils.ts [app-ssr] (ecmascript)");
"use client";
;
;
;
;
const Tabs = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$radix$2d$ui$2f$react$2d$tabs$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Root"];
const TabsList = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["forwardRef"])(({ className, ...props }, ref)=>/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$radix$2d$ui$2f$react$2d$tabs$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["List"], {
        ref: ref,
        className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["cn"])("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground", className),
        ...props
    }, void 0, false, {
        fileName: "[project]/src/components/ui/tabs.tsx",
        lineNumber: 14,
        columnNumber: 3
    }, this));
TabsList.displayName = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$radix$2d$ui$2f$react$2d$tabs$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["List"].displayName;
const TabsTrigger = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["forwardRef"])(({ className, ...props }, ref)=>/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$radix$2d$ui$2f$react$2d$tabs$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Trigger"], {
        ref: ref,
        className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["cn"])("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm", className),
        ...props
    }, void 0, false, {
        fileName: "[project]/src/components/ui/tabs.tsx",
        lineNumber: 29,
        columnNumber: 3
    }, this));
TabsTrigger.displayName = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$radix$2d$ui$2f$react$2d$tabs$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Trigger"].displayName;
const TabsContent = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["forwardRef"])(({ className, ...props }, ref)=>/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$radix$2d$ui$2f$react$2d$tabs$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Content"], {
        ref: ref,
        className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["cn"])("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2", className),
        ...props
    }, void 0, false, {
        fileName: "[project]/src/components/ui/tabs.tsx",
        lineNumber: 44,
        columnNumber: 3
    }, this));
TabsContent.displayName = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$radix$2d$ui$2f$react$2d$tabs$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Content"].displayName;
;
}}),
"[project]/src/app/checkout/page.tsx [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "default": (()=>CheckoutPage)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$image$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/image.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$navigation$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/navigation.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$card$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/ui/card.tsx [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$button$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/ui/button.tsx [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$arrow$2d$left$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__ArrowLeft$3e$__ = __turbopack_context__.i("[project]/node_modules/lucide-react/dist/esm/icons/arrow-left.js [app-ssr] (ecmascript) <export default as ArrowLeft>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$loader$2d$circle$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__Loader2$3e$__ = __turbopack_context__.i("[project]/node_modules/lucide-react/dist/esm/icons/loader-circle.js [app-ssr] (ecmascript) <export default as Loader2>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$circle$2d$check$2d$big$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__CheckCircle$3e$__ = __turbopack_context__.i("[project]/node_modules/lucide-react/dist/esm/icons/circle-check-big.js [app-ssr] (ecmascript) <export default as CheckCircle>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$shield$2d$check$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__ShieldCheck$3e$__ = __turbopack_context__.i("[project]/node_modules/lucide-react/dist/esm/icons/shield-check.js [app-ssr] (ecmascript) <export default as ShieldCheck>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$credit$2d$card$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__CreditCard$3e$__ = __turbopack_context__.i("[project]/node_modules/lucide-react/dist/esm/icons/credit-card.js [app-ssr] (ecmascript) <export default as CreditCard>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$banknote$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__Banknote$3e$__ = __turbopack_context__.i("[project]/node_modules/lucide-react/dist/esm/icons/banknote.js [app-ssr] (ecmascript) <export default as Banknote>");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$hooks$2f$use$2d$toast$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/hooks/use-toast.ts [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$client$2f$app$2d$dir$2f$link$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/client/app-dir/link.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$app$2f$data$3a$238600__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__ = __turbopack_context__.i("[project]/src/app/data:238600 [app-ssr] (ecmascript) <text/javascript>");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$app$2f$data$3a$f9207a__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__ = __turbopack_context__.i("[project]/src/app/data:f9207a [app-ssr] (ecmascript) <text/javascript>");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$app$2f$data$3a$8b1925__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__ = __turbopack_context__.i("[project]/src/app/data:8b1925 [app-ssr] (ecmascript) <text/javascript>");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$app$2f$data$3a$966b11__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__ = __turbopack_context__.i("[project]/src/app/data:966b11 [app-ssr] (ecmascript) <text/javascript>");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$input$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/ui/input.tsx [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$tabs$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/ui/tabs.tsx [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$label$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/ui/label.tsx [app-ssr] (ecmascript)");
"use client";
;
;
;
;
;
;
;
;
;
;
;
;
;
const VOTE_COST_PER_VOTE = 100;
function CheckoutView() {
    const searchParams = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$navigation$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useSearchParams"])();
    const router = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$navigation$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRouter"])();
    const { toast } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$hooks$2f$use$2d$toast$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useToast"])();
    const [isPending, startTransition] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useTransition"])();
    const [isConfirmingOtp, startOtpTransition] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useTransition"])();
    const [view, setView] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])('confirm');
    const [otp, setOtp] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])('');
    const [paymentData, setPaymentData] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(null);
    // Form state for Paystack and Remita
    const [customerName, setCustomerName] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])('');
    const [customerEmail, setCustomerEmail] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])('');
    const [customerPhone, setCustomerPhone] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])('');
    const contestantId = searchParams.get('id');
    const contestantName = searchParams.get('name') || 'the selected contestant';
    const contestantCategory = searchParams.get('category') || 'their category';
    const numberOfVotes = parseInt(searchParams.get('votes') || '1', 10);
    const totalVoteCost = VOTE_COST_PER_VOTE * (numberOfVotes - (numberOfVotes === 12 ? 2 : numberOfVotes === 53 ? 3 : numberOfVotes === 105 ? 5 : numberOfVotes === 510 ? 10 : numberOfVotes === 1020 ? 20 : 0));
    const contestantImage = `https://placehold.co/400x500.png?text=${encodeURIComponent(contestantName.split(' ').map((n)=>n[0]).join(''))}`;
    const handlePaystackPayment = ()=>{
        if (!contestantId || !customerEmail) {
            toast({
                title: "Email is required",
                description: "Please enter your email address to pay with Paystack.",
                variant: "destructive"
            });
            return;
        }
        startTransition(async ()=>{
            const result = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$app$2f$data$3a$966b11__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__["createPaystackPayment"])({
                email: customerEmail,
                amount: totalVoteCost,
                metadata: {
                    contestantId,
                    contestantName,
                    contestantCategory,
                    numberOfVotes
                }
            });
            if (result.success && result.authorizationUrl) {
                // Redirect to Paystack's payment page
                router.push(result.authorizationUrl);
            } else {
                toast({
                    title: "Paystack Error",
                    description: result.error || "Could not initiate Paystack payment. Please try again.",
                    variant: "destructive"
                });
            }
        });
    };
    const handleInitialPayment = ()=>{
        if (!contestantId) return;
        startTransition(async ()=>{
            const result = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$app$2f$data$3a$238600__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__["createWemaAlatPayment"])({
                amount: totalVoteCost,
                contestantId,
                contestantName,
                contestantCategory,
                numberOfVotes
            });
            if (result.success && result.data) {
                toast({
                    title: "Awaiting Confirmation",
                    description: "Please enter the OTP sent to you to complete the vote."
                });
                setPaymentData(result.data);
                setView('otp');
            } else {
                toast({
                    title: "Payment Error",
                    description: result.error || "Could not process payment. Please try again.",
                    variant: "destructive"
                });
            }
        });
    };
    const handleRemitaPayment = ()=>{
        if (!contestantId || !customerName || !customerEmail || !customerPhone) {
            toast({
                title: "Missing Information",
                description: "Please fill out all fields for the Remita payment.",
                variant: "destructive"
            });
            return;
        }
        startTransition(async ()=>{
            const transactionReference = `SRF-VOTE-REMITA-${contestantId}-${Date.now()}`;
            const result = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$app$2f$data$3a$8b1925__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__["createRemitaPayment"])({
                amount: totalVoteCost,
                charge: 0,
                transactionReference,
                customerEmail: customerEmail,
                customerName: customerName,
                customerPhoneNumber: customerPhone,
                description: `Vote for ${contestantName}`,
                // Pass vote data through for recording
                contestantId,
                contestantName,
                contestantCategory,
                numberOfVotes
            });
            if (result.success) {
                toast({
                    title: "Remita Payment Successful",
                    description: "Your payment has been processed and your vote recorded."
                });
                // In a real scenario, you might redirect to a Remita page or handle their response.
                // For now, we'll go to the success view.
                setView('success');
            } else {
                toast({
                    title: "Remita Payment Failed",
                    description: result.error || "Could not process Remita payment. Please try again.",
                    variant: "destructive"
                });
            }
        });
    };
    const handleOtpValidation = ()=>{
        if (!paymentData || !otp || !contestantId) return;
        startOtpTransition(async ()=>{
            const validationResult = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$app$2f$data$3a$f9207a__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__["validateWemaAlatPayment"])({
                ...paymentData,
                otp
            });
            if (validationResult.success) {
                toast({
                    title: "Vote Successful!",
                    description: validationResult.message || "Your payment has been processed and your vote has been recorded."
                });
                setView('success');
            } else {
                toast({
                    title: "OTP Validation Failed",
                    description: validationResult.error || "The OTP you entered is incorrect. Please try again.",
                    variant: "destructive"
                });
            }
        });
    };
    if (!contestantId) {
        return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
            className: "text-center text-white",
            children: [
                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("h2", {
                    className: "text-2xl font-bold text-amber-400",
                    children: "Invalid Selection"
                }, void 0, false, {
                    fileName: "[project]/src/app/checkout/page.tsx",
                    lineNumber: 191,
                    columnNumber: 17
                }, this),
                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                    className: "text-zinc-300 mt-2",
                    children: "No contestant was selected. Please go back and choose a nominee to vote for."
                }, void 0, false, {
                    fileName: "[project]/src/app/checkout/page.tsx",
                    lineNumber: 192,
                    columnNumber: 17
                }, this),
                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$button$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Button"], {
                    asChild: true,
                    className: "mt-6 bg-amber-500 text-black hover:bg-amber-400",
                    children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$client$2f$app$2d$dir$2f$link$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"], {
                        href: "/vote",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$arrow$2d$left$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__ArrowLeft$3e$__["ArrowLeft"], {
                                className: "mr-2 h-4 w-4"
                            }, void 0, false, {
                                fileName: "[project]/src/app/checkout/page.tsx",
                                lineNumber: 195,
                                columnNumber: 25
                            }, this),
                            " Go Back to Vote"
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/app/checkout/page.tsx",
                        lineNumber: 194,
                        columnNumber: 21
                    }, this)
                }, void 0, false, {
                    fileName: "[project]/src/app/checkout/page.tsx",
                    lineNumber: 193,
                    columnNumber: 17
                }, this)
            ]
        }, void 0, true, {
            fileName: "[project]/src/app/checkout/page.tsx",
            lineNumber: 190,
            columnNumber: 13
        }, this);
    }
    if (view === 'success') {
        return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$card$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Card"], {
            className: "bg-zinc-900/50 border-green-400/30 text-white shadow-2xl shadow-green-500/10 text-center",
            children: [
                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$card$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CardHeader"], {
                    children: [
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            className: "mx-auto bg-green-500 text-black rounded-full h-16 w-16 flex items-center justify-center mb-4",
                            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$circle$2d$check$2d$big$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__CheckCircle$3e$__["CheckCircle"], {
                                className: "h-10 w-10"
                            }, void 0, false, {
                                fileName: "[project]/src/app/checkout/page.tsx",
                                lineNumber: 207,
                                columnNumber: 21
                            }, this)
                        }, void 0, false, {
                            fileName: "[project]/src/app/checkout/page.tsx",
                            lineNumber: 206,
                            columnNumber: 17
                        }, this),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$card$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CardTitle"], {
                            className: "font-headline text-3xl text-green-400",
                            children: "Payment Successful!"
                        }, void 0, false, {
                            fileName: "[project]/src/app/checkout/page.tsx",
                            lineNumber: 209,
                            columnNumber: 17
                        }, this),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$card$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CardDescription"], {
                            className: "text-zinc-300",
                            children: [
                                "Your vote for ",
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                    className: "font-bold text-white",
                                    children: contestantName
                                }, void 0, false, {
                                    fileName: "[project]/src/app/checkout/page.tsx",
                                    lineNumber: 210,
                                    columnNumber: 74
                                }, this),
                                " has been confirmed."
                            ]
                        }, void 0, true, {
                            fileName: "[project]/src/app/checkout/page.tsx",
                            lineNumber: 210,
                            columnNumber: 17
                        }, this)
                    ]
                }, void 0, true, {
                    fileName: "[project]/src/app/checkout/page.tsx",
                    lineNumber: 205,
                    columnNumber: 13
                }, this),
                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$card$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CardContent"], {
                    children: [
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                            className: "text-zinc-400 mb-6",
                            children: "Thank you for participating in the SR Fitness Awards!"
                        }, void 0, false, {
                            fileName: "[project]/src/app/checkout/page.tsx",
                            lineNumber: 213,
                            columnNumber: 18
                        }, this),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$button$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Button"], {
                            asChild: true,
                            className: "bg-amber-500 text-black hover:bg-amber-400",
                            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$client$2f$app$2d$dir$2f$link$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"], {
                                href: "/vote",
                                children: "Vote Again"
                            }, void 0, false, {
                                fileName: "[project]/src/app/checkout/page.tsx",
                                lineNumber: 215,
                                columnNumber: 21
                            }, this)
                        }, void 0, false, {
                            fileName: "[project]/src/app/checkout/page.tsx",
                            lineNumber: 214,
                            columnNumber: 18
                        }, this)
                    ]
                }, void 0, true, {
                    fileName: "[project]/src/app/checkout/page.tsx",
                    lineNumber: 212,
                    columnNumber: 13
                }, this)
            ]
        }, void 0, true, {
            fileName: "[project]/src/app/checkout/page.tsx",
            lineNumber: 204,
            columnNumber: 9
        }, this);
    }
    if (view === 'otp') {
        return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$card$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Card"], {
            className: "bg-zinc-900/50 border-amber-400/30 text-white shadow-2xl shadow-amber-500/10",
            children: [
                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$card$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CardHeader"], {
                    children: [
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            className: "mx-auto bg-amber-500 text-black rounded-full h-16 w-16 flex items-center justify-center mb-4",
                            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$shield$2d$check$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__ShieldCheck$3e$__["ShieldCheck"], {
                                className: "h-10 w-10"
                            }, void 0, false, {
                                fileName: "[project]/src/app/checkout/page.tsx",
                                lineNumber: 229,
                                columnNumber: 25
                            }, this)
                        }, void 0, false, {
                            fileName: "[project]/src/app/checkout/page.tsx",
                            lineNumber: 228,
                            columnNumber: 22
                        }, this),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$card$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CardTitle"], {
                            className: "font-headline text-3xl text-amber-400 text-center",
                            children: "Enter Your OTP"
                        }, void 0, false, {
                            fileName: "[project]/src/app/checkout/page.tsx",
                            lineNumber: 231,
                            columnNumber: 21
                        }, this),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$card$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CardDescription"], {
                            className: "text-zinc-400 text-center",
                            children: "A One-Time Password has been sent to you. Please enter it below to complete your transaction."
                        }, void 0, false, {
                            fileName: "[project]/src/app/checkout/page.tsx",
                            lineNumber: 232,
                            columnNumber: 21
                        }, this)
                    ]
                }, void 0, true, {
                    fileName: "[project]/src/app/checkout/page.tsx",
                    lineNumber: 227,
                    columnNumber: 17
                }, this),
                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$card$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CardContent"], {
                    children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$input$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Input"], {
                        type: "text",
                        placeholder: "Enter OTP",
                        value: otp,
                        onChange: (e)=>setOtp(e.target.value),
                        className: "bg-zinc-800 border-zinc-700 focus:ring-amber-400 text-center text-lg h-12",
                        maxLength: 6
                    }, void 0, false, {
                        fileName: "[project]/src/app/checkout/page.tsx",
                        lineNumber: 235,
                        columnNumber: 21
                    }, this)
                }, void 0, false, {
                    fileName: "[project]/src/app/checkout/page.tsx",
                    lineNumber: 234,
                    columnNumber: 17
                }, this),
                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$card$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CardFooter"], {
                    children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$button$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Button"], {
                        size: "lg",
                        className: "w-full mt-4 bg-amber-500 text-black font-bold text-lg hover:bg-amber-400 disabled:bg-zinc-600",
                        onClick: handleOtpValidation,
                        disabled: isConfirmingOtp || otp.length < 4,
                        children: [
                            isConfirmingOtp ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$loader$2d$circle$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__Loader2$3e$__["Loader2"], {
                                className: "mr-2 h-4 w-4 animate-spin"
                            }, void 0, false, {
                                fileName: "[project]/src/app/checkout/page.tsx",
                                lineNumber: 251,
                                columnNumber: 44
                            }, this) : null,
                            isConfirmingOtp ? 'Confirming...' : 'Validate & Complete Vote'
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/app/checkout/page.tsx",
                        lineNumber: 245,
                        columnNumber: 21
                    }, this)
                }, void 0, false, {
                    fileName: "[project]/src/app/checkout/page.tsx",
                    lineNumber: 244,
                    columnNumber: 17
                }, this)
            ]
        }, void 0, true, {
            fileName: "[project]/src/app/checkout/page.tsx",
            lineNumber: 226,
            columnNumber: 13
        }, this);
    }
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$card$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Card"], {
        className: "bg-zinc-900/50 border-amber-400/30 text-white shadow-2xl shadow-amber-500/10",
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$card$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CardHeader"], {
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$card$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CardTitle"], {
                        className: "font-headline text-3xl text-amber-400",
                        children: "Confirm Your Vote"
                    }, void 0, false, {
                        fileName: "[project]/src/app/checkout/page.tsx",
                        lineNumber: 263,
                        columnNumber: 17
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$card$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CardDescription"], {
                        className: "text-zinc-400",
                        children: "Please review the details below and choose a payment method."
                    }, void 0, false, {
                        fileName: "[project]/src/app/checkout/page.tsx",
                        lineNumber: 264,
                        columnNumber: 17
                    }, this)
                ]
            }, void 0, true, {
                fileName: "[project]/src/app/checkout/page.tsx",
                lineNumber: 262,
                columnNumber: 13
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$card$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CardContent"], {
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "flex items-center space-x-4 mb-6",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$image$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"], {
                                src: contestantImage,
                                alt: contestantName,
                                width: 100,
                                height: 125,
                                className: "rounded-lg border-2 border-amber-400/50"
                            }, void 0, false, {
                                fileName: "[project]/src/app/checkout/page.tsx",
                                lineNumber: 268,
                                columnNumber: 21
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("h3", {
                                        className: "text-2xl font-bold text-white",
                                        children: contestantName
                                    }, void 0, false, {
                                        fileName: "[project]/src/app/checkout/page.tsx",
                                        lineNumber: 270,
                                        columnNumber: 25
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                        className: "text-amber-300",
                                        children: contestantCategory
                                    }, void 0, false, {
                                        fileName: "[project]/src/app/checkout/page.tsx",
                                        lineNumber: 271,
                                        columnNumber: 25
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                        className: "text-sm text-zinc-300 mt-1",
                                        children: [
                                            "Number of Votes: ",
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                className: "font-bold",
                                                children: numberOfVotes
                                            }, void 0, false, {
                                                fileName: "[project]/src/app/checkout/page.tsx",
                                                lineNumber: 272,
                                                columnNumber: 84
                                            }, this)
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/src/app/checkout/page.tsx",
                                        lineNumber: 272,
                                        columnNumber: 25
                                    }, this)
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/app/checkout/page.tsx",
                                lineNumber: 269,
                                columnNumber: 21
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/app/checkout/page.tsx",
                        lineNumber: 267,
                        columnNumber: 17
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "border-t border-zinc-700 pt-4 flex justify-between items-center text-xl",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                className: "text-zinc-300",
                                children: "Total Cost:"
                            }, void 0, false, {
                                fileName: "[project]/src/app/checkout/page.tsx",
                                lineNumber: 276,
                                columnNumber: 21
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                className: "font-bold text-amber-400",
                                children: [
                                    "N",
                                    totalVoteCost.toFixed(2)
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/app/checkout/page.tsx",
                                lineNumber: 277,
                                columnNumber: 21
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/app/checkout/page.tsx",
                        lineNumber: 275,
                        columnNumber: 17
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$tabs$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Tabs"], {
                        defaultValue: "paystack",
                        className: "w-full mt-8",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$tabs$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["TabsList"], {
                                className: "grid w-full grid-cols-3 bg-zinc-800/50",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$tabs$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["TabsTrigger"], {
                                        value: "paystack",
                                        className: "data-[state=active]:bg-amber-500/10 data-[state=active]:text-amber-300 text-zinc-400",
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$image$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"], {
                                                src: "https://files.paystack.co/assets/payment-channel/logo/card.png",
                                                width: 20,
                                                height: 20,
                                                alt: "Paystack",
                                                className: "mr-2"
                                            }, void 0, false, {
                                                fileName: "[project]/src/app/checkout/page.tsx",
                                                lineNumber: 283,
                                                columnNumber: 30
                                            }, this),
                                            " Paystack"
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/src/app/checkout/page.tsx",
                                        lineNumber: 282,
                                        columnNumber: 25
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$tabs$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["TabsTrigger"], {
                                        value: "alat",
                                        className: "data-[state=active]:bg-amber-500/10 data-[state=active]:text-amber-300 text-zinc-400",
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$banknote$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__Banknote$3e$__["Banknote"], {
                                                className: "mr-2 h-4 w-4"
                                            }, void 0, false, {
                                                fileName: "[project]/src/app/checkout/page.tsx",
                                                lineNumber: 285,
                                                columnNumber: 148
                                            }, this),
                                            " Wema ALAT"
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/src/app/checkout/page.tsx",
                                        lineNumber: 285,
                                        columnNumber: 25
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$tabs$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["TabsTrigger"], {
                                        value: "remita",
                                        className: "data-[state=active]:bg-amber-500/10 data-[state=active]:text-amber-300 text-zinc-400",
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$credit$2d$card$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__CreditCard$3e$__["CreditCard"], {
                                                className: "mr-2 h-4 w-4"
                                            }, void 0, false, {
                                                fileName: "[project]/src/app/checkout/page.tsx",
                                                lineNumber: 286,
                                                columnNumber: 150
                                            }, this),
                                            " Remita"
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/src/app/checkout/page.tsx",
                                        lineNumber: 286,
                                        columnNumber: 25
                                    }, this)
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/app/checkout/page.tsx",
                                lineNumber: 281,
                                columnNumber: 21
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$tabs$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["TabsContent"], {
                                value: "paystack",
                                className: "mt-4 space-y-4",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                        className: "text-xs text-zinc-500 mb-2 text-center",
                                        children: "Securely pay with Card, Bank, USSD, etc. via Paystack."
                                    }, void 0, false, {
                                        fileName: "[project]/src/app/checkout/page.tsx",
                                        lineNumber: 290,
                                        columnNumber: 25
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        className: "space-y-2",
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$label$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Label"], {
                                                htmlFor: "customerEmail",
                                                className: "text-zinc-400",
                                                children: "Email Address"
                                            }, void 0, false, {
                                                fileName: "[project]/src/app/checkout/page.tsx",
                                                lineNumber: 294,
                                                columnNumber: 30
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$input$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Input"], {
                                                id: "customerEmail",
                                                type: "email",
                                                placeholder: "your.email@example.com",
                                                value: customerEmail,
                                                onChange: (e)=>setCustomerEmail(e.target.value),
                                                className: "bg-zinc-800 border-zinc-700 focus:ring-amber-400"
                                            }, void 0, false, {
                                                fileName: "[project]/src/app/checkout/page.tsx",
                                                lineNumber: 295,
                                                columnNumber: 29
                                            }, this)
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/src/app/checkout/page.tsx",
                                        lineNumber: 293,
                                        columnNumber: 25
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$button$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Button"], {
                                        size: "lg",
                                        className: "w-full bg-amber-500 text-black font-bold text-lg hover:bg-amber-400 disabled:bg-zinc-600",
                                        onClick: handlePaystackPayment,
                                        disabled: isPending || !customerEmail,
                                        children: [
                                            isPending ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$loader$2d$circle$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__Loader2$3e$__["Loader2"], {
                                                className: "mr-2 h-4 w-4 animate-spin"
                                            }, void 0, false, {
                                                fileName: "[project]/src/app/checkout/page.tsx",
                                                lineNumber: 303,
                                                columnNumber: 43
                                            }, this) : null,
                                            isPending ? 'Processing...' : 'Pay with Paystack'
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/src/app/checkout/page.tsx",
                                        lineNumber: 297,
                                        columnNumber: 25
                                    }, this)
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/app/checkout/page.tsx",
                                lineNumber: 289,
                                columnNumber: 21
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$tabs$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["TabsContent"], {
                                value: "alat",
                                className: "mt-4",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                        className: "text-xs text-zinc-500 mb-4 text-center",
                                        children: "Pay via direct bank transfer. You will be asked to enter an OTP in the next step."
                                    }, void 0, false, {
                                        fileName: "[project]/src/app/checkout/page.tsx",
                                        lineNumber: 309,
                                        columnNumber: 25
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$button$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Button"], {
                                        size: "lg",
                                        className: "w-full bg-amber-500 text-black font-bold text-lg hover:bg-amber-400 disabled:bg-zinc-600 disabled:text-zinc-400 disabled:cursor-not-allowed transition-all duration-300 transform hover:scale-105",
                                        onClick: handleInitialPayment,
                                        disabled: isPending,
                                        children: [
                                            isPending ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$loader$2d$circle$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__Loader2$3e$__["Loader2"], {
                                                className: "mr-2 h-4 w-4 animate-spin"
                                            }, void 0, false, {
                                                fileName: "[project]/src/app/checkout/page.tsx",
                                                lineNumber: 318,
                                                columnNumber: 43
                                            }, this) : null,
                                            isPending ? 'Processing...' : 'Pay with ALAT'
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/src/app/checkout/page.tsx",
                                        lineNumber: 312,
                                        columnNumber: 26
                                    }, this)
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/app/checkout/page.tsx",
                                lineNumber: 308,
                                columnNumber: 21
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$tabs$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["TabsContent"], {
                                value: "remita",
                                className: "mt-4 space-y-4",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                        className: "text-xs text-zinc-500 mb-2 text-center",
                                        children: "Pay using Remita. Please fill out your details below."
                                    }, void 0, false, {
                                        fileName: "[project]/src/app/checkout/page.tsx",
                                        lineNumber: 323,
                                        columnNumber: 25
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        className: "space-y-2",
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$label$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Label"], {
                                                htmlFor: "customerName",
                                                className: "text-zinc-400",
                                                children: "Full Name"
                                            }, void 0, false, {
                                                fileName: "[project]/src/app/checkout/page.tsx",
                                                lineNumber: 327,
                                                columnNumber: 29
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$input$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Input"], {
                                                id: "customerName",
                                                placeholder: "Your Full Name",
                                                value: customerName,
                                                onChange: (e)=>setCustomerName(e.target.value),
                                                className: "bg-zinc-800 border-zinc-700 focus:ring-amber-400"
                                            }, void 0, false, {
                                                fileName: "[project]/src/app/checkout/page.tsx",
                                                lineNumber: 328,
                                                columnNumber: 29
                                            }, this)
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/src/app/checkout/page.tsx",
                                        lineNumber: 326,
                                        columnNumber: 26
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        className: "space-y-2",
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$label$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Label"], {
                                                htmlFor: "customerEmailRemita",
                                                className: "text-zinc-400",
                                                children: "Email Address"
                                            }, void 0, false, {
                                                fileName: "[project]/src/app/checkout/page.tsx",
                                                lineNumber: 331,
                                                columnNumber: 30
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$input$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Input"], {
                                                id: "customerEmailRemita",
                                                type: "email",
                                                placeholder: "your.email@example.com",
                                                value: customerEmail,
                                                onChange: (e)=>setCustomerEmail(e.target.value),
                                                className: "bg-zinc-800 border-zinc-700 focus:ring-amber-400"
                                            }, void 0, false, {
                                                fileName: "[project]/src/app/checkout/page.tsx",
                                                lineNumber: 332,
                                                columnNumber: 29
                                            }, this)
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/src/app/checkout/page.tsx",
                                        lineNumber: 330,
                                        columnNumber: 25
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        className: "space-y-2",
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$label$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Label"], {
                                                htmlFor: "customerPhone",
                                                className: "text-zinc-400",
                                                children: "Phone Number"
                                            }, void 0, false, {
                                                fileName: "[project]/src/app/checkout/page.tsx",
                                                lineNumber: 335,
                                                columnNumber: 30
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$input$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Input"], {
                                                id: "customerPhone",
                                                placeholder: "Your Phone Number",
                                                value: customerPhone,
                                                onChange: (e)=>setCustomerPhone(e.target.value),
                                                className: "bg-zinc-800 border-zinc-700 focus:ring-amber-400"
                                            }, void 0, false, {
                                                fileName: "[project]/src/app/checkout/page.tsx",
                                                lineNumber: 336,
                                                columnNumber: 29
                                            }, this)
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/src/app/checkout/page.tsx",
                                        lineNumber: 334,
                                        columnNumber: 26
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$ui$2f$button$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Button"], {
                                        size: "lg",
                                        className: "w-full bg-amber-500 text-black font-bold text-lg hover:bg-amber-400 disabled:bg-zinc-600",
                                        onClick: handleRemitaPayment,
                                        disabled: isPending,
                                        children: [
                                            isPending ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$loader$2d$circle$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__default__as__Loader2$3e$__["Loader2"], {
                                                className: "mr-2 h-4 w-4 animate-spin"
                                            }, void 0, false, {
                                                fileName: "[project]/src/app/checkout/page.tsx",
                                                lineNumber: 344,
                                                columnNumber: 43
                                            }, this) : null,
                                            isPending ? 'Processing...' : 'Pay with Remita'
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/src/app/checkout/page.tsx",
                                        lineNumber: 338,
                                        columnNumber: 25
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                        className: "text-xs text-zinc-500 mt-2 text-center italic",
                                        children: "Note: The Remita payment flow is currently conceptual and has placeholder values."
                                    }, void 0, false, {
                                        fileName: "[project]/src/app/checkout/page.tsx",
                                        lineNumber: 347,
                                        columnNumber: 25
                                    }, this)
                                ]
                            }, void 0, true, {
                                fileName: "[project]/src/app/checkout/page.tsx",
                                lineNumber: 322,
                                columnNumber: 21
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/app/checkout/page.tsx",
                        lineNumber: 280,
                        columnNumber: 17
                    }, this)
                ]
            }, void 0, true, {
                fileName: "[project]/src/app/checkout/page.tsx",
                lineNumber: 266,
                columnNumber: 13
            }, this)
        ]
    }, void 0, true, {
        fileName: "[project]/src/app/checkout/page.tsx",
        lineNumber: 261,
        columnNumber: 9
    }, this);
}
function CheckoutPage() {
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        className: "bg-black text-white min-h-screen",
        style: {
            backgroundImage: `url('/black-bg.jpeg')`,
            backgroundSize: 'cover',
            backgroundPosition: 'center',
            backgroundAttachment: 'fixed'
        },
        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
            className: "bg-black/80 backdrop-blur-sm min-h-screen flex items-center justify-center",
            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "container mx-auto px-4 sm:px-6 lg:px-8 py-16 md:py-24",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("header", {
                        className: "text-center mb-12",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$image$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"], {
                                src: "/SR.jpg",
                                alt: "SR Fitness Awards Logo",
                                width: 96,
                                height: 96,
                                className: "h-24 w-24 mx-auto mb-4 rounded-full",
                                "data-ai-hint": "awards logo"
                            }, void 0, false, {
                                fileName: "[project]/src/app/checkout/page.tsx",
                                lineNumber: 368,
                                columnNumber: 25
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("h1", {
                                className: "font-headline text-5xl text-amber-400",
                                children: "Vote Checkout"
                            }, void 0, false, {
                                fileName: "[project]/src/app/checkout/page.tsx",
                                lineNumber: 369,
                                columnNumber: 25
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/src/app/checkout/page.tsx",
                        lineNumber: 367,
                        columnNumber: 22
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("main", {
                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Suspense"], {
                            fallback: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "text-center text-white",
                                children: "Loading..."
                            }, void 0, false, {
                                fileName: "[project]/src/app/checkout/page.tsx",
                                lineNumber: 372,
                                columnNumber: 43
                            }, void 0),
                            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(CheckoutView, {}, void 0, false, {
                                fileName: "[project]/src/app/checkout/page.tsx",
                                lineNumber: 373,
                                columnNumber: 25
                            }, this)
                        }, void 0, false, {
                            fileName: "[project]/src/app/checkout/page.tsx",
                            lineNumber: 372,
                            columnNumber: 23
                        }, this)
                    }, void 0, false, {
                        fileName: "[project]/src/app/checkout/page.tsx",
                        lineNumber: 371,
                        columnNumber: 21
                    }, this)
                ]
            }, void 0, true, {
                fileName: "[project]/src/app/checkout/page.tsx",
                lineNumber: 366,
                columnNumber: 17
            }, this)
        }, void 0, false, {
            fileName: "[project]/src/app/checkout/page.tsx",
            lineNumber: 365,
            columnNumber: 13
        }, this)
    }, void 0, false, {
        fileName: "[project]/src/app/checkout/page.tsx",
        lineNumber: 359,
        columnNumber: 9
    }, this);
}
}}),

};

//# sourceMappingURL=src_5877a132._.js.map